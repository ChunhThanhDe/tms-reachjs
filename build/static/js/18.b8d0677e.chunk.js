(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[18],{447:function(e,t,a){"use strict";var n=a(24),i=a(1);t.a=Object(n.a)(Object(i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},680:function(e,t,a){"use strict";a.r(t);var n=a(57),i=a(438),r=a(2),c=a(17),s=a(27),l=a(9),o=a(3),d=a(328),j=a(320),b=a(168),u=a(429),h=a(430),m=a(325),p=a(55),x=a(1),O=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(x.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"mac",header:"MAC",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],g=a(75),f=a(96),v=a.n(f),y=a(423),C=a(407),S=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(x.jsxs)(y.a,{container:!0,fullWidth:!0,children:[Object(x.jsx)(y.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(x.jsx)(y.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(x.jsxs)("span",{children:[Object(x.jsx)(u.a,{title:"Previous page",children:Object(x.jsx)(h.a,{disabled:1===t.page,onClick:n,children:Object(x.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(x.jsx)(u.a,{title:"Next page",children:Object(x.jsx)(h.a,{disabled:t.page===a,onClick:i,children:Object(x.jsx)(v.a,{})})})]})})]})},w=a(335),T=a(434),P=a(404),D=a(74),k=a.n(D),E=a(408),M=a(409),z=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=0===t.trim().length;return Object(x.jsxs)(y.a,{container:!0,fullWidth:!0,children:[Object(x.jsxs)(y.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(x.jsx)(w.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in SerialNumber and Descripttion",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(x.jsxs)(T.a,{children:[Object(x.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(x.jsx)(u.a,{arrow:!0,placement:"top",title:"Only search in SerialNumber and Descripttion",children:Object(x.jsx)(h.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(x.jsx)(k.a,{color:"primary"})})})]})}}),Object(x.jsx)(u.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(x.jsx)(h.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(x.jsx)(E.a,{color:"error"})})})]}),Object(x.jsxs)(y.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(x.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(x.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(x.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(x.jsx)(M.a,{})})})]})]})},F=a(51),K=a(417),N=a(324),R=a(447),B=function(e){var t=e.row,a=e.setUpdatetable,n=Object(o.useState)(!1),i=Object(l.a)(n,2),r=i[0],d=i[1],j=Object(o.useState)(t.original.description),p=Object(l.a)(j,2),O=p[0],f=p[1],v=t.original.description,C=function(){d((function(e){return!e}))},S=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var n,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O!==v){e.next=4;break}return F.b.info("Nothing changes"),C(),e.abrupt("return");case 4:return n={id:t.original.id,description:O},e.next=7,Object(g.m)(n);case 7:i=e.sent,console.log("editUserResponse",i),i&&200===i.status&&(F.b.success("Change description success"),a(!0),C());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Edit Description",children:Object(x.jsx)(h.a,{onClick:function(){d((function(e){return!e}))},children:Object(x.jsx)(R.a,{color:"primary"})})}),Object(x.jsx)(K.a,{open:r,onClose:C,children:Object(x.jsxs)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",height:"600",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(x.jsx)(m.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit description"}),Object(x.jsx)(y.a,{container:!0,spacing:2,children:Object(x.jsx)(y.a,{item:!0,xs:12,children:Object(x.jsx)(w.a,{id:"description",label:"Description",fullWidth:!0,multiline:!0,rows:6,margin:"normal",onChange:function(e){return function(e){f(e.target.value)}(e)},value:O})})}),Object(x.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(x.jsx)(N.a,{variant:"contained",onClick:C,children:"Cancel"}),Object(x.jsx)(N.a,{variant:"contained",type:"submit",onClick:S,children:"Save"})]})]})})]})},A=a(76),I=a.n(A),V=a(56),W=a(38),q=a(64),L=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(o.useState)({page:1,limit:10,search:null}),f=Object(l.a)(i,2),v=f[0],y=f[1],C=Object(o.useState)(),w=Object(l.a)(C,2),T=w[0],P=w[1],D=Object(o.useState)(!0),k=Object(l.a)(D,2),E=k[0],M=k[1],K=Object(o.useState)(!1),N=Object(l.a)(K,2),R=N[0],A=N[1],L=Object(o.useState)(""),U=Object(l.a)(L,2),J=U[0],G=U[1],H=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var t,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(v);case 2:t=e.sent,console.log("Page List: ",t),200===t.status&&(null===t.data.totalElement&&null!==J&&F.b.error("No elements match"),a=t.data.listResult,n(a),P(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){v.page<T&&(y({limit:v.limit,page:v.page+1}),M(!0))},X=function(){v.page>1&&(y({limit:v.limit,page:v.page-1}),M(!0))},Y=function(){A(!0),G("")},Z=function(){y(Object(r.a)(Object(r.a)({},v),{},{search:J})),M(!0)};return Object(o.useEffect)((function(){R?(y({page:1,limit:10,search:null}),A(!1),M(!0)):E&&(console.log("change status"),H(),M(!1))}),[R,E]),Object(x.jsx)(d.a,{children:Object(x.jsx)(j.a,{theme:V.a,children:Object(x.jsx)(p.a,{columns:O,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1,mac:!1},columnOrder:["id","sn","mac","model","ip","firmwareVer","location","description","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(x.jsxs)(b.a,{children:[Object(x.jsx)(B,{row:t,setUpdatetable:M}),Object(x.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(x.jsx)(W.c,{to:"/tms-devices/devices-management/device?id=".concat(t.original.id,"&sn=").concat(t.original.sn),children:Object(x.jsx)(h.a,{children:Object(x.jsx)(I.a,{color:"primary"})})})})]})]},renderDetailPanel:function(e){var t=e.row;return Object(x.jsxs)(b.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(x.jsxs)(m.a,{fontSize:"15px",children:["Created Date: ",Object(q.a)(t.original.createdDate)]}),Object(x.jsxs)(m.a,{fontSize:"15px",children:["Modified Date: ",Object(q.a)(t.original.modifiedDate)]})]})},renderBottomToolbarCustomActions:function(){return Object(x.jsx)(S,{paramsPageDevices:v,totalPage:T,handleMoveToPrePage:X,handleMoveToNextPage:Q})},renderTopToolbarCustomActions:function(){return Object(x.jsx)(z,{searchTerm:J,setSearchTerm:G,setResettable:A,handleSearchMode:Z,handleResetTable:Y})}})})})},U=a(125);t.default=function(){return Object(x.jsxs)(U.a,{children:[Object(x.jsx)(n.a,{routeSegments:[{name:"Devices Manager",path:"/tms-devices/devices-management"},{name:"Devices",path:"/tms-devices/devices-management"}]}),Object(x.jsx)(i.a,{spacing:3,children:Object(x.jsx)(L,{})})]})}}}]);
//# sourceMappingURL=18.b8d0677e.chunk.js.map
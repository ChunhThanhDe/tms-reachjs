(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[12],{447:function(e,t,a){"use strict";var n=a(24),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},461:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(9),c=a(3),i=a(39),r=a(432),s=a(420),o=a(431),l=a(433),d=a(419),j=a(1),b={PaperProps:{style:{maxHeight:165.5,width:250}}};function u(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function m(e){var t=e.data,a=e.handleSelected,m=e.title,h=e.defaultValue,x=Object(i.a)(),O=c.useState([]),f=Object(n.a)(O,2),p=f[0],g=f[1];return Object(j.jsx)("div",{children:Object(j.jsxs)(l.a,{sx:{width:"100%"},children:[Object(j.jsx)(s.a,{id:"list-select",children:m}),Object(j.jsx)(d.a,{labelId:"list-select",id:"list-select",value:h||"",onChange:function(e){g(e.target.value),a(e.target.value)},input:Object(j.jsx)(r.a,{label:m}),MenuProps:b,children:t.map((function(e){return Object(j.jsx)(o.a,{value:e,style:u(e,p,x),children:e},e)}))})]})})}},464:function(e,t,a){"use strict";var n=a(24),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox")},678:function(e,t,a){"use strict";a.r(t);var n=a(57),c=a(438),i=a(125),r=a(2),s=a(17),o=a(27),l=a(9),d=a(3),j=a(168),b=a(328),u=a(320),m=a(325),h=a(55),x=a(96),O=a.n(x),f=a(423),p=a(429),g=a(430),y=a(407),v=a(1),C=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(v.jsxs)(f.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(f.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(v.jsx)(f.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsxs)("span",{children:[Object(v.jsx)(p.a,{title:"Previous page",children:Object(v.jsx)(g.a,{disabled:1===t.page,onClick:n,children:Object(v.jsx)(y.a,{})})}),"Page ",t.page," of ",a,Object(v.jsx)(p.a,{title:"Next page",children:Object(v.jsx)(g.a,{disabled:t.page===a,onClick:c,children:Object(v.jsx)(O.a,{})})})]})})]})},S=a(335),w=a(434),P=a(404),k=a(74),T=a.n(k),M=a(408),N=a(409),D=a(51),B=a(417),z=a(324),R=a(464),E=a(88),I=a(461),W=function(e){var t=e.setResettable,a=Object(d.useState)(!1),n=Object(l.a)(a,2),c=n[0],i=n[1],r=Object(d.useState)(""),b=Object(l.a)(r,2),u=b[0],h=b[1],x=Object(d.useState)(""),O=Object(l.a)(x,2),y=O[0],C=O[1],w=function(){i((function(e){return!e})),C(""),h("")},P=function(){for(var e=!0,t={name:u,command:y,commandNotificationId:1},a=["command","name"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,i(!0),D.b.info("Missing required parameter: "+a[n]);break}return e},k=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P()){e.next=8;break}return a={name:u,command:y},e.next=5,Object(E.n)(a);case 5:n=e.sent,console.log("createList",n),n&&500===n.statusCode?n.message.includes("JSON parse error")?D.b.error("Contact must be phone number"):D.b.error(n.message):n&&200===n.status?(D.b.success("Create command success"),w(),t(!0)):(D.b.error(n.message),w());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Add New Command",children:Object(v.jsx)(g.a,{onClick:function(){i((function(e){return!e}))},children:Object(v.jsx)(R.a,{color:"primary"})})}),Object(v.jsx)(B.a,{open:c,onClose:w,children:Object(v.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400,width:"65%"},children:[Object(v.jsx)(m.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new Command"}),Object(v.jsxs)(f.a,{container:!0,spacing:2,children:[Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(I.a,{data:["Reboot","Notification"],handleSelected:function(e){C(e)},title:"Command",defaultValue:y})}),Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"name",label:"Name",fullWidth:!0,margin:"normal",onChange:function(e){!function(e,t){"name"===t&&h(e.target.value)}(e,"name")},value:u})})]}),Object(v.jsxs)(j.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(v.jsx)(z.a,{variant:"contained",onClick:w,children:"Cancel"}),Object(v.jsx)(z.a,{variant:"contained",type:"submit",onClick:k,children:"Save"})]})]})})]})},A=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,i=e.setResettable,r=0===t.trim().length;return Object(v.jsxs)(f.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(f.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsx)(S.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in Policy",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(v.jsxs)(w.a,{children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Only search in Policy",children:Object(v.jsx)(g.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||c()},children:Object(v.jsx)(T.a,{color:"primary"})})})]})}})}),Object(v.jsxs)(f.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsx)(f.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(v.jsx)(g.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(v.jsx)(M.a,{color:"error"})})})}),Object(v.jsxs)(f.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(g.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(v.jsx)(N.a,{})})}),Object(v.jsx)(W,{setResettable:i}),","]})]})]})},V=a(447),F=function(e){var t=e.row,a=e.setUpdatetable,n=Object(d.useState)(!1),c=Object(l.a)(n,2),i=c[0],r=c[1],b=Object(d.useState)(t.original.command),u=Object(l.a)(b,2),h=u[0],x=u[1],O=Object(d.useState)(t.original.name),y=Object(l.a)(O,2),C=y[0],w=y[1],P=t.original.command,k=t.original.name,T=function(){r((function(e){return!e}))},M=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P!==h||k!==C){e.next=4;break}return D.b.info("Nothing changes"),T(),e.abrupt("return");case 4:if(""!==h&&""!==C){e.next=6;break}return e.abrupt("return");case 6:return n={id:t.original.id,command:h,name:C},e.next=9,Object(E.w)(n);case 9:c=e.sent,console.log("editCommandResponse",c),c&&200===c.status?(D.b.success("Change command data success"),a(!0),T()):500===c.statusCode&&D.b.error("Error: ",c.message);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{arrow:!0,placement:"bottom",title:"Edit Policy",children:Object(v.jsx)(g.a,{onClick:function(){r((function(e){return!e}))},children:Object(v.jsx)(V.a,{color:"primary"})})}),Object(v.jsx)(B.a,{open:i,onClose:T,children:Object(v.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(v.jsx)(m.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit"}),Object(v.jsxs)(f.a,{container:!0,spacing:2,children:[Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(I.a,{data:["Reboot","Notification"],handleSelected:function(e){x(e)},title:"Command",defaultValue:h})}),Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"name",label:"Name",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){w(e.target.value)}(e)},value:C})})]}),Object(v.jsxs)(j.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(v.jsx)(z.a,{variant:"contained",onClick:T,children:"Cancel"}),Object(v.jsx)(z.a,{variant:"contained",type:"submit",onClick:M,children:"Save"})]})]})})]})},H=a(56),K=a(64),L=a(76),J=a.n(L),U=function(e){var t=e.id,a=Object(d.useState)(!1),n=Object(l.a)(a,2),c=n[0],i=n[1],r=Object(d.useState)([]),b=Object(l.a)(r,2),u=b[0],h=b[1],x=function(){i((function(e){return!e}))},O=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.m)(t);case 2:a=e.sent,console.log("detail",a),a&&200===a.status?h(a.data):500===a.statusCode&&D.b.error("Error: ",a.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{arrow:!0,placement:"bottom",title:"Edit Policy",children:Object(v.jsx)(g.a,{onClick:function(){i((function(e){return!e})),O()},disabled:!t,children:Object(v.jsx)(J.a,{color:"primary"})})}),Object(v.jsx)(B.a,{open:c,onClose:x,children:Object(v.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(v.jsx)(m.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Detail Notification ID"}),Object(v.jsxs)(m.a,{children:["ID: ",u.id]}),Object(v.jsxs)(m.a,{children:["Title: ",u.title]}),Object(v.jsxs)(m.a,{children:["Message: ",u.message]}),Object(v.jsxs)(m.a,{children:["Created By: ",u.createdBy]}),Object(v.jsxs)(m.a,{children:["Created Date: ",Object(K.a)(u.createdDate)]}),Object(v.jsxs)(m.a,{children:["Modified By: ",u.modifiedBy]}),Object(v.jsxs)(m.a,{children:["Modified Date: ",Object(K.a)(u.modifiedDate)]}),Object(v.jsx)(j.a,{sx:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},children:Object(v.jsx)(z.a,{variant:"contained",onClick:x,children:"Cancel"})})]})})]})},q=function(){var e=Object(d.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)({page:1,limit:10,policyname:null}),i=Object(l.a)(c,2),x=i[0],O=i[1],f=Object(d.useState)(),p=Object(l.a)(f,2),g=p[0],y=p[1],S=Object(d.useState)(!0),w=Object(l.a)(S,2),P=w[0],k=w[1],T=Object(d.useState)(!1),M=Object(l.a)(T,2),N=M[0],B=M[1],z=Object(d.useState)(""),R=Object(l.a)(z,2),I=R[0],W=R[1],V=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(x),e.next=3,Object(E.f)(x);case 3:t=e.sent,console.log("Page List: ",t),200===t.status&&(null===t.data.totalElement&&null!==I&&D.b.error("No elements match"),a=t.data.listResult,n(a),y(t.data.totalPage));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){x.page<g&&(O({limit:x.limit,page:x.page+1}),k(!0))},J=function(){x.page>1&&(O({limit:x.limit,page:x.page-1}),k(!0))},q=function(){B(!0),W("")},G=function(){O(Object(r.a)(Object(r.a)({},x),{},{policyname:I})),k(!0)};Object(d.useEffect)((function(){N?(O({page:1,limit:10,policyname:null}),B(!1),k(!0)):P&&(console.log("change status"),V(),k(!1))}),[N,P]);var Q=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(v.jsx)("span",{children:e.row.original.id})}},{accessorKey:"command",header:"Command",enableEditing:!1,enableSorting:!1},{accessorKey:"name",header:"Name",enableEditing:!1,enableSorting:!1},{accessorKey:"commandNotificationId",header:"Notification",enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(v.jsx)(j.a,{children:Object(v.jsx)(U,{id:e.row.original.commandNotificationId})})}}];return Object(v.jsx)(b.a,{children:Object(v.jsx)(u.a,{theme:H.a,children:Object(v.jsx)(h.a,{columns:Q,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1},columnOrder:["id","command","name","commandNotificationId","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(v.jsx)(F,{row:t,setUpdatetable:k})]},displayColumnDefOptions:{"mrt-row-actions":{size:300,header:""}},renderDetailPanel:function(e){var t=e.row;return Object(v.jsxs)(j.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(v.jsxs)(m.a,{fontSize:"15px",children:["Created Date: ",Object(K.a)(t.original.createdDate)]}),Object(v.jsxs)(m.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(v.jsxs)(m.a,{fontSize:"15px",children:["Modified Date: ",Object(K.a)(t.original.modifiedDate)]}),Object(v.jsxs)(m.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(v.jsx)(C,{paramsPageDevices:x,totalPage:g,handleMoveToPrePage:J,handleMoveToNextPage:L})},renderTopToolbarCustomActions:function(){return Object(v.jsx)(A,{searchTerm:I,setSearchTerm:W,setResettable:B,handleSearchMode:G,handleResetTable:q})}})})})};t.default=function(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(n.a,{routeSegments:[{name:"Policy Manager",path:"/tms-policy/policy-management"},{name:"Command",path:"/tms-policy/command-management"}]}),Object(v.jsx)(c.a,{spacing:3,children:Object(v.jsx)(q,{})})]})}}}]);
//# sourceMappingURL=12.593d7465.chunk.js.map
(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[16],{453:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return c}));var n=a(22),i=function(e){return console.log(e),Object(n.a)({method:"get",url:"/TMS/api/application",params:{page:e.page,limit:e.limit,packagename:e.packagename}}).catch((function(e){if(e.response)return console.log("error status",e.response),e.response.data.message}))},r=function(e){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(e)}).catch((function(e){if(e.response)return console.log("error status",e.response),e.response.data.message}))},c=function(e,t){return console.log(e),Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return console.log("error status",e.response),e.response.data.message}))}},675:function(e,t,a){"use strict";a.r(t);var n=a(57),i=a(16),r=a(3),c=a(423),l=a(125),s=a(17),o=a(27),d=a(9),u=a(453),m=a(136),b=a(1),j=function(e){var t=e.id,a=Object(r.useState)([]),n=Object(d.a)(a,2),i=n[0],c=n[1],l=Object(r.useState)(!0),j=Object(d.a)(l,2),p=j[0],g=j[1],h=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(t);case 2:200===(a=e.sent).status&&(n=[{id:"Name",value:a.data.name},{id:"Package name",value:a.data.packagename},{id:"Version",value:a.data.version},{id:"System App",value:a.data.issytem?"Yes":"No"},{id:"Created Date",value:a.data.createdDate}],c(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){p&&(h(),g(!1))}),[p]),Object(b.jsx)(m.a,{data:i,density:"comfortable"})},p=(a(75),a(198),a(2)),g=a(328),h=a(320),x=a(168),O=a(430),f=a(325),y=a(55),v=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(b.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"}},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}}],C=a(96),T=a.n(C),P=a(429),S=a(407),w=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(b.jsxs)(c.a,{container:!0,fullWidth:!0,children:[Object(b.jsx)(c.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(b.jsx)(c.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(b.jsxs)("span",{children:[Object(b.jsx)(P.a,{title:"Previous page",children:Object(b.jsx)(O.a,{disabled:1===t.page,onClick:n,children:Object(b.jsx)(S.a,{})})}),"Page ",t.page," of ",a,Object(b.jsx)(P.a,{title:"Next page",children:Object(b.jsx)(O.a,{disabled:t.page===a,onClick:i,children:Object(b.jsx)(T.a,{})})})]})})]})},k=a(56),M=a(335),B=a(434),D=a(404),E=a(74),A=a.n(E),F=a(408),I=a(409),z=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=(e.isSystem,e.setIsSystem,e.isAlive,e.setIsAlive,0===t.trim().length);return Object(b.jsxs)(c.a,{container:!0,fullWidth:!0,children:[Object(b.jsxs)(c.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(b.jsx)(M.a,{id:"search",type:"search",label:"Search",variant:"outlined",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(b.jsxs)(B.a,{children:[Object(b.jsx)(D.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(b.jsx)(P.a,{arrow:!0,placement:"top",title:"Search",children:Object(b.jsx)(O.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(b.jsx)(A.a,{color:"primary"})})})]})}}),Object(b.jsx)(P.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(b.jsx)(O.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(b.jsx)(F.a,{color:"error"})})})]}),Object(b.jsxs)(c.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(b.jsx)(D.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(b.jsx)(P.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(b.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(b.jsx)(I.a,{})})})]})]})},N=a(51),R=a(76),H=a.n(R),K=a(64),V=a(38),q=function(e){var t=e.id,a=Object(r.useState)([]),n=Object(d.a)(a,2),i=n[0],c=n[1],l=Object(r.useState)({page:1,limit:10,search:null}),m=Object(d.a)(l,2),j=m[0],C=m[1],T=Object(r.useState)(),P=Object(d.a)(T,2),S=P[0],M=P[1],B=Object(r.useState)(!0),D=Object(d.a)(B,2),E=D[0],A=D[1],F=Object(r.useState)(!1),I=Object(d.a)(F,2),R=I[0],q=I[1],L=Object(r.useState)(""),W=Object(d.a)(L,2),J=W[0],G=W[1],U=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(j,t);case 2:200===(a=e.sent).status&&(console.log("Page List device: ",a),null===a.data.totalElement&&null!==J&&N.b.error("No elements match"),n=a.data.listResult,c(n),M(a.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){j.page<S&&(C({limit:j.limit,page:j.page+1}),A(!0))},Q=function(){j.page>1&&(C({limit:j.limit,page:j.page-1}),A(!0))},X=function(){q(!0),G("")},Z=function(){C(Object(p.a)(Object(p.a)({},j),{},{search:J})),A(!0)};return Object(r.useEffect)((function(){R?(C({page:1,limit:10}),q(!1),A(!0)):E&&(U(),A(!1))}),[R,E]),Object(b.jsx)(g.a,{children:Object(b.jsx)(h.a,{theme:k.a,children:Object(b.jsx)(y.a,{columns:v,data:i,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:100,minSize:10,size:80},initialState:{density:"comfortable",columnVisibility:{id:!1},columnOrder:["id","sn","model","ip","firmwareVer","location","description","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(b.jsx)(x.a,{children:Object(b.jsx)(V.c,{to:"/tms-devices/devices-management/device?id=".concat(t.original.id,"&sn=").concat(t.original.sn),children:Object(b.jsxs)(O.a,{children:[Object(b.jsx)(H.a,{color:"primary"}),Object(b.jsx)(f.a,{style:{marginLeft:"8px",color:"black"},children:"Detail"})]})})})]},renderDetailPanel:function(e){var t=e.row;return Object(b.jsxs)(x.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(b.jsxs)(f.a,{fontSize:"15px",children:["Created Date: ",Object(K.a)(t.original.createdDate)]}),Object(b.jsxs)(f.a,{fontSize:"15px",children:["Modified Date: ",Object(K.a)(t.original.modifiedDate)]})]})},renderBottomToolbarCustomActions:function(){return Object(b.jsx)(w,{paramsPageDevices:j,totalPage:S,handleMoveToPrePage:Q,handleMoveToNextPage:Y})},renderTopToolbarCustomActions:function(){return Object(b.jsx)(z,{searchTerm:J,setSearchTerm:G,setResettable:q,handleSearchMode:Z,handleResetTable:X})}})})})};a(132),t.default=function(){var e=Object(i.l)(),t=new URLSearchParams(e.search),a=t.get("id"),s=t.get("name");return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(n.a,{routeSegments:[{name:"Applications Manager",path:"/tms-application/application-management"},{name:"Aplications",path:"/tms-application/application-management"},{name:"".concat(s),path:"/tms-applications/application-management/application?id=".concat(a,"&name=").concat(s)}]}),Object(b.jsxs)(l.b,{className:"analytics",children:[Object(b.jsxs)(c.a,{container:!0,spacing:2,sx:{mb:2},alignItems:"stretch",children:[Object(b.jsx)(c.a,{item:!0,lg:3,md:3,sm:3,xs:12,children:Object(b.jsx)(j,{id:a})}),Object(b.jsx)(c.a,{item:!0,lg:9,md:9,sm:9,xs:12,children:Object(b.jsx)(q,{id:a})})]}),Object(b.jsxs)(c.a,{container:!0,spacing:1,children:[Object(b.jsx)(c.a,{item:!0,lg:6,md:6,sm:12,xs:12}),Object(b.jsx)(c.a,{item:!0,lg:6,md:6,sm:12,xs:12})]})]})]})}}}]);
//# sourceMappingURL=16.311dc326.chunk.js.map
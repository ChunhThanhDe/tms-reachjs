(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[6],{461:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(9),c=a(3),r=a(39),i=a(432),l=a(420),s=a(431),o=a(433),d=a(419),j=a(1),u={PaperProps:{style:{maxHeight:165.5,width:250}}};function b(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function h(e){var t=e.data,a=e.handleSelected,h=e.title,x=e.defaultValue,p=Object(r.a)(),O=c.useState([]),m=Object(n.a)(O,2),f=m[0],g=m[1];return Object(j.jsx)("div",{children:Object(j.jsxs)(o.a,{sx:{width:"100%"},children:[Object(j.jsx)(l.a,{id:"list-select",children:h}),Object(j.jsx)(d.a,{labelId:"list-select",id:"list-select",value:x||"",onChange:function(e){g(e.target.value),a(e.target.value)},input:Object(j.jsx)(i.a,{label:h}),MenuProps:u,children:t.map((function(e){return Object(j.jsx)(s.a,{value:e,style:b(e,f,p),children:e},e)}))})]})})}},464:function(e,t,a){"use strict";var n=a(24),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox")},465:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z"}),"QueuePlayNext");t.default=i},529:function(e,t,a){"use strict";var n=a(24),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M21 10h-3L2 3v7l9 2-9 2v7l8-3.5V21c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm0 11h-9v-9h9v9zm-4.5-1L13 16h2v-3h3v3h2l-3.5 4z"}),"SendAndArchive")},636:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M10 4h4v4h-4zM4 16h4v4H4zm0-6h4v4H4zm0-6h4v4H4zm10 8.42V10h-4v4h2.42zm6.88-1.13-1.17-1.17c-.16-.16-.42-.16-.58 0l-.88.88L20 12.75l.88-.88c.16-.16.16-.42 0-.58zM11 18.25V20h1.75l6.67-6.67-1.75-1.75zM16 4h4v4h-4z"}),"AppRegistration");t.default=i},637:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)([(0,r.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2v7.22z"},"0"),(0,r.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3V2zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");t.default=i},638:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm1 0V8l5 4-5 4z"}),"NotStarted");t.default=i},639:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle");t.default=i},640:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"}),"PauseCircle");t.default=i},641:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 14H8V8h8v8z"}),"StopCircle");t.default=i},642:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M13.05 9.79 10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1 4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"}),"SlowMotionVideo");t.default=i},671:function(e,t,a){"use strict";a.r(t);var n=a(57),c=a(438),r=a(125),i=a(2),l=a(17),s=a(27),o=a(9),d=a(3),j=a(168),u=a(429),b=a(430),h=a(328),x=a(320),p=a(325),O=a(55),m=a(96),f=a.n(m),g=a(423),y=a(407),v=a(1),C=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(v.jsx)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsxs)("span",{children:[Object(v.jsx)(u.a,{title:"Previous page",children:Object(v.jsx)(b.a,{disabled:1===t.page,onClick:n,children:Object(v.jsx)(y.a,{})})}),"Page ",t.page," of ",a,Object(v.jsx)(u.a,{title:"Next page",children:Object(v.jsx)(b.a,{disabled:t.page===a,onClick:c,children:Object(v.jsx)(f.a,{})})})]})})]})},S=a(335),w=a(434),P=a(404),T=a(74),k=a.n(T),z=a(408),M=a(409),A=a(51),R=a(417),E=a(324),N=a(415),V=a(8),D=a(10),F=a(152),B=a(6),I=a(14),K=a(73),W=a(63);function H(e){return Object(W.a)("MuiFormGroup",e)}Object(K.a)("MuiFormGroup",["root","row","error"]);var L=a(43),_=a(46),U=["className","row"],q=Object(B.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.row&&t.row]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),G=d.forwardRef((function(e,t){var a=Object(I.a)({props:e,name:"MuiFormGroup"}),n=a.className,c=a.row,r=void 0!==c&&c,l=Object(V.a)(a,U),s=Object(L.a)(),o=Object(_.a)({props:a,muiFormControl:s,states:["error"]}),d=Object(i.a)(Object(i.a)({},a),{},{row:r,error:o.error}),j=function(e){var t=e.classes,a={root:["root",e.row&&"row",e.error&&"error"]};return Object(F.a)(a,H,t)}(d);return Object(v.jsx)(q,Object(i.a)({className:Object(D.a)(j.root,n),ownerState:d,ref:t},l))})),J=a(35),Q=a(67),X=a(195),Y=a(90),Z=["actions","children","defaultValue","name","onChange","value"],$=d.forwardRef((function(e,t){var a=e.actions,n=e.children,c=e.defaultValue,r=e.name,l=e.onChange,s=e.value,j=Object(V.a)(e,Z),u=d.useRef(null),b=Object(Q.a)({controlled:s,default:c,name:"RadioGroup"}),h=Object(o.a)(b,2),x=h[0],p=h[1];d.useImperativeHandle(a,(function(){return{focus:function(){var e=u.current.querySelector("input:not(:disabled):checked");e||(e=u.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var O=Object(J.a)(t,u),m=Object(Y.a)(r),f=d.useMemo((function(){return{name:m,onChange:function(e){p(e.target.value),l&&l(e,e.target.value)},value:x}}),[m,l,p,x]);return Object(v.jsx)(X.a.Provider,{value:f,children:Object(v.jsx)(G,Object(i.a)(Object(i.a)({role:"radiogroup",ref:O},j),{},{children:n}))})})),ee=a(435),te=a(433),ae=a(464),ne=a(88),ce=a(461),re=function(e){var t=e.setResettable,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(""),h=Object(o.a)(i,2),x=h[0],O=h[1],m=Object(d.useState)(""),f=Object(o.a)(m,2),y=f[0],C=f[1],w=Object(d.useState)(),P=Object(o.a)(w,2),T=P[0],k=P[1],z=function(){r((function(e){return!e})),C(""),k(),O("")},M=function(e,t){switch(t){case"policyname":O(e.target.value);break;case"action":k(e.target.value)}},V=function(){for(var e=!0,t={policyname:x,commandName:y,action:T},a=["policyname","action"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,r(!0),A.b.info("Missing required parameter: "+a[n]);break}return e},D=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var a,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V()){e.next=8;break}return a={policyname:x,commandName:y,action:T},e.next=5,Object(ne.p)(a);case 5:n=e.sent,console.log("createList",n),n&&500===n.statusCode?n.message.includes("JSON parse error")?A.b.error("Contact must be phone number"):A.b.error(n.message):n&&200===n.status?(A.b.success("Create list devices success"),z(),t(!0)):(A.b.error(n.message),z());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Add New Policy",children:Object(v.jsx)(b.a,{onClick:function(){r((function(e){return!e}))},children:Object(v.jsx)(ae.a,{color:"primary"})})}),Object(v.jsx)(R.a,{open:c,onClose:z,children:Object(v.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400,width:"60%"},children:[Object(v.jsx)(p.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new Policy"}),Object(v.jsxs)(g.a,{container:!0,spacing:2,children:[Object(v.jsx)(g.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"policyname",label:"Policy",fullWidth:!0,margin:"normal",onChange:function(e){M(e,"policyname")},value:x})}),Object(v.jsx)(g.a,{item:!0,xs:12,children:Object(v.jsx)(ce.a,{data:["Reboot","Notification"],handleSelected:function(e){C(e)},title:"Command",defaultValue:y})}),Object(v.jsx)(g.a,{item:!0,xs:12,children:Object(v.jsxs)(te.a,{style:{border:"1px solid #ccc",borderRadius:"4px",padding:"10px",width:"100%"},children:["Action",Object(v.jsxs)($,{row:!0,name:"row-radio-buttons-group",onChange:function(e){M(e,"action")},defaultValue:T,children:[Object(v.jsx)(ee.a,{value:1,control:Object(v.jsx)(N.a,{}),label:"Install"}),Object(v.jsx)(ee.a,{value:2,control:Object(v.jsx)(N.a,{}),label:"Uninstall"}),Object(v.jsx)(ee.a,{value:3,control:Object(v.jsx)(N.a,{}),label:"Run Command"})]})]})})]}),Object(v.jsxs)(j.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(v.jsx)(E.a,{variant:"contained",onClick:z,children:"Cancel"}),Object(v.jsx)(E.a,{variant:"contained",type:"submit",onClick:D,children:"Save"})]})]})})]})},ie=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,r=e.setResettable,i=0===t.trim().length;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsx)(S.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in Policy",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(v.jsxs)(w.a,{children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Only search in Policy",children:Object(v.jsx)(b.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){i||c()},children:Object(v.jsx)(k.a,{color:"primary"})})})]})}})}),Object(v.jsxs)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsx)(g.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(v.jsx)(b.a,{type:"button",onClick:function(){a(""),n()},disabled:i,children:Object(v.jsx)(z.a,{color:"error"})})})}),Object(v.jsxs)(g.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(b.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(v.jsx)(M.a,{})})}),Object(v.jsx)(re,{setResettable:r}),","]})]})]})},le=a(447),se=function(e){var t=e.row,a=e.setUpdatetable,n=Object(d.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],h=Object(d.useState)(t.original.action),x=Object(o.a)(h,2),O=x[0],m=x[1],f=Object(d.useState)(t.original.policyname),y=Object(o.a)(f,2),C=y[0],w=y[1],P=t.original.action,T=t.original.policyname,k=function(){i((function(e){return!e}))},z=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var n,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O!==P||T!==C){e.next=4;break}return A.b.info("Nothing changes"),k(),e.abrupt("return");case 4:if(""!==P){e.next=6;break}return e.abrupt("return");case 6:return n={id:t.original.id,policyname:C,action:O},e.next=9,Object(ne.w)(n);case 9:c=e.sent,console.log("editPolicyResponse",c),c&&200===c.status?(A.b.success("Change list devices data success"),a(!0),k()):500===c.statusCode&&A.b.error("Error: ",c.message);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Edit Policy",children:Object(v.jsx)(b.a,{onClick:function(){i((function(e){return!e}))},children:Object(v.jsx)(le.a,{color:"primary"})})}),Object(v.jsx)(R.a,{open:r,onClose:k,children:Object(v.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(v.jsx)(p.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit"}),Object(v.jsxs)(g.a,{container:!0,spacing:2,children:[Object(v.jsx)(g.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"name",label:"Policy Name",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){w(e.target.value)}(e)},value:C})}),Object(v.jsx)(g.a,{item:!0,xs:12,children:Object(v.jsxs)(te.a,{style:{border:"1px solid #ccc",borderRadius:"4px",padding:"10px",width:"100%"},children:["Action",Object(v.jsxs)($,{row:!0,name:"row-radio-buttons-group",onChange:function(e){m(e.target.value)},defaultValue:O,children:[Object(v.jsx)(ee.a,{value:1,control:Object(v.jsx)(N.a,{}),label:"Install"}),Object(v.jsx)(ee.a,{value:2,control:Object(v.jsx)(N.a,{}),label:"Uninstall"}),Object(v.jsx)(ee.a,{value:3,control:Object(v.jsx)(N.a,{}),label:"Run Command"})]})]})})]}),Object(v.jsxs)(j.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(v.jsx)(E.a,{variant:"contained",onClick:k,children:"Cancel"}),Object(v.jsx)(E.a,{variant:"contained",type:"submit",onClick:z,children:"Save"})]})]})})]})},oe=a(56),de=a(76),je=a.n(de),ue=a(38),be=a(24),he=Object(be.a)(Object(v.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),xe=Object(be.a)(Object(v.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause"),pe=Object(be.a)(Object(v.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),Oe=a(636),me=a.n(Oe),fe=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(v.jsx)("span",{children:e.row.original.id})}},{accessorKey:"packagename",header:"Package Name",enableEditing:!1,enableSorting:!1},{accessorKey:"version",header:"Version",enableEditing:!1,enableSorting:!1},{accessorKey:"packagesize",header:"Size (bytes)",enableEditing:!1,enableSorting:!1}],ge=function(e){var t=e.paramsPageUser,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(v.jsx)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsxs)("span",{children:[Object(v.jsx)(u.a,{title:"Previous page",children:Object(v.jsx)(b.a,{disabled:1===t.page,onClick:n,children:Object(v.jsx)(y.a,{})})}),"Page ",t.page," of ",a,Object(v.jsx)(u.a,{title:"Next page",children:Object(v.jsx)(b.a,{disabled:t.page===a,onClick:c,children:Object(v.jsx)(f.a,{})})})]})})]})},ye=a(529),ve=function(e){var t=e.handleEditPolicyApk,a=e.handleResetTable,n=e.handleSearchMode,c=e.searchTermPackage,r=e.setSearchTermPackage,i=e.searchTermVersion,l=e.setSearchTermVersion,s=0===c.trim().length&&0===i.trim().length;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsxs)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(v.jsx)(S.a,{id:"searchpackage",type:"search",label:"Search Package Name",variant:"outlined",size:"small",value:c,onChange:function(e){r(e.target.value)},edge:"end",fullWidth:!0}),Object(v.jsx)(P.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(v.jsxs)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(v.jsx)(S.a,{id:"searchversion",type:"search",label:"Search Version",variant:"outlined",size:"small",value:i,onChange:function(e){l(e.target.value)},edge:"end",fullWidth:!0}),Object(v.jsx)(P.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(v.jsxs)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)(g.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Search",children:Object(v.jsx)(b.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){s||n()},children:Object(v.jsx)(k.a,{color:"primary"})})}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(v.jsx)(b.a,{type:"button",onClick:function(){r(""),l(""),a()},disabled:s,children:Object(v.jsx)(z.a,{color:"error"})})})]}),Object(v.jsxs)(g.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(b.a,{color:"primary","aria-label":"clear",onClick:a,children:Object(v.jsx)(M.a,{})})}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Add devices",children:Object(v.jsx)(b.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(v.jsx)(ye.a,{})})})]})]})]})},Ce=function(e){var t=e.id,a=e.handleAddAPKSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],u=Object(d.useState)({page:1,limit:5,packagename:"",version:""}),b=Object(o.a)(u,2),h=b[0],p=b[1],m=Object(d.useState)(),f=Object(o.a)(m,2),g=f[0],y=f[1],C=Object(d.useState)(!0),S=Object(o.a)(C,2),w=S[0],P=S[1],T=Object(d.useState)(!1),k=Object(o.a)(T,2),z=k[0],M=k[1],R=Object(d.useState)(""),E=Object(o.a)(R,2),N=E[0],V=E[1],D=Object(d.useState)(""),F=Object(o.a)(D,2),B=F[0],I=F[1],K=Object(d.useState)([]),W=Object(o.a)(K,2),H=W[0],L=W[1],_=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var n,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=Object.keys(H).filter((function(e){return H[e]})).map((function(e){return parseInt(e)}))).length){e.next=5;break}A.b.error("There is no APK file selected."),e.next=9;break;case 5:return e.next=7,Object(ne.q)(t,n);case 7:200===(c=e.sent).status?(A.b.success("Add apk success"),a()):A.b.error(c.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)(h);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&(null!==N||null!==B?A.b.error("No element matchs"):A.b.error("Nothing to show")),a=t.data.listResult,j(a),y(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){h.page<g&&(p({limit:h.limit,page:h.page+1}),P(!0))},G=function(){h.page>1&&(p({limit:h.limit,page:h.page-1}),P(!0))},J=function(){M(!0),V(""),I("")},Q=function(){p(Object(i.a)(Object(i.a)({},h),{},{packagename:N,version:B})),P(!0)};return Object(d.useEffect)((function(){z?(p({page:1,limit:5,packagename:null,version:null}),M(!1),P(!0)):w&&(console.log("change status"),U(),P(!1))}),[z,w]),Object(v.jsx)(x.a,{theme:oe.a,children:Object(v.jsx)(O.a,{columns:fe,data:r,initialState:{density:"compact",columnVisibility:{packagesize:!1,id:!1}},enableRowSelection:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,enableSelectAll:!1,positionToolbarAlertBanner:"none",getRowId:function(e){return e.id},onRowSelectionChange:function(e){return L(e)},state:{rowSelection:H},muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},renderBottomToolbarCustomActions:function(){return Object(v.jsx)(ge,{paramsPageUser:h,totalPage:g,handleMoveToPrePage:G,handleMoveToNextPage:q})},renderTopToolbarCustomActions:function(){return Object(v.jsx)(ve,{handleEditPolicyApk:_,searchTermPackage:N,setSearchTermPackage:V,searchTermVersion:B,setSearchTermVersion:I,setResettable:M,handleSearchMode:Q,handleResetTable:J})}})})},Se=a(203),we=function(e){var t=e.row,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(!1),l=Object(o.a)(i,2),s=l[0],h=l[1],x=function(){r((function(e){return!e}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Edit Policy Map APK",children:Object(v.jsx)(b.a,{onClick:function(){r((function(e){return!e}))},children:Object(v.jsx)(me.a,{color:"primary"})})}),Object(v.jsx)(R.a,{open:c,onClose:x,children:Object(v.jsx)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"95%",height:"95%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:0,overflow:"auto"},children:Object(v.jsxs)(j.a,{sx:{p:1},children:[Object(v.jsx)(j.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(v.jsx)(b.a,{type:"button",children:Object(v.jsx)(z.a,{color:"inherit",onClick:x})})}),Object(v.jsx)(Ce,{id:t.original.id,handleAddAPKSuccess:function(){h(!0)}}),Object(v.jsx)("br",{}),Object(v.jsx)(j.a,{sx:{width:"100%",height:"100%",bgcolor:"background.paper"},children:Object(v.jsx)(Se.a,{id:t.original.id,addAPKSuccess:s})})]})})})]})},Pe=a(64),Te=a(638),ke=a.n(Te),ze=a(639),Me=a.n(ze),Ae=a(640),Re=a.n(Ae),Ee=a(641),Ne=a.n(Ee),Ve=a(642),De=a.n(Ve),Fe=a(677),Be=a(689),Ie=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(v.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],Ke=a(75),We=function(e){var t=e.paramsPageUser,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(v.jsx)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsxs)("span",{children:[Object(v.jsx)(u.a,{title:"Previous page",children:Object(v.jsx)(b.a,{disabled:1===t.page,onClick:n,children:Object(v.jsx)(y.a,{})})}),"Page ",t.page," of ",a,Object(v.jsx)(u.a,{title:"Next page",children:Object(v.jsx)(b.a,{disabled:t.page===a,onClick:c,children:Object(v.jsx)(f.a,{})})})]})})]})},He=function(e){var t=e.handleEditPolicyApk,a=e.handleResetTable,n=e.handleSearchMode,c=e.searchTerm,r=e.setSearchTerm,i=0===c.trim().length;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsxs)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(v.jsx)(S.a,{id:"search",type:"search",label:"Only search in SerialNumber and Descripttion",variant:"outlined",size:"small",value:c,onChange:function(e){r(e.target.value)},edge:"end",fullWidth:!0}),Object(v.jsx)(P.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(v.jsxs)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)(g.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Search",children:Object(v.jsx)(b.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){i||n()},children:Object(v.jsx)(k.a,{color:"primary"})})}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(v.jsx)(b.a,{type:"button",onClick:function(){r(""),a()},disabled:i,children:Object(v.jsx)(z.a,{color:"error"})})})]}),Object(v.jsxs)(g.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(b.a,{color:"primary","aria-label":"clear",onClick:a,children:Object(v.jsx)(M.a,{})})}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(b.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(v.jsx)(ye.a,{})})})]})]})]})},Le=function(e){var t=e.id,a=e.setAddSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],u=Object(d.useState)({page:1,limit:5,search:null}),b=Object(o.a)(u,2),p=b[0],m=b[1],f=Object(d.useState)(),g=Object(o.a)(f,2),y=g[0],C=g[1],S=Object(d.useState)(!0),w=Object(o.a)(S,2),P=w[0],T=w[1],k=Object(d.useState)(!1),z=Object(o.a)(k,2),M=z[0],R=z[1],E=Object(d.useState)(""),N=Object(o.a)(E,2),V=N[0],D=N[1],F=Object(d.useState)([]),B=Object(o.a)(F,2),I=B[0],K=B[1],W=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var n,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=Object.keys(I).filter((function(e){return I[e]})).map((function(e){return parseInt(e)}))).length){e.next=5;break}A.b.error("There is no device selected."),e.next=10;break;case 5:return e.next=7,Object(ne.r)(t,n);case 7:c=e.sent,console.log(c),200===c.status?(A.b.success("Add device success"),a(!0)):A.b.error(c.message);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.d)(p);case 2:t=e.sent,console.log(t),200===t.status&&(null===t.data.totalElement&&(null!==V?A.b.error("No element matchs"):A.b.error("Nothing to show")),a=t.data.listResult,j(a),C(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){p.page<y&&(m({limit:p.limit,page:p.page+1}),T(!0))},_=function(){p.page>1&&(m({limit:p.limit,page:p.page-1}),T(!0))},U=function(){R(!0),D("")},q=function(){m(Object(i.a)(Object(i.a)({},p),{},{search:V})),T(!0)};return Object(d.useEffect)((function(){M?(m({page:1,limit:5,packagename:null,version:null}),R(!1),T(!0)):P&&(console.log("change status"),H(),T(!1))}),[M,P]),Object(v.jsx)(h.a,{sx:{m:1},children:Object(v.jsx)(x.a,{theme:oe.a,children:Object(v.jsx)(O.a,{columns:Ie,data:r,initialState:{density:"compact",columnVisibility:{packagesize:!1,id:!1}},enableRowSelection:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,enableSelectAll:!1,positionToolbarAlertBanner:"none",getRowId:function(e){return e.id},onRowSelectionChange:function(e){return K(e)},state:{rowSelection:I},muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},renderBottomToolbarCustomActions:function(){return Object(v.jsx)(We,{paramsPageUser:p,totalPage:y,handleMoveToPrePage:_,handleMoveToNextPage:L})},renderTopToolbarCustomActions:function(){return Object(v.jsx)(He,{handleEditPolicyApk:W,searchTerm:V,setSearchTerm:D,setResettable:R,handleSearchMode:q,handleResetTable:U})}})})})},_e=a(465),Ue=a.n(_e),qe=a(426),Ge=a(406),Je=a(437),Qe=a(440),Xe=a(439),Ye=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(v.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],Ze=a(412),$e=function(e){var t=e.paramsPage,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(v.jsx)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsxs)("span",{children:[Object(v.jsx)(u.a,{title:"Previous page",children:Object(v.jsx)(b.a,{disabled:1===t.page,onClick:n,children:Object(v.jsx)(y.a,{})})}),"Page ",t.page," of ",a,Object(v.jsx)(u.a,{title:"Next page",children:Object(v.jsx)(b.a,{disabled:t.page===a,onClick:c,children:Object(v.jsx)(f.a,{})})})]})})]})},et=function(e){var t=e.handleResetTable,a=e.handleSearchMode,n=e.searchTerm,c=e.setSearchTerm,r=0===n.trim().length;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsxs)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(v.jsx)(S.a,{id:"search",type:"search",label:"Only search in Serial Number and Descripttion",variant:"outlined",size:"small",value:n,onChange:function(e){c(e.target.value)},edge:"end",fullWidth:!0}),Object(v.jsx)(P.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(v.jsxs)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)(g.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Search",children:Object(v.jsx)(b.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||a()},children:Object(v.jsx)(k.a,{color:"primary"})})}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(v.jsx)(b.a,{type:"button",onClick:function(){c(""),t()},disabled:r,children:Object(v.jsx)(z.a,{color:"error"})})})]}),Object(v.jsxs)(g.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(b.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(v.jsx)(M.a,{})})})]})]})]})},tt=function(e){var t=e.policyId,a=e.deviceId,n=e.setUpdateTable,c=e.setAddSuccess,r=Object(d.useState)(!1),i=Object(o.a)(r,2),j=i[0],h=i[1],x=function(){h(!1)},p=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.c)(t,a);case 2:r=e.sent,console.log("Page List App: ",r),204===r.status?(A.b.success("Delete success"),n(!0),c(!0),x()):(A.b.error("Delete fail!!!",r.message),x());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Delete",children:Object(v.jsx)(b.a,{onClick:function(){h(!0)},children:Object(v.jsx)(Ze.a,{color:"error"})})}),Object(v.jsxs)(qe.a,{open:j,onClose:x,id:"deleteDialog",children:[Object(v.jsx)(Ge.a,{children:"Delete confirmation"}),Object(v.jsx)(Je.a,{children:Object(v.jsx)(Qe.a,{children:"Are you sure you want to delete device?"})}),Object(v.jsxs)(Xe.a,{children:[Object(v.jsx)(E.a,{onClick:x,color:"primary",children:"Cancel"}),Object(v.jsx)(E.a,{onClick:p,color:"error",children:"Delete"})]})]})]})},at=function(e){var t=e.id,a=e.addSuccess,n=e.setAddSuccess,c=Object(d.useState)([]),r=Object(o.a)(c,2),p=r[0],m=r[1],f=Object(d.useState)({page:1,limit:5,id:t,search:null}),g=Object(o.a)(f,2),y=g[0],C=g[1],S=Object(d.useState)(!0),w=Object(o.a)(S,2),P=w[0],T=w[1],k=Object(d.useState)(!1),z=Object(o.a)(k,2),M=z[0],R=z[1],E=Object(d.useState)(""),N=Object(o.a)(E,2),V=N[0],D=N[1],F=Object(d.useState)(),B=Object(o.a)(F,2),I=B[0],K=B[1],W=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.g)(y);case 2:t=e.sent,console.log(t),200===t.status?(a=t.data.listResult,m(a),K(t.data.totalPage)):200!==t.status&&(K(""),m([]),A.b.error(t.message));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){y.page<I&&(C({limit:y.limit,page:y.page+1}),T(!0))},L=function(){y.page>1&&(C({limit:y.limit,page:y.page-1}),T(!0))},_=function(){R(!0),D("")},U=function(){C(Object(i.a)(Object(i.a)({},y),{},{search:V})),T(!0)};return Object(d.useEffect)((function(){P&&(W(),n(!1),T(!1)),a&&T(!0),M&&(C({page:1,limit:5,id:t,search:null}),T(!0))}),[P,a,M]),Object(v.jsx)(h.a,{sx:{m:1},children:Object(v.jsx)(x.a,{theme:oe.a,children:Object(v.jsx)(O.a,{columns:Ye,data:p,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnOrder:["id","sn","model","ip","firmwareVer","location","description","mrt-row-actions"]},renderRowActions:function(e){var a=e.row;return[Object(v.jsxs)(j.a,{children:[Object(v.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(v.jsx)(ue.c,{to:"/tms-devices/devices-management/device?id=".concat(a.original.id,"&sn=").concat(a.original.sn),children:Object(v.jsx)(b.a,{children:Object(v.jsx)(je.a,{color:"primary"})})})}),Object(v.jsx)(tt,{policyId:t,deviceId:a.original.id,setUpdateTable:T,setAddSuccess:n})]})]},renderBottomToolbarCustomActions:function(){return Object(v.jsx)($e,{paramsPage:y,totalPage:I,handleMoveToPrePage:L,handleMoveToNextPage:H})},renderTopToolbarCustomActions:function(){return Object(v.jsx)(et,{searchTerm:V,setSearchTerm:D,setResettable:R,handleSearchMode:U,handleResetTable:_})}})})})},nt=a(637),ct=a.n(nt),rt=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(v.jsx)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsxs)("span",{children:[Object(v.jsx)(u.a,{title:"Previous page",children:Object(v.jsx)(b.a,{disabled:1===t.page,onClick:n,children:Object(v.jsx)(y.a,{})})}),"Page ",t.page," of ",a,Object(v.jsx)(u.a,{title:"Next page",children:Object(v.jsx)(b.a,{disabled:t.page===a,onClick:c,children:Object(v.jsx)(f.a,{})})})]})})]})},it=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,r=(e.setResettable,t&&0===t.trim().length);return Object(v.jsxs)(g.a,{container:!0,fullWidth:!0,children:[Object(v.jsxs)(g.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(S.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in Name",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(v.jsxs)(w.a,{children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Only search in Name",children:Object(v.jsx)(b.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||c()},children:Object(v.jsx)(k.a,{color:"primary"})})})]})}}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(v.jsx)(b.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(v.jsx)(z.a,{color:"error"})})})]}),Object(v.jsxs)(g.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(b.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(v.jsx)(M.a,{})})})]})]})},lt=function(e){var t=e.policyId,a=e.listDeviceId,n=e.setAddSuccess,c=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.s)(t,a);case 2:200===(c=e.sent).status?(A.b.success("Add list success"),n(!0)):A.b.error("Add fail!!! "+c.data.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Add this list to policy",children:Object(v.jsx)(b.a,{onClick:c,children:Object(v.jsx)(ct.a,{color:"primary"})})})},st=function(e){var t=e.policyId,a=e.setAddSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],u=c[1],b=Object(d.useState)({page:1,limit:5,name:null}),m=Object(o.a)(b,2),f=m[0],g=m[1],y=Object(d.useState)(),C=Object(o.a)(y,2),S=C[0],w=C[1],P=Object(d.useState)(!0),T=Object(o.a)(P,2),k=T[0],z=T[1],M=Object(d.useState)(!1),R=Object(o.a)(M,2),E=R[0],N=R[1],V=Object(d.useState)(""),D=Object(o.a)(V,2),F=D[0],B=D[1],I=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(v.jsx)("span",{children:e.row.original.id})}},{accessorKey:"name",header:"Name",enableEditing:!1,enableSorting:!1},{accessorKey:"location",header:"Location"},{accessorKey:"description",header:"Description",enableEditing:!1},{accessorKey:"addToPolicy",header:"Add to policy",enableEditing:!1,Cell:function(e){return Object(v.jsx)(lt,{policyId:t,listDeviceId:e.row.original.id,setAddSuccess:a})}}],K=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.g)(f);case 2:t=e.sent,console.log("Page List: ",t),200===t.status&&(null===t.data.totalElement&&null!==F&&A.b.error("No elemant match"),a=t.data.listResult,u(a),w(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){f.page<S&&(g({limit:f.limit,page:f.page+1}),z(!0))},H=function(){f.page>1&&(g({limit:f.limit,page:f.page-1}),z(!0))},L=function(){N(!0),B("")},_=function(){g(Object(i.a)(Object(i.a)({},f),{},{name:F})),z(!0)};return Object(d.useEffect)((function(){E?(g({page:1,limit:5,name:null}),N(!1),z(!0)):k&&(console.log("change status"),K(),z(!1))}),[E,k]),Object(v.jsx)(h.a,{sx:{m:1},children:Object(v.jsx)(x.a,{theme:oe.a,children:Object(v.jsx)(O.a,{columns:I,data:r,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnVisibility:{id:!1},columnOrder:["id","name","location","description","addToPolicy","mrt-row-expand"]},renderDetailPanel:function(e){var t=e.row;return Object(v.jsxs)(j.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(v.jsxs)(p.a,{fontSize:"15px",children:["Created Date: ",Object(Pe.a)(t.original.createdDate)]}),Object(v.jsxs)(p.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(v.jsxs)(p.a,{fontSize:"15px",children:["Modified Date: ",Object(Pe.a)(t.original.modifiedDate)]}),Object(v.jsxs)(p.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(v.jsx)(rt,{paramsPageDevices:f,totalPage:S,handleMoveToPrePage:H,handleMoveToNextPage:W})},renderTopToolbarCustomActions:function(){return Object(v.jsx)(it,{searchTerm:F,setSearchTerm:B,setResettable:N,handleSearchMode:_,handleResetTable:L})}})})})},ot=function(e){var t=e.row,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(!1),l=Object(o.a)(i,2),s=l[0],h=l[1],x=Object(d.useState)(1),p=Object(o.a)(x,2),O=p[0],m=p[1],f=function(){r((function(e){return!e}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Edit Policy Device & List Device",children:Object(v.jsx)(b.a,{onClick:function(){r((function(e){return!e}))},children:Object(v.jsx)(Ue.a,{color:"primary"})})}),Object(v.jsx)(R.a,{open:c,onClose:f,children:Object(v.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"95%",height:"95%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:0,overflow:"auto"},children:[Object(v.jsxs)(j.a,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)(Fe.a,{value:O,onChange:function(e,t){return m(t)},textColor:"primary",indicatorColor:"primary",children:[Object(v.jsx)(Be.a,{value:1,label:"Add new device"}),Object(v.jsx)(Be.a,{value:2,label:"Add new list device"})]}),Object(v.jsx)(b.a,{type:"button",children:Object(v.jsx)(z.a,{color:"inherit",onClick:f})})]}),1===O&&Object(v.jsxs)(j.a,{sx:{p:1},children:[Object(v.jsx)(Le,{id:t.original.id,setAddSuccess:h}),Object(v.jsx)("br",{}),Object(v.jsx)(at,{id:t.original.id,addSuccess:s,setAddSuccess:h})]}),2===O&&Object(v.jsxs)(j.a,{sx:{p:1},children:[Object(v.jsx)(st,{policyId:t.original.id,setAddSuccess:h}),Object(v.jsx)("br",{}),Object(v.jsx)(at,{id:t.original.id,addSuccess:s,setAddSuccess:h})]})]})})]})},dt=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)({page:1,limit:10,policyname:null}),r=Object(o.a)(c,2),m=r[0],f=r[1],g=Object(d.useState)(),y=Object(o.a)(g,2),S=y[0],w=y[1],P=Object(d.useState)(!0),T=Object(o.a)(P,2),k=T[0],z=T[1],M=Object(d.useState)(!1),R=Object(o.a)(M,2),E=R[0],N=R[1],V=Object(d.useState)(""),D=Object(o.a)(V,2),F=D[0],B=D[1],I=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(m),e.next=3,Object(ne.j)(m);case 3:t=e.sent,console.log("Page List: ",t),200===t.status&&(null===t.data.totalElement&&null!==F&&A.b.error("No elements match"),a=t.data.listResult,n(a),w(t.data.totalPage));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){m.page<S&&(f({limit:m.limit,page:m.page+1}),z(!0))},W=function(){m.page>1&&(f({limit:m.limit,page:m.page-1}),z(!0))},H=function(){N(!0),B("")},L=function(){f(Object(i.a)(Object(i.a)({},m),{},{policyname:F})),z(!0)},_=function(){var e=Object(s.a)(Object(l.a)().mark((function e(t,a){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),e.next=3,Object(ne.y)(t,a);case 3:200===(n=e.sent).status?z(!0):A.b.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){E?(f({page:1,limit:10,policyname:null}),N(!1),z(!0)):k&&(console.log("change status"),I(),z(!1))}),[E,k]);var U=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(v.jsx)("span",{children:e.row.original.id})}},{accessorKey:"policyname",header:"Policy",enableEditing:!1,enableSorting:!1},{accessorKey:"commandName",header:"Command",enableEditing:!1,enableSorting:!1},{accessorKey:"action",header:"Action",enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(v.jsx)(j.a,{children:1===e.row.original.action?"Install":2===e.row.original.action?"Uninstall":"Run command"})}},{accessorKey:"status",header:"Staus",enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(v.jsx)(j.a,{children:0===e.row.original.status?Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"",children:Object(v.jsx)(ke.a,{color:"primary"})}):1===e.row.original.status?Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Running",children:Object(v.jsx)(Me.a,{color:"success"})}):2===e.row.original.status?Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Pause",children:Object(v.jsx)(Re.a,{color:"warning"})}):Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Stop",children:Object(v.jsx)(Ne.a,{color:"error"})})})}},{Header:"Policy Action",accessorKey:"policyAction",muiTableHeadCellProps:{align:"left"},muiTableBodyCellProps:{align:"center"},Cell:function(e){var t=e.row;return Object(v.jsxs)(j.a,{sx:{display:"flex",gap:"1rem"},children:[Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:2===t.original.status?"Continue":"Run",disabled:!(0===t.original.status||3===t.original.status||2===t.original.status),children:Object(v.jsx)(b.a,{color:0===t.original.status||3===t.original.status||2===t.original.status?"primary":"inherit",disabled:!(0===t.original.status||3===t.original.status||2===t.original.status),onClick:function(){_(t.original.id,1)},children:2===t.original.status?Object(v.jsx)(De.a,{}):Object(v.jsx)(he,{})})}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Pause",disabled:1!==t.original.status,children:Object(v.jsx)(b.a,{color:1===t.original.status?"warning":"inherit",disabled:1!==t.original.status,onClick:function(){_(t.original.id,2)},children:Object(v.jsx)(xe,{})})}),Object(v.jsx)(u.a,{arrow:!0,placement:"top",title:"Stop",disabled:!(1===t.original.status||2===t.original.status),children:Object(v.jsx)(b.a,{color:1===t.original.status||2===t.original.status?"error":"inherit",disabled:!(1===t.original.status||2===t.original.status),onClick:function(){_(t.original.id,3)},children:Object(v.jsx)(pe,{})})})]})}}];return Object(v.jsx)(h.a,{children:Object(v.jsx)(x.a,{theme:oe.a,children:Object(v.jsx)(O.a,{columns:U,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1},columnOrder:["id","policyname","commandName","action","status","mrt-row-expand","mrt-row-actions","policyAction"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(v.jsx)(se,{row:t,setUpdatetable:z}),Object(v.jsx)(we,{row:t,setUpdatetable:z}),Object(v.jsx)(ot,{row:t,setUpdatetable:z}),Object(v.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(v.jsx)(ue.c,{to:"/tms-policy/policy-management/policy?id=".concat(t.original.id,"&pn=").concat(t.original.policyname),children:Object(v.jsx)(b.a,{children:Object(v.jsx)(je.a,{color:"primary"})})})})]},displayColumnDefOptions:{"mrt-row-actions":{size:300,header:""}},renderDetailPanel:function(e){var t=e.row;return Object(v.jsxs)(j.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(v.jsxs)(p.a,{fontSize:"15px",children:["Created Date: ",Object(Pe.a)(t.original.createdDate)]}),Object(v.jsxs)(p.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(v.jsxs)(p.a,{fontSize:"15px",children:["Modified Date: ",Object(Pe.a)(t.original.modifiedDate)]}),Object(v.jsxs)(p.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(v.jsx)(C,{paramsPageDevices:m,totalPage:S,handleMoveToPrePage:W,handleMoveToNextPage:K})},renderTopToolbarCustomActions:function(){return Object(v.jsx)(ie,{searchTerm:F,setSearchTerm:B,setResettable:N,handleSearchMode:L,handleResetTable:H})}})})})};t.default=function(){return Object(v.jsxs)(r.a,{children:[Object(v.jsx)(n.a,{routeSegments:[{name:"Policy Manager",path:"/tms-policy/policy-management"},{name:"Policy",path:"/tms-policy/policy-management"}]}),Object(v.jsx)(c.a,{spacing:3,children:Object(v.jsx)(dt,{})})]})}}}]);
//# sourceMappingURL=6.92d7be12.chunk.js.map
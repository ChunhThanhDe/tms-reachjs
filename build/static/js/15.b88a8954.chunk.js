(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[15],{453:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return r}));var n=a(22),i=function(e){return console.log(e),Object(n.a)({method:"get",url:"/TMS/api/application",params:{page:e.page,limit:e.limit,packagename:e.packagename}}).catch((function(e){if(e.response)return console.log("error status",e.response),e.response.data.message}))},c=function(e){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(e)}).catch((function(e){if(e.response)return console.log("error status",e.response),e.response.data.message}))},r=function(e,t){return console.log(e),Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return console.log("error status",e.response),e.response.data.message}))}},686:function(e,t,a){"use strict";a.r(t);var n=a(57),i=a(438),c=a(125),r=a(2),l=a(17),s=a(27),o=a(9),d=a(3),j=a(328),u=a(320),b=a(168),p=a(430),m=a(325),g=a(55),h=a(1),x=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(h.jsx)("span",{children:e.row.original.id})}},{accessorKey:"name",header:"App Name",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1},{accessorKey:"packagename",header:"Package",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1},{accessorKey:"version",header:"Version",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1}],O=(a(75),a(96)),f=a.n(O),y=a(423),v=a(429),C=a(407),S=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(h.jsxs)(y.a,{container:!0,fullWidth:!0,children:[Object(h.jsx)(y.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(h.jsx)(y.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(h.jsxs)("span",{children:[Object(h.jsx)(v.a,{title:"Previous page",children:Object(h.jsx)(p.a,{disabled:1===t.page,onClick:n,children:Object(h.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(h.jsx)(v.a,{title:"Next page",children:Object(h.jsx)(p.a,{disabled:t.page===a,onClick:i,children:Object(h.jsx)(f.a,{})})})]})})]})},T=a(56),P=a(335),k=a(434),w=a(404),M=a(74),A=a.n(M),D=a(408),E=a(409),R=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,c=0===t.trim().length;return Object(h.jsxs)(y.a,{container:!0,fullWidth:!0,children:[Object(h.jsxs)(y.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(h.jsx)(P.a,{id:"search",type:"search",label:"Search",variant:"outlined",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(h.jsxs)(k.a,{children:[Object(h.jsx)(w.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(h.jsx)(v.a,{arrow:!0,placement:"top",title:"Search",children:Object(h.jsx)(p.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){c||i()},children:Object(h.jsx)(A.a,{color:"primary"})})})]})}}),Object(h.jsx)(v.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(h.jsx)(p.a,{type:"button",onClick:function(){a(""),n()},disabled:c,children:Object(h.jsx)(D.a,{color:"error"})})})]}),Object(h.jsxs)(y.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(h.jsx)(w.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(h.jsx)(v.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(h.jsx)(p.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(h.jsx)(E.a,{})})})]})]})},z=a(51),F=a(76),I=a.n(F),N=a(64),K=a(453),B=a(38),W=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(d.useState)({page:1,limit:10,packagename:null}),c=Object(o.a)(i,2),O=c[0],f=c[1],y=Object(d.useState)(),v=Object(o.a)(y,2),C=v[0],P=v[1],k=Object(d.useState)(!0),w=Object(o.a)(k,2),M=w[0],A=w[1],D=Object(d.useState)(!1),E=Object(o.a)(D,2),F=E[0],W=E[1],J=Object(d.useState)(""),V=Object(o.a)(J,2),G=V[0],H=V[1],L=function(){var e=Object(s.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.b)(O);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==G&&z.b.error("No element match"),a=t.data.listResult,n(a),P(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){O.page<C&&(f({limit:O.limit,page:O.page+1}),A(!0))},Q=function(){O.page>1&&(f({limit:O.limit,page:O.page-1}),A(!0))},U=function(){W(!0),H("")},X=function(){f(Object(r.a)(Object(r.a)({},O),{},{packagename:G})),A(!0)};return Object(d.useEffect)((function(){F?(f({page:1,limit:10}),W(!1),A(!0)):M&&(L(),A(!1))}),[F,M]),Object(h.jsx)(j.a,{children:Object(h.jsx)(u.a,{theme:T.a,children:Object(h.jsx)(g.a,{columns:x,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:100,minSize:10,size:80},initialState:{density:"comfortable",columnVisibility:{id:!1},columnOrder:["id","name","packagename","version","issystem","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(h.jsx)(b.a,{children:Object(h.jsx)(B.c,{to:"/tms-application/application-management/application?id=".concat(t.original.id,"&name=").concat(t.original.name),children:Object(h.jsxs)(p.a,{children:[Object(h.jsx)(I.a,{color:"primary"}),Object(h.jsx)(m.a,{style:{marginLeft:"8px",color:"black"},children:"Detail"})]})})})]},renderDetailPanel:function(e){var t=e.row;return Object(h.jsx)(b.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(h.jsxs)(m.a,{fontSize:"15px",children:["Created Date: ",Object(N.a)(t.original.createdDate)]})})},renderBottomToolbarCustomActions:function(){return Object(h.jsx)(S,{paramsPageDevices:O,totalPage:C,handleMoveToPrePage:Q,handleMoveToNextPage:q})},renderTopToolbarCustomActions:function(){return Object(h.jsx)(R,{searchTerm:G,setSearchTerm:H,setResettable:W,handleSearchMode:X,handleResetTable:U})}})})})};t.default=function(){return Object(h.jsxs)(c.a,{children:[Object(h.jsx)(n.a,{routeSegments:[{name:"Application Manager",path:"/tms-application/application-management"},{name:"Applications",path:"/tms-application/application-management"}]}),Object(h.jsx)(i.a,{spacing:3,children:Object(h.jsx)(W,{})})]})}}}]);
//# sourceMappingURL=15.b88a8954.chunk.js.map
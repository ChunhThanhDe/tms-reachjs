(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[15],{497:function(e,t,a){"use strict";var n=a(26),i=a(1);t.a=Object(n.a)(Object(i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},514:function(e,t,a){"use strict";var n=a(26),i=a(1);t.a=Object(n.a)(Object(i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox")},732:function(e,t,a){"use strict";a.r(t);var n=a(68),i=a(272),c=a(83),r=a(3),s=a(17),l=a(28),o=a(8),j=a(2),b=a(371),d=a(361),u=a(184),x=a(271),h=a(66),O=a(106),m=a.n(O),f=a(367),p=a(480),g=a(481),v=a(460),y=a(1),C=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(y.jsxs)(f.a,{container:!0,fullWidth:!0,children:[Object(y.jsx)(f.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(y.jsx)(f.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(y.jsxs)("span",{children:[Object(y.jsx)(p.a,{title:"Previous page",children:Object(y.jsx)(g.a,{disabled:1===t.page,onClick:n,children:Object(y.jsx)(v.a,{})})}),"Page ",t.page," of ",a,Object(y.jsx)(p.a,{title:"Next page",children:Object(y.jsx)(g.a,{disabled:t.page===a,onClick:i,children:Object(y.jsx)(m.a,{})})})]})})]})},S=a(375),w=a(485),k=a(455),T=a(82),M=a.n(T),P=a(461),D=a(462),B=a(58),z=a(364),E=a(366),N=a(514),R=a(97),W=function(e){var t=e.setResettable,a=Object(j.useState)(!1),n=Object(o.a)(a,2),i=n[0],c=n[1],r=Object(j.useState)(""),b=Object(o.a)(r,2),d=b[0],h=b[1],O=Object(j.useState)(""),m=Object(o.a)(O,2),v=m[0],C=m[1],w=function(){c((function(e){return!e})),C(""),h("")},k=function(e,t){switch(t){case"title":h(e.target.value);break;case"message":C(e.target.value)}},T=function(){for(var e=!0,t={title:d,message:v},a=["title","message"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,c(!0),B.b.info("Missing required parameter: "+a[n]);break}return e},M=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T()){e.next=7;break}return a={title:d,message:v},e.next=5,Object(R.o)(a);case 5:(n=e.sent)&&200===n.status?(B.b.success("Create success"),w(),t(!0)):(B.b.error(n.message),w());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{arrow:!0,placement:"top",title:"Add New Notification",children:Object(y.jsx)(g.a,{onClick:function(){c((function(e){return!e}))},children:Object(y.jsx)(N.a,{color:"primary"})})}),Object(y.jsx)(z.a,{open:i,onClose:w,children:Object(y.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(y.jsx)(x.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new Notification"}),Object(y.jsxs)(f.a,{container:!0,spacing:2,children:[Object(y.jsx)(f.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{id:"title",label:"Title",fullWidth:!0,margin:"normal",onChange:function(e){k(e,"title")},value:d})}),Object(y.jsx)(f.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{id:"message",label:"Message",fullWidth:!0,margin:"normal",onChange:function(e){k(e,"message")},value:v})})]}),Object(y.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(y.jsx)(E.a,{variant:"contained",onClick:w,children:"Cancel"}),Object(y.jsx)(E.a,{variant:"contained",type:"submit",onClick:M,children:"Save"})]})]})})]})},A=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,c=e.setResettable,r=0===t.trim().length;return Object(y.jsxs)(f.a,{container:!0,fullWidth:!0,children:[Object(y.jsx)(f.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(y.jsx)(S.a,{id:"search",label:"Search",variant:"outlined",placeholder:"Only search in Policy",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(y.jsxs)(w.a,{children:[Object(y.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(y.jsx)(p.a,{arrow:!0,placement:"top",title:"Only search in Message",children:Object(y.jsx)(g.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(y.jsx)(M.a,{color:"primary"})})})]})}})}),Object(y.jsxs)(f.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)(f.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(y.jsx)(p.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(y.jsx)(g.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(y.jsx)(P.a,{color:"error"})})})}),Object(y.jsxs)(f.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:[Object(y.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(y.jsx)(p.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(y.jsx)(g.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(y.jsx)(D.a,{})})}),Object(y.jsx)(W,{setResettable:c}),","]})]})]})},F=a(497),I=function(e){var t=e.row,a=e.setUpdatetable,n=Object(j.useState)(!1),i=Object(o.a)(n,2),c=i[0],r=i[1],b=Object(j.useState)(t.original.title),d=Object(o.a)(b,2),h=d[0],O=d[1],m=Object(j.useState)(t.original.message),p=Object(o.a)(m,2),g=p[0],v=p[1],C=t.original.title,w=t.original.message,k=function(){r((function(e){return!e}))},T=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h!==C||w!==g){e.next=4;break}return B.b.info("Nothing changes"),k(),e.abrupt("return");case 4:if(""!==h){e.next=6;break}return e.abrupt("return");case 6:return n={id:t.original.id,message:g,title:h},e.next=9,Object(R.x)(n);case 9:(i=e.sent)&&200===i.status?(B.b.success("Change data success"),a(!0),k()):500===i.statusCode&&B.b.error("Error: ",i.message);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(E.a,{onClick:function(){r((function(e){return!e}))},children:[Object(y.jsx)(F.a,{color:"primary"}),Object(y.jsx)(x.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Notification"})]}),Object(y.jsx)(z.a,{open:c,onClose:k,children:Object(y.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(y.jsx)(x.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit"}),Object(y.jsxs)(f.a,{container:!0,spacing:2,children:[Object(y.jsx)(f.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{id:"title",label:"Title",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){O(e.target.value)}(e)},value:h})}),Object(y.jsx)(f.a,{item:!0,xs:12,children:Object(y.jsx)(S.a,{id:"message",label:"Message",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){v(e.target.value)}(e)},value:g})})]}),Object(y.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(y.jsx)(E.a,{variant:"contained",onClick:k,children:"Cancel"}),Object(y.jsx)(E.a,{variant:"contained",type:"submit",onClick:T,children:"Save"})]})]})})]})},L=a(67),V=a(74),K=a(107),H=a.n(K),J=function(e){var t=e.id,a=Object(j.useState)(!1),n=Object(o.a)(a,2),i=n[0],c=n[1],r=Object(j.useState)([]),b=Object(o.a)(r,2),d=b[0],h=b[1],O=function(){c((function(e){return!e}))},m=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.m)(t);case 2:(a=e.sent)&&200===a.status?h(a.data):500===a.statusCode&&B.b.error("Error: ",a.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(E.a,{onClick:function(){c((function(e){return!e})),m()},disabled:!t,children:[Object(y.jsx)(H.a,{color:"primary"}),Object(y.jsx)(x.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]}),Object(y.jsx)(z.a,{open:i,onClose:O,children:Object(y.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(y.jsx)(x.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Detail Notification"}),Object(y.jsxs)(x.a,{children:["ID: ",d.id]}),Object(y.jsxs)(x.a,{children:["Title: ",d.title]}),Object(y.jsxs)(x.a,{children:["Message: ",d.message]}),Object(y.jsxs)(x.a,{children:["Created By: ",d.createdBy]}),Object(y.jsxs)(x.a,{children:["Created Date: ",Object(V.a)(d.createdDate)]}),Object(y.jsxs)(x.a,{children:["Modified By: ",d.modifiedBy]}),Object(y.jsxs)(x.a,{children:["Modified Date: ",Object(V.a)(d.modifiedDate)]}),Object(y.jsx)(u.a,{sx:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},children:Object(y.jsx)(E.a,{variant:"contained",onClick:O,children:"Cancel"})})]})})]})},U=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(j.useState)({page:1,limit:10,search:null}),c=Object(o.a)(i,2),O=c[0],m=c[1],f=Object(j.useState)(),p=Object(o.a)(f,2),g=p[0],v=p[1],S=Object(j.useState)(!0),w=Object(o.a)(S,2),k=w[0],T=w[1],M=Object(j.useState)(!1),P=Object(o.a)(M,2),D=P[0],z=P[1],E=Object(j.useState)(""),N=Object(o.a)(E,2),W=N[0],F=N[1],K=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.i)(O);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==W&&B.b.error("No elements match"),a=t.data.listResult,n(a),v(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){O.page<g&&(m({limit:O.limit,page:O.page+1}),T(!0))},U=function(){O.page>1&&(m({limit:O.limit,page:O.page-1}),T(!0))},q=function(){z(!0),F("")},G=function(){m(Object(r.a)(Object(r.a)({},O),{},{search:W})),T(!0)};Object(j.useEffect)((function(){D?(m({page:1,limit:10,search:null}),z(!1),T(!0)):k&&(K(),T(!1))}),[D,k]);var Q=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(y.jsx)("span",{children:e.row.original.id})}},{accessorKey:"title",header:"Title",enableEditing:!1,enableSorting:!1},{accessorKey:"message",header:"Message",enableEditing:!1,enableSorting:!1}];return Object(y.jsx)(b.a,{children:Object(y.jsx)(d.a,{theme:L.a,children:Object(y.jsx)(h.a,{columns:Q,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1},columnOrder:["id","title","message","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(u.a,{flexBasis:"25%",children:[Object(y.jsx)(I,{row:t,setUpdatetable:T})," "]}),Object(y.jsx)(u.a,{flexBasis:"25%",children:Object(y.jsx)(J,{id:t.original.id})})]})]},displayColumnDefOptions:{"mrt-row-actions":{size:300,header:""}},renderDetailPanel:function(e){var t=e.row;return Object(y.jsxs)(u.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(y.jsxs)(x.a,{fontSize:"15px",children:["Created Date: ",Object(V.a)(t.original.createdDate)]}),Object(y.jsxs)(x.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(y.jsxs)(x.a,{fontSize:"15px",children:["Modified Date: ",Object(V.a)(t.original.modifiedDate)]}),Object(y.jsxs)(x.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(y.jsx)(C,{paramsPageDevices:O,totalPage:g,handleMoveToPrePage:U,handleMoveToNextPage:H})},renderTopToolbarCustomActions:function(){return Object(y.jsx)(A,{searchTerm:W,setSearchTerm:F,setResettable:z,handleSearchMode:G,handleResetTable:q})}})})})};t.default=function(){return Object(y.jsxs)(c.a,{children:[Object(y.jsx)(n.a,{routeSegments:[{name:"Policy Manager",path:"/tms-policy/policy-management"},{name:"Notification",path:"/tms-policy/notificationID-management"}]}),Object(y.jsx)(i.a,{spacing:3,children:Object(y.jsx)(U,{})})]})}}}]);
//# sourceMappingURL=15.e97d6ef5.chunk.js.map
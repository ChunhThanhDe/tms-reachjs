(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[17],{505:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return s}));var n=a(19),i=function(e){return console.log(e),Object(n.a)({method:"get",url:"/TMS/api/application",params:{page:e.page,limit:e.limit,packagename:e.packagename}}).catch((function(e){if(e.response)return e.response.data.message}))},r=function(e){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(e)}).catch((function(e){if(e.response)return e.response.data.message}))},c=function(e,t){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return e.response.data.message}))},s=function(e,t){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device/now"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return e.response}))}},739:function(e,t,a){"use strict";a.r(t);var n=a(70),i=a(275),r=a(377),c=a(274),s=a(87),o=a(3),l=a(17),u=a(27),d=a(7),p=a(2),j=a(367),b=a(185),m=a(372),h=a(57),g=a(1),f=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(g.jsx)("span",{children:e.row.original.id})}},{accessorKey:"name",header:"App Name",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1},{accessorKey:"packagename",header:"Package",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1},{accessorKey:"version",header:"Version",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1}],x=a(85),O=a.n(x),v=a(373),y=a(481),S=a(482),C=a(464),w=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(g.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(g.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(g.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(g.jsxs)("span",{children:[Object(g.jsx)(y.a,{title:"Previous page",children:Object(g.jsx)(S.a,{disabled:1===t.page,onClick:n,children:Object(g.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(g.jsx)(y.a,{title:"Next page",children:Object(g.jsx)(S.a,{disabled:t.page===a,onClick:i,children:Object(g.jsx)(O.a,{})})})]})})]})},T=a(58),k=a(381),P=a(486),A=a(461),M=a(69),W=a.n(M),D=a(465),I=a(466),z=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=0===t.trim().length;return Object(g.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(g.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(g.jsx)(k.a,{id:"search",label:"Search",variant:"outlined",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(g.jsxs)(P.a,{children:[Object(g.jsx)(A.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(g.jsx)(y.a,{arrow:!0,placement:"top",title:"Search",children:Object(g.jsx)(S.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(g.jsx)(W.a,{color:"primary"})})})]})}}),Object(g.jsx)(y.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(g.jsx)(S.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(g.jsx)(D.a,{color:"error"})})})]}),Object(g.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(g.jsx)(A.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(g.jsx)(y.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(g.jsx)(S.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(g.jsx)(I.a,{})})})]})]})},B=a(53),E=a(100),F=a.n(E),R=a(59),N=a(505),K=a(40),L=function(){var e=Object(p.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],i=Object(p.useState)({page:1,limit:10,packagename:null}),s=Object(d.a)(i,2),x=s[0],O=s[1],v=Object(p.useState)(),y=Object(d.a)(v,2),S=y[0],C=y[1],k=Object(p.useState)(!0),P=Object(d.a)(k,2),A=P[0],M=P[1],W=Object(p.useState)(!1),D=Object(d.a)(W,2),I=D[0],E=D[1],L=Object(p.useState)(""),H=Object(d.a)(L,2),J=H[0],V=H[1],X=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)(x);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==J&&B.b.error("No element match"),a=t.data.listResult,n(a),C(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){x.page<S&&(O({limit:x.limit,page:x.page+1}),M(!0))},U=function(){x.page>1&&(O({limit:x.limit,page:x.page-1}),M(!0))},q=function(){E(!0),V("")},Q=function(){O(Object(o.a)(Object(o.a)({},x),{},{packagename:J})),M(!0)};return Object(p.useEffect)((function(){I?(O({page:1,limit:10}),E(!1),M(!0)):A&&(X(),M(!1))}),[I,A]),Object(g.jsxs)(r.a,{children:[Object(g.jsx)(c.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"Applications"}),Object(g.jsx)(j.a,{theme:T.a,children:Object(g.jsx)(h.a,{columns:f,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:100,minSize:10,size:80},initialState:{density:"comfortable",columnVisibility:{id:!1},columnOrder:["id","name","packagename","version","issystem","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;return[Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(b.a,{flexBasis:"25%",children:Object(g.jsx)(K.c,{to:"/tms-application/application-management/application?id=".concat(t.original.id,"&name=").concat(t.original.name),children:Object(g.jsx)("div",{children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)(F.a,{color:"primary"}),Object(g.jsx)(c.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]})})})})})]},renderDetailPanel:function(e){var t=e.row;return Object(g.jsx)(b.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(g.jsxs)(c.a,{fontSize:"15px",children:["Created Date: ",Object(R.a)(t.original.createdDate)]})})},renderBottomToolbarCustomActions:function(){return Object(g.jsx)(w,{paramsPageDevices:x,totalPage:S,handleMoveToPrePage:U,handleMoveToNextPage:G})},renderTopToolbarCustomActions:function(){return Object(g.jsx)(z,{searchTerm:J,setSearchTerm:V,setResettable:E,handleSearchMode:Q,handleResetTable:q})}})})]})},H=a(187),J=a(140),V=a(194),X=function(e){var t,a=e.data,n=e.option,i=e.legend;return t={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:a.map((function(e){return e.name}))},toolbox:{feature:{saveAsImage:{}}},yAxis:{type:"category",data:a.map((function(e){return e.name}))},xAxis:{type:"value",minInterval:1},series:[{name:i[0],type:"bar",stack:"stack",barWidth:"40%",itemStyle:{color:V.a[9],emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 1)"}},data:a.map((function(e){return e.value1}))},{name:i[1],type:"bar",stack:"stack",barWidth:"40%",itemStyle:{color:V.a[6],emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 1)"}},data:a.map((function(e){return e.value2}))}]},Object(g.jsx)(J.a,{minHeight:"400px",minWidth:"800",maxWidth:"90%",option:t})},G=function(){var e=Object(p.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)();case 2:t=e.sent,console.log(t),200===t.status&&n(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){i();var e=setInterval((function(){i()}),18e4);return function(){return clearInterval(e)}}),[]),Object(g.jsx)(X,{data:a,legend:["Unconnected Devices","Connecting Devices"]})};t.default=function(){return Object(g.jsxs)(s.a,{children:[Object(g.jsx)(n.a,{routeSegments:[{name:"Application Manager",path:"/tms-application/application-management"},{name:"Applications",path:"/tms-application/application-management"}]}),Object(g.jsxs)(i.a,{spacing:3,children:[Object(g.jsxs)(r.a,{style:{overflow:"auto"},children:[Object(g.jsx)(c.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"Status"}),Object(g.jsx)(G,{})]}),Object(g.jsx)(L,{})]})]})}}}]);
//# sourceMappingURL=17.32c1ab6e.chunk.js.map
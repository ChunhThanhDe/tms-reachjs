(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[7],{514:function(e,t,a){"use strict";var n=a(26),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox")},515:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z"}),"QueuePlayNext");t.default=i},580:function(e,t,a){"use strict";var n=a(26),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M21 10h-3L2 3v7l9 2-9 2v7l8-3.5V21c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm0 11h-9v-9h9v9zm-4.5-1L13 16h2v-3h3v3h2l-3.5 4z"}),"SendAndArchive")},687:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M10 4h4v4h-4zM4 16h4v4H4zm0-6h4v4H4zm0-6h4v4H4zm10 8.42V10h-4v4h2.42zm6.88-1.13-1.17-1.17c-.16-.16-.42-.16-.58 0l-.88.88L20 12.75l.88-.88c.16-.16.16-.42 0-.58zM11 18.25V20h1.75l6.67-6.67-1.75-1.75zM16 4h4v4h-4z"}),"AppRegistration");t.default=i},688:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)([(0,r.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2v7.22z"},"0"),(0,r.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3V2zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");t.default=i},689:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm1 0V8l5 4-5 4z"}),"NotStarted");t.default=i},690:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle");t.default=i},691:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"}),"PauseCircle");t.default=i},692:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 14H8V8h8v8z"}),"StopCircle");t.default=i},693:function(e,t,a){"use strict";var n=a(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(33)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M13.05 9.79 10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1 4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"}),"SlowMotionVideo");t.default=i},722:function(e,t,a){"use strict";a.r(t);var n=a(68),c=a(272),r=a(83),i=a(3),s=a(17),l=a(28),o=a(8),d=a(2),j=a.n(d),u=a(184),b=a(480),h=a(481),x=a(371),O=a(271),m=a(361),p=a(366),f=a(66),g=a(106),y=a.n(g),v=a(367),C=a(460),S=a(1),w=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(b.a,{title:"Previous page",children:Object(S.jsx)(h.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(b.a,{title:"Next page",children:Object(S.jsx)(h.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},P=a(375),T=a(485),k=a(455),z=a(82),M=a.n(z),A=a(461),R=a(462),E=a(58),N=a(364),V=a(469),B=a(11),D=a(9),F=a(137),I=a(7),K=a(15),W=a(73),H=a(65);function L(e){return Object(H.a)("MuiFormGroup",e)}Object(W.a)("MuiFormGroup",["root","row","error"]);var _=a(48),U=a(50),q=["className","row"],G=Object(I.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.row&&t.row]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),J=d.forwardRef((function(e,t){var a=Object(K.a)({props:e,name:"MuiFormGroup"}),n=a.className,c=a.row,r=void 0!==c&&c,s=Object(B.a)(a,q),l=Object(_.a)(),o=Object(U.a)({props:a,muiFormControl:l,states:["error"]}),d=Object(i.a)(Object(i.a)({},a),{},{row:r,error:o.error}),j=function(e){var t=e.classes,a={root:["root",e.row&&"row",e.error&&"error"]};return Object(F.a)(a,L,t)}(d);return Object(S.jsx)(G,Object(i.a)({className:Object(D.a)(j.root,n),ownerState:d,ref:t},s))})),Q=a(38),X=a(75),Y=a(212),Z=a(99),$=["actions","children","defaultValue","name","onChange","value"],ee=d.forwardRef((function(e,t){var a=e.actions,n=e.children,c=e.defaultValue,r=e.name,s=e.onChange,l=e.value,j=Object(B.a)(e,$),u=d.useRef(null),b=Object(X.a)({controlled:l,default:c,name:"RadioGroup"}),h=Object(o.a)(b,2),x=h[0],O=h[1];d.useImperativeHandle(a,(function(){return{focus:function(){var e=u.current.querySelector("input:not(:disabled):checked");e||(e=u.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var m=Object(Q.a)(t,u),p=Object(Z.a)(r),f=d.useMemo((function(){return{name:p,onChange:function(e){O(e.target.value),s&&s(e,e.target.value)},value:x}}),[p,s,O,x]);return Object(S.jsx)(Y.a.Provider,{value:f,children:Object(S.jsx)(J,Object(i.a)(Object(i.a)({role:"radiogroup",ref:m},j),{},{children:n}))})})),te=a(486),ae=a(484),ne=a(514),ce=a(97),re=a(734);function ie(e){var t=e.label,a=e.selectedOption,n=e.setSelectedOption,c=Object(d.useState)([]),r=Object(o.a)(c,2),j=r[0],u=r[1],b=Object(d.useState)({page:1,limit:10,search:null}),h=Object(o.a)(b,2),x=h[0],O=h[1],m=Object(d.useState)(!1),p=Object(o.a)(m,2),f=p[0],g=p[1],y=function(e){O(Object(i.a)(Object(i.a)({},x),{},{search:e.target.value})),g(!1)},v=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.f)(x);case 2:200===(t=e.sent).status&&(a=t.data.listResult,u(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){v()}),[x]),Object(d.useEffect)((function(){f||O(Object(i.a)(Object(i.a)({},x),{},{search:null}))}),[f]),Object(S.jsx)("div",{children:Object(S.jsx)(re.a,{options:j,getOptionLabel:function(e){return e.name},id:"include-input-in-list",value:a,onChange:function(e,t){n(t),g(!0)},renderInput:function(e){return Object(S.jsx)(P.a,Object(i.a)(Object(i.a)({},e),{},{label:t,variant:"outlined",onChange:y,fullWidth:!0}))}})})}var se=function(e){var t=e.setResettable,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(""),x=Object(o.a)(i,2),m=x[0],f=x[1],g=Object(d.useState)(),y=Object(o.a)(g,2),C=y[0],w=y[1],T=j.a.useState(null),k=Object(o.a)(T,2),z=k[0],M=k[1],A=function(){r((function(e){return!e})),w(),f(""),M(null)},R=function(e,t){switch(t){case"policyname":f(e.target.value);break;case"action":w(e.target.value)}},B=function(){for(var e=!0,t={policyname:m,commandName:z.name,action:C},a=["policyname","action","commandName"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,r(!0),E.b.info("Missing required parameter: "+a[n]);break}return e},D=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B()){e.next=7;break}return a={policyname:m,commandName:z.name,action:C},e.next=5,Object(ce.p)(a);case 5:(n=e.sent)&&500===n.statusCode?n.message.includes("JSON parse error")?E.b.error("Contact must be phone number"):E.b.error(n.message):n&&200===n.status?(E.b.success("Create list devices success"),A(),t(!0)):(E.b.error(n.message),A());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Add New Policy",children:Object(S.jsx)(h.a,{onClick:function(){r((function(e){return!e}))},children:Object(S.jsx)(ne.a,{color:"primary"})})}),Object(S.jsx)(N.a,{open:c,onClose:A,children:Object(S.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400,width:"60%"},children:[Object(S.jsx)(O.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new Policy"}),Object(S.jsxs)(v.a,{container:!0,spacing:2,children:[Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(P.a,{id:"policyname",label:"Policy",fullWidth:!0,margin:"normal",onChange:function(e){R(e,"policyname")},value:m})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsxs)(ae.a,{style:{border:"1px solid #ccc",borderRadius:"4px",padding:"10px",width:"100%"},children:["Action",Object(S.jsxs)(ee,{row:!0,name:"row-radio-buttons-group",onChange:function(e){R(e,"action")},defaultValue:C,children:[Object(S.jsx)(te.a,{value:1,control:Object(S.jsx)(V.a,{}),label:"Install"}),Object(S.jsx)(te.a,{value:2,control:Object(S.jsx)(V.a,{}),label:"Uninstall"}),Object(S.jsx)(te.a,{value:3,control:Object(S.jsx)(V.a,{}),label:"Run Command"})]})]})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(ie,{label:"Command",selectedOption:z,setSelectedOption:M})})]}),Object(S.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(S.jsx)(p.a,{variant:"contained",onClick:A,children:"Cancel"}),Object(S.jsx)(p.a,{variant:"contained",type:"submit",onClick:D,children:"Save"})]})]})})]})},le=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,r=e.setResettable,i=0===t.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)(P.a,{id:"search",label:"Search",variant:"outlined",placeholder:"Only search in Policy",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(S.jsxs)(T.a,{children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Only search in Policy",children:Object(S.jsx)(h.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){i||c()},children:Object(S.jsx)(M.a,{color:"primary"})})})]})}})}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(v.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(h.a,{type:"button",onClick:function(){a(""),n()},disabled:i,children:Object(S.jsx)(A.a,{color:"error"})})})}),Object(S.jsxs)(v.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(S.jsx)(R.a,{})})}),Object(S.jsx)(se,{setResettable:r}),","]})]})]})},oe=a(497),de=function(e){var t=e.row,a=e.setUpdatetable,n=Object(d.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],j=Object(d.useState)(t.original.action),b=Object(o.a)(j,2),h=b[0],x=b[1],m=Object(d.useState)(t.original.policyname),f=Object(o.a)(m,2),g=f[0],y=f[1],C=t.original.action,w=t.original.policyname,T=function(){i((function(e){return!e}))},k=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h!==C||w!==g){e.next=4;break}return E.b.info("Nothing changes"),T(),e.abrupt("return");case 4:if(""!==C){e.next=6;break}return e.abrupt("return");case 6:return n={id:t.original.id,policyname:g,action:h},e.next=9,Object(ce.w)(n);case 9:(c=e.sent)&&200===c.status?(E.b.success("Change list devices data success"),a(!0),T()):500===c.statusCode&&E.b.error("Error: ",c.message);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{onClick:function(){i((function(e){return!e}))},children:[Object(S.jsx)(oe.a,{color:"primary"}),Object(S.jsx)(O.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Policy"})]}),Object(S.jsx)(N.a,{open:r,onClose:T,children:Object(S.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(S.jsx)(O.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit"}),Object(S.jsxs)(v.a,{container:!0,spacing:2,children:[Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(P.a,{id:"name",label:"Policy Name",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){y(e.target.value)}(e)},value:g})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsxs)(ae.a,{style:{border:"1px solid #ccc",borderRadius:"4px",padding:"10px",width:"100%"},children:["Action",Object(S.jsxs)(ee,{row:!0,name:"row-radio-buttons-group",onChange:function(e){x(e.target.value)},defaultValue:h,children:[Object(S.jsx)(te.a,{value:1,control:Object(S.jsx)(V.a,{}),label:"Install"}),Object(S.jsx)(te.a,{value:2,control:Object(S.jsx)(V.a,{}),label:"Uninstall"}),Object(S.jsx)(te.a,{value:3,control:Object(S.jsx)(V.a,{}),label:"Run Command"})]})]})})]}),Object(S.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(S.jsx)(p.a,{variant:"contained",onClick:T,children:"Cancel"}),Object(S.jsx)(p.a,{variant:"contained",type:"submit",onClick:k,children:"Save"})]})]})})]})},je=a(67),ue=a(107),be=a.n(ue),he=a(41),xe=a(26),Oe=Object(xe.a)(Object(S.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),me=Object(xe.a)(Object(S.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause"),pe=Object(xe.a)(Object(S.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),fe=a(687),ge=a.n(fe),ye=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"packagename",header:"Package Name",enableEditing:!1,enableSorting:!1},{accessorKey:"version",header:"Version",enableEditing:!1,enableSorting:!1},{accessorKey:"packagesize",header:"Size (bytes)",enableEditing:!1,enableSorting:!1}],ve=function(e){var t=e.paramsPageUser,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(b.a,{title:"Previous page",children:Object(S.jsx)(h.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(b.a,{title:"Next page",children:Object(S.jsx)(h.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},Ce=a(580),Se=function(e){var t=e.handleEditPolicyApk,a=e.handleResetTable,n=e.handleSearchMode,c=e.searchTermPackage,r=e.setSearchTermPackage,i=e.searchTermVersion,s=e.setSearchTermVersion,l=0===c.trim().length&&0===i.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(S.jsx)(P.a,{id:"searchpackage",label:"Search Package Name",variant:"outlined",size:"small",value:c,onChange:function(e){r(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(P.a,{id:"searchversion",label:"Search Version",variant:"outlined",size:"small",value:i,onChange:function(e){s(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Search",children:Object(S.jsx)(h.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){l||n()},children:Object(S.jsx)(M.a,{color:"primary"})})}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(h.a,{type:"button",onClick:function(){r(""),s(""),a()},disabled:l,children:Object(S.jsx)(A.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:a,children:Object(S.jsx)(R.a,{})})}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Add devices",children:Object(S.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(S.jsx)(Ce.a,{})})})]})]})]})},we=function(e){var t=e.id,a=e.handleAddAPKSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],u=Object(d.useState)({page:1,limit:5,packagename:"",version:""}),b=Object(o.a)(u,2),h=b[0],x=b[1],O=Object(d.useState)(),p=Object(o.a)(O,2),g=p[0],y=p[1],v=Object(d.useState)(!0),C=Object(o.a)(v,2),w=C[0],P=C[1],T=Object(d.useState)(!1),k=Object(o.a)(T,2),z=k[0],M=k[1],A=Object(d.useState)(""),R=Object(o.a)(A,2),N=R[0],V=R[1],B=Object(d.useState)(""),D=Object(o.a)(B,2),F=D[0],I=D[1],K=Object(d.useState)([]),W=Object(o.a)(K,2),H=W[0],L=W[1],_=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=Object.keys(H).filter((function(e){return H[e]})).map((function(e){return parseInt(e)}))).length){e.next=5;break}E.b.error("There is no APK file selected."),e.next=9;break;case 5:return e.next=7,Object(ce.q)(t,n);case 7:200===(c=e.sent).status?(E.b.success("Add apk success"),a()):E.b.error(c.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.e)(h);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&(null!==N||null!==F?E.b.error("No element matchs"):E.b.error("Nothing to show")),a=t.data.listResult,j(a),y(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){h.page<g&&(x({limit:h.limit,page:h.page+1}),P(!0))},G=function(){h.page>1&&(x({limit:h.limit,page:h.page-1}),P(!0))},J=function(){M(!0),V(""),I("")},Q=function(){x(Object(i.a)(Object(i.a)({},h),{},{packagename:N,version:F})),P(!0)};return Object(d.useEffect)((function(){z?(x({page:1,limit:5,packagename:null,version:null}),M(!1),P(!0)):w&&(U(),P(!1))}),[z,w]),Object(S.jsx)(m.a,{theme:je.a,children:Object(S.jsx)(f.a,{columns:ye,data:r,initialState:{density:"compact",columnVisibility:{packagesize:!1,id:!1}},enableRowSelection:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,enableSelectAll:!1,positionToolbarAlertBanner:"none",getRowId:function(e){return e.id},onRowSelectionChange:function(e){return L(e)},state:{rowSelection:H},muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(ve,{paramsPageUser:h,totalPage:g,handleMoveToPrePage:G,handleMoveToNextPage:q})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(Se,{handleEditPolicyApk:_,searchTermPackage:N,setSearchTermPackage:V,searchTermVersion:F,setSearchTermVersion:I,setResettable:M,handleSearchMode:Q,handleResetTable:J})}})})},Pe=a(219),Te=function(e){var t=e.row,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(!1),s=Object(o.a)(i,2),l=s[0],j=s[1],b=function(){r((function(e){return!e}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{onClick:function(){r((function(e){return!e}))},children:[Object(S.jsx)(ge.a,{color:"primary"}),Object(S.jsx)(O.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Policy Map APK"})]}),Object(S.jsx)(N.a,{open:c,onClose:b,children:Object(S.jsx)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"95%",minHeight:"35%",maxHeight:"95%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:0,overflow:"auto"},children:Object(S.jsxs)(u.a,{sx:{p:1},children:[Object(S.jsxs)(u.a,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(O.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:22,sx:{marginTop:"15px",marginLeft:"10px"},children:"Add APKs to Policy"}),Object(S.jsx)(h.a,{type:"button",children:Object(S.jsx)(A.a,{color:"inherit",onClick:b})})]}),Object(S.jsx)(we,{id:t.original.id,handleAddAPKSuccess:function(){j(!0)}}),Object(S.jsx)("br",{}),Object(S.jsx)(u.a,{sx:{width:"100%",height:"100%",bgcolor:"background.paper"},children:Object(S.jsx)(Pe.a,{id:t.original.id,addAPKSuccess:l})})]})})})]})},ke=a(74),ze=a(689),Me=a.n(ze),Ae=a(690),Re=a.n(Ae),Ee=a(691),Ne=a.n(Ee),Ve=a(692),Be=a.n(Ve),De=a(693),Fe=a.n(De),Ie=a(730),Ke=a(740),We=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],He=a(84),Le=function(e){var t=e.paramsPageUser,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(b.a,{title:"Previous page",children:Object(S.jsx)(h.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(b.a,{title:"Next page",children:Object(S.jsx)(h.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},_e=function(e){var t=e.handleEditPolicyApk,a=e.handleResetTable,n=e.handleSearchMode,c=e.searchTerm,r=e.setSearchTerm,i=0===c.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(S.jsx)(P.a,{id:"search",label:"Only search in SerialNumber and Descripttion",variant:"outlined",size:"small",value:c,onChange:function(e){r(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Search",children:Object(S.jsx)(h.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){i||n()},children:Object(S.jsx)(M.a,{color:"primary"})})}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(h.a,{type:"button",onClick:function(){r(""),a()},disabled:i,children:Object(S.jsx)(A.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:a,children:Object(S.jsx)(R.a,{})})}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(S.jsx)(Ce.a,{})})})]})]})]})},Ue=function(e){var t=e.id,a=e.setAddSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],u=Object(d.useState)({page:1,limit:5,search:null}),b=Object(o.a)(u,2),h=b[0],O=b[1],p=Object(d.useState)(),g=Object(o.a)(p,2),y=g[0],v=g[1],C=Object(d.useState)(!0),w=Object(o.a)(C,2),P=w[0],T=w[1],k=Object(d.useState)(!1),z=Object(o.a)(k,2),M=z[0],A=z[1],R=Object(d.useState)(""),N=Object(o.a)(R,2),V=N[0],B=N[1],D=Object(d.useState)([]),F=Object(o.a)(D,2),I=F[0],K=F[1],W=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=Object.keys(I).filter((function(e){return I[e]})).map((function(e){return parseInt(e)}))).length){e.next=5;break}E.b.error("There is no device selected."),e.next=9;break;case 5:return e.next=7,Object(ce.r)(t,n);case 7:200===(c=e.sent).status?(E.b.success("Add device success"),a(!0)):E.b.error(c.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.d)(h);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&(null!==V?E.b.error("No element matchs"):E.b.error("Nothing to show")),a=t.data.listResult,j(a),v(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){h.page<y&&(O({limit:h.limit,page:h.page+1}),T(!0))},_=function(){h.page>1&&(O({limit:h.limit,page:h.page-1}),T(!0))},U=function(){A(!0),B("")},q=function(){O(Object(i.a)(Object(i.a)({},h),{},{search:V})),T(!0)};return Object(d.useEffect)((function(){M?(O({page:1,limit:5,packagename:null,version:null}),A(!1),T(!0)):P&&(H(),T(!1))}),[M,P]),Object(S.jsx)(x.a,{sx:{m:1},children:Object(S.jsx)(m.a,{theme:je.a,children:Object(S.jsx)(f.a,{columns:We,data:r,initialState:{density:"compact",columnVisibility:{packagesize:!1,id:!1}},enableRowSelection:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,enableSelectAll:!1,positionToolbarAlertBanner:"none",getRowId:function(e){return e.id},onRowSelectionChange:function(e){return K(e)},state:{rowSelection:I},muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(Le,{paramsPageUser:h,totalPage:y,handleMoveToPrePage:_,handleMoveToNextPage:L})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(_e,{handleEditPolicyApk:W,searchTerm:V,setSearchTerm:B,setResettable:A,handleSearchMode:q,handleResetTable:U})}})})})},qe=a(515),Ge=a.n(qe),Je=a(445),Qe=a(457),Xe=a(488),Ye=a(490),Ze=a(489),$e=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],et=a(465),tt=function(e){var t=e.paramsPage,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(b.a,{title:"Previous page",children:Object(S.jsx)(h.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(b.a,{title:"Next page",children:Object(S.jsx)(h.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},at=function(e){var t=e.handleResetTable,a=e.handleSearchMode,n=e.searchTerm,c=e.setSearchTerm,r=0===n.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(S.jsx)(P.a,{id:"search",label:"Only search in Serial Number and Descripttion",variant:"outlined",size:"small",value:n,onChange:function(e){c(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Search",children:Object(S.jsx)(h.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||a()},children:Object(S.jsx)(M.a,{color:"primary"})})}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(h.a,{type:"button",onClick:function(){c(""),t()},disabled:r,children:Object(S.jsx)(A.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(S.jsx)(R.a,{})})})]})]})]})},nt=function(e){var t=e.policyId,a=e.deviceId,n=e.setUpdateTable,c=e.setAddSuccess,r=Object(d.useState)(!1),i=Object(o.a)(r,2),j=i[0],u=i[1],x=function(){u(!1)},O=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.c)(t,a);case 2:204===(r=e.sent).status?(E.b.success("Delete success"),n(!0),c(!0),x()):(E.b.error("Delete fail!!!",r.message),x());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(b.a,{arrow:!0,placement:"bottom",title:"Delete",children:Object(S.jsx)(h.a,{onClick:function(){u(!0)},children:Object(S.jsx)(et.a,{color:"error"})})}),Object(S.jsxs)(Je.a,{open:j,onClose:x,id:"deleteDialog",children:[Object(S.jsx)(Qe.a,{children:"Delete confirmation"}),Object(S.jsx)(Xe.a,{children:Object(S.jsx)(Ye.a,{children:"Are you sure you want to delete device?"})}),Object(S.jsxs)(Ze.a,{children:[Object(S.jsx)(p.a,{onClick:x,color:"primary",children:"Cancel"}),Object(S.jsx)(p.a,{onClick:O,color:"error",children:"Delete"})]})]})]})},ct=function(e){var t=e.id,a=e.addSuccess,n=e.setAddSuccess,c=Object(d.useState)([]),r=Object(o.a)(c,2),j=r[0],O=r[1],p=Object(d.useState)({page:1,limit:5,id:t,search:null}),g=Object(o.a)(p,2),y=g[0],v=g[1],C=Object(d.useState)(!0),w=Object(o.a)(C,2),P=w[0],T=w[1],k=Object(d.useState)(!1),z=Object(o.a)(k,2),M=z[0],A=z[1],R=Object(d.useState)(""),N=Object(o.a)(R,2),V=N[0],B=N[1],D=Object(d.useState)(),F=Object(o.a)(D,2),I=F[0],K=F[1],W=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.g)(y);case 2:200===(t=e.sent).status?(a=t.data.listResult,O(a),K(t.data.totalPage)):200!==t.status&&(K(""),O([]),E.b.error(t.message));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){y.page<I&&(v({limit:y.limit,page:y.page+1}),T(!0))},L=function(){y.page>1&&(v({limit:y.limit,page:y.page-1}),T(!0))},_=function(){A(!0),B("")},U=function(){v(Object(i.a)(Object(i.a)({},y),{},{search:V})),T(!0)};return Object(d.useEffect)((function(){P&&(W(),n(!1),T(!1)),a&&T(!0),M&&(v({page:1,limit:5,id:t,search:null}),T(!0))}),[P,a,M]),Object(S.jsx)(x.a,{sx:{m:1},children:Object(S.jsx)(m.a,{theme:je.a,children:Object(S.jsx)(f.a,{columns:$e,data:j,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnOrder:["id","sn","model","ip","firmwareVer","location","description","mrt-row-actions"]},renderRowActions:function(e){var a=e.row;return[Object(S.jsxs)(u.a,{children:[Object(S.jsx)(b.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(S.jsx)(he.c,{to:"/tms-devices/devices-management/device?id=".concat(a.original.id,"&sn=").concat(a.original.sn),children:Object(S.jsx)(h.a,{children:Object(S.jsx)(be.a,{color:"primary"})})})}),Object(S.jsx)(nt,{policyId:t,deviceId:a.original.id,setUpdateTable:T,setAddSuccess:n})]})]},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(tt,{paramsPage:y,totalPage:I,handleMoveToPrePage:L,handleMoveToNextPage:H})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(at,{searchTerm:V,setSearchTerm:B,setResettable:A,handleSearchMode:U,handleResetTable:_})}})})})},rt=a(688),it=a.n(rt),st=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(b.a,{title:"Previous page",children:Object(S.jsx)(h.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(b.a,{title:"Next page",children:Object(S.jsx)(h.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},lt=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,r=(e.setResettable,t&&0===t.trim().length);return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(P.a,{id:"search",label:"Search",variant:"outlined",placeholder:"Only search in Name",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(S.jsxs)(T.a,{children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Only search in Name",children:Object(S.jsx)(h.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||c()},children:Object(S.jsx)(M.a,{color:"primary"})})})]})}}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(h.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(S.jsx)(A.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(S.jsx)(R.a,{})})})]})]})},ot=function(e){var t=e.policyId,a=e.listDeviceId,n=e.setAddSuccess,c=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.s)(t,a);case 2:200===(c=e.sent).status?(E.b.success("Add list success"),n(!0)):E.b.error("Add fail!!! "+c.data.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Add this list to policy",children:Object(S.jsx)(h.a,{onClick:c,children:Object(S.jsx)(it.a,{color:"primary"})})})},dt=function(e){var t=e.policyId,a=e.setAddSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],b=Object(d.useState)({page:1,limit:5,name:null}),h=Object(o.a)(b,2),p=h[0],g=h[1],y=Object(d.useState)(),v=Object(o.a)(y,2),C=v[0],w=v[1],P=Object(d.useState)(!0),T=Object(o.a)(P,2),k=T[0],z=T[1],M=Object(d.useState)(!1),A=Object(o.a)(M,2),R=A[0],N=A[1],V=Object(d.useState)(""),B=Object(o.a)(V,2),D=B[0],F=B[1],I=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"name",header:"Name",enableEditing:!1,enableSorting:!1},{accessorKey:"location",header:"Location"},{accessorKey:"description",header:"Description",enableEditing:!1},{accessorKey:"addToPolicy",header:"Add to policy",enableEditing:!1,Cell:function(e){return Object(S.jsx)(ot,{policyId:t,listDeviceId:e.row.original.id,setAddSuccess:a})}}],K=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.g)(p);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==D&&E.b.error("No elemant match"),a=t.data.listResult,j(a),w(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){p.page<C&&(g({limit:p.limit,page:p.page+1}),z(!0))},H=function(){p.page>1&&(g({limit:p.limit,page:p.page-1}),z(!0))},L=function(){N(!0),F("")},_=function(){g(Object(i.a)(Object(i.a)({},p),{},{name:D})),z(!0)};return Object(d.useEffect)((function(){R?(g({page:1,limit:5,name:null}),N(!1),z(!0)):k&&(K(),z(!1))}),[R,k]),Object(S.jsx)(x.a,{sx:{m:1},children:Object(S.jsx)(m.a,{theme:je.a,children:Object(S.jsx)(f.a,{columns:I,data:r,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnVisibility:{id:!1},columnOrder:["id","name","location","description","addToPolicy","mrt-row-expand"]},renderDetailPanel:function(e){var t=e.row;return Object(S.jsxs)(u.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(S.jsxs)(O.a,{fontSize:"15px",children:["Created Date: ",Object(ke.a)(t.original.createdDate)]}),Object(S.jsxs)(O.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(S.jsxs)(O.a,{fontSize:"15px",children:["Modified Date: ",Object(ke.a)(t.original.modifiedDate)]}),Object(S.jsxs)(O.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(st,{paramsPageDevices:p,totalPage:C,handleMoveToPrePage:H,handleMoveToNextPage:W})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(lt,{searchTerm:D,setSearchTerm:F,setResettable:N,handleSearchMode:_,handleResetTable:L})}})})})},jt=function(e){var t=e.row,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(!1),s=Object(o.a)(i,2),l=s[0],j=s[1],b=Object(d.useState)(1),x=Object(o.a)(b,2),m=x[0],f=x[1],g=function(){r((function(e){return!e}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{onClick:function(){r((function(e){return!e}))},children:[Object(S.jsx)(Ge.a,{color:"primary"}),Object(S.jsx)(O.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Policy Device & List Device"})]}),Object(S.jsx)(N.a,{open:c,onClose:g,children:Object(S.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"95%",minHeight:"35%",maxHeight:"95%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:0,overflow:"auto"},children:[Object(S.jsxs)(u.a,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(Ie.a,{value:m,onChange:function(e,t){return f(t)},textColor:"primary",indicatorColor:"primary",children:[Object(S.jsx)(Ke.a,{value:1,label:"Add new device"}),Object(S.jsx)(Ke.a,{value:2,label:"Add new list device"})]}),Object(S.jsx)(h.a,{type:"button",children:Object(S.jsx)(A.a,{color:"inherit",onClick:g})})]}),1===m&&Object(S.jsxs)(u.a,{sx:{p:1},children:[Object(S.jsx)(Ue,{id:t.original.id,setAddSuccess:j}),Object(S.jsx)("br",{}),Object(S.jsx)(ct,{id:t.original.id,addSuccess:l,setAddSuccess:j})]}),2===m&&Object(S.jsxs)(u.a,{sx:{p:1},children:[Object(S.jsx)(dt,{policyId:t.original.id,setAddSuccess:j}),Object(S.jsx)("br",{}),Object(S.jsx)(ct,{id:t.original.id,addSuccess:l,setAddSuccess:j})]})]})})]})},ut=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)({page:1,limit:10,policyname:null}),r=Object(o.a)(c,2),j=r[0],g=r[1],y=Object(d.useState)(),v=Object(o.a)(y,2),C=v[0],P=v[1],T=Object(d.useState)(!0),k=Object(o.a)(T,2),z=k[0],M=k[1],A=Object(d.useState)(!1),R=Object(o.a)(A,2),N=R[0],V=R[1],B=Object(d.useState)(""),D=Object(o.a)(B,2),F=D[0],I=D[1],K=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.j)(j);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==F&&E.b.error("No elements match"),a=t.data.listResult,n(a),P(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){j.page<C&&(g({limit:j.limit,page:j.page+1}),M(!0))},H=function(){j.page>1&&(g({limit:j.limit,page:j.page-1}),M(!0))},L=function(){V(!0),I("")},_=function(){g(Object(i.a)(Object(i.a)({},j),{},{policyname:F})),M(!0)},U=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t,a){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.y)(t,a);case 2:200===(n=e.sent).status?M(!0):E.b.error(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){N?(g({page:1,limit:10,policyname:null}),V(!1),M(!0)):z&&(K(),M(!1))}),[N,z]);var q=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"policyname",header:"Policy",enableEditing:!1,enableSorting:!1},{accessorKey:"commandName",header:"Command",enableEditing:!1,enableSorting:!1},{accessorKey:"action",header:"Action",enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(S.jsx)(u.a,{children:1===e.row.original.action?"Install":2===e.row.original.action?"Uninstall":"Run command"})}},{accessorKey:"status",header:"Staus",enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(S.jsx)(u.a,{children:0===e.row.original.status?Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Pennding",children:Object(S.jsx)(Me.a,{color:"primary"})}):1===e.row.original.status?Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Running",children:Object(S.jsx)(Re.a,{color:"success"})}):2===e.row.original.status?Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Pause",children:Object(S.jsx)(Ne.a,{color:"warning"})}):Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Stop",children:Object(S.jsx)(Be.a,{color:"error"})})})}},{Header:"Policy Action",accessorKey:"policyAction",muiTableHeadCellProps:{align:"left"},muiTableBodyCellProps:{align:"center"},Cell:function(e){var t=e.row;return Object(S.jsxs)(u.a,{sx:{display:"flex",gap:"1rem"},children:[Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:2===t.original.status?"Continue":"Run",disabled:!(0===t.original.status||3===t.original.status||2===t.original.status),children:Object(S.jsx)(h.a,{color:0===t.original.status||3===t.original.status||2===t.original.status?"primary":"inherit",disabled:!(0===t.original.status||3===t.original.status||2===t.original.status),onClick:function(){U(t.original.id,1)},children:2===t.original.status?Object(S.jsx)(Fe.a,{}):Object(S.jsx)(Oe,{})})}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Pause",disabled:1!==t.original.status,children:Object(S.jsx)(h.a,{color:1===t.original.status?"warning":"inherit",disabled:1!==t.original.status,onClick:function(){U(t.original.id,2)},children:Object(S.jsx)(me,{})})}),Object(S.jsx)(b.a,{arrow:!0,placement:"top",title:"Stop",disabled:!(1===t.original.status||2===t.original.status),children:Object(S.jsx)(h.a,{color:1===t.original.status||2===t.original.status?"error":"inherit",disabled:!(1===t.original.status||2===t.original.status),onClick:function(){U(t.original.id,3)},children:Object(S.jsx)(pe,{})})})]})}}];return Object(S.jsxs)(x.a,{children:[Object(S.jsx)(O.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"Policies"}),Object(S.jsx)(m.a,{theme:je.a,children:Object(S.jsx)(f.a,{columns:q,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1},columnOrder:["id","policyname","commandName","action","status","mrt-row-expand","mrt-row-actions","policyAction"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{flexBasis:"25%",children:Object(S.jsx)(de,{row:t,setUpdatetable:M})}),Object(S.jsx)(u.a,{flexBasis:"25%",children:Object(S.jsx)(Te,{row:t,setUpdatetable:M})}),Object(S.jsxs)(u.a,{flexBasis:"25%",children:[Object(S.jsx)(jt,{row:t,setUpdatetable:M}),","]}),Object(S.jsx)(u.a,{flexBasis:"25%",children:Object(S.jsx)(he.c,{to:"/tms-policy/policy-management/policy?id=".concat(t.original.id,"&pn=").concat(t.original.policyname),children:Object(S.jsxs)(p.a,{children:[Object(S.jsx)(be.a,{color:"primary"}),Object(S.jsx)(O.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]})})})]})]},displayColumnDefOptions:{"mrt-row-actions":{size:300,header:""}},renderDetailPanel:function(e){var t=e.row;return Object(S.jsxs)(u.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(S.jsxs)(O.a,{fontSize:"15px",children:["Created Date: ",Object(ke.a)(t.original.createdDate)]}),Object(S.jsxs)(O.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(S.jsxs)(O.a,{fontSize:"15px",children:["Modified Date: ",Object(ke.a)(t.original.modifiedDate)]}),Object(S.jsxs)(O.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(w,{paramsPageDevices:j,totalPage:C,handleMoveToPrePage:H,handleMoveToNextPage:W})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(le,{searchTerm:F,setSearchTerm:I,setResettable:V,handleSearchMode:_,handleResetTable:L})}})})]})},bt=a(186),ht=a(169),xt=a(191),Ot=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)([]),r=Object(o.a)(c,2),i=r[0],j=r[1],u=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(bt.b)("status");case 2:200===(t=e.sent).status&&n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(bt.b)("action");case 2:200===(t=e.sent).status&&j(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){u(),b();var e=setInterval((function(){u(),b()}),18e4);return function(){return clearInterval(e)}}),[]),Object(S.jsxs)(v.a,{container:!0,spacing:1,children:[Object(S.jsx)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsxs)(x.a,{sx:{px:1,py:1,mb:1},children:[Object(S.jsx)(ht.a,{level:3,style:ht.b,children:"Status"}),Object(S.jsx)(xt.a,{data:a,name:"Policy Status"})]})}),Object(S.jsx)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsxs)(x.a,{sx:{px:1,py:1,mb:1},children:[Object(S.jsx)(ht.a,{level:3,style:ht.b,mt:2,children:"Action"}),Object(S.jsx)(xt.a,{data:i,name:"Policy action"})]})})]})};t.default=function(){return Object(S.jsxs)(r.a,{children:[Object(S.jsx)(n.a,{routeSegments:[{name:"Policy Manager",path:"/tms-policy/policy-management"},{name:"Policy",path:"/tms-policy/policy-management"}]}),Object(S.jsxs)(c.a,{spacing:3,children:[Object(S.jsx)(Ot,{}),Object(S.jsx)(ut,{})]})]})}}}]);
(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[19],{497:function(e,t,a){"use strict";var n=a(26),i=a(1);t.a=Object(n.a)(Object(i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},728:function(e,t,a){"use strict";a.r(t);var n=a(68),i=a(371),r=a(271),c=a(272),s=a(3),o=a(17),l=a(28),d=a(8),j=a(2),b=a(361),u=a(184),h=a(480),x=a(366),m=a(66),p=a(1),O=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(p.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"mac",header:"MAC",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],f=a(84),g=a(106),y=a.n(g),v=a(367),S=a(481),C=a(460),w=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(p.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(p.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(p.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(p.jsxs)("span",{children:[Object(p.jsx)(h.a,{title:"Previous page",children:Object(p.jsx)(S.a,{disabled:1===t.page,onClick:n,children:Object(p.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(p.jsx)(h.a,{title:"Next page",children:Object(p.jsx)(S.a,{disabled:t.page===a,onClick:i,children:Object(p.jsx)(y.a,{})})})]})})]})},T=a(375),P=a(485),k=a(455),D=a(82),z=a.n(D),E=a(461),F=a(462),M=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=0===t.trim().length;return Object(p.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(p.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"center"},children:[Object(p.jsx)(T.a,{id:"search",label:"Search",variant:"outlined",placeholder:"Only search in SerialNumber and Descripttion",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(p.jsxs)(P.a,{children:[Object(p.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(p.jsx)(h.a,{arrow:!0,placement:"top",title:"Only search in SerialNumber and Descripttion",children:Object(p.jsx)(S.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(p.jsx)(z.a,{color:"primary"})})})]})}}),Object(p.jsx)(h.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(p.jsx)(S.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(p.jsx)(E.a,{color:"error"})})})]}),Object(p.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(p.jsx)(h.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(p.jsx)(S.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(p.jsx)(F.a,{})})})]})]})},L=a(58),B=a(364),A=a(497),N=function(e){var t=e.row,a=e.setUpdatetable,n=Object(j.useState)(!1),i=Object(d.a)(n,2),c=i[0],s=i[1],b=Object(j.useState)(t.original.description),h=Object(d.a)(b,2),m=h[0],O=h[1],g=t.original.description,y=function(){s((function(e){return!e}))},S=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var n,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m!==g){e.next=4;break}return L.b.info("Nothing changes"),y(),e.abrupt("return");case 4:return n={id:t.original.id,description:m},e.next=7,Object(f.m)(n);case 7:(i=e.sent)&&200===i.status&&(L.b.success("Change description success"),a(!0),y());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(x.a,{onClick:function(){s((function(e){return!e}))},children:[Object(p.jsx)(A.a,{color:"primary"}),Object(p.jsx)(r.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Description"})]}),Object(p.jsx)(B.a,{open:c,onClose:y,children:Object(p.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",height:"600",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(p.jsx)(r.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit description"}),Object(p.jsx)(v.a,{container:!0,spacing:2,children:Object(p.jsx)(v.a,{item:!0,xs:12,children:Object(p.jsx)(T.a,{id:"description",label:"Description",fullWidth:!0,multiline:!0,rows:6,margin:"normal",onChange:function(e){return function(e){O(e.target.value)}(e)},value:m})})}),Object(p.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(p.jsx)(x.a,{variant:"contained",onClick:y,children:"Cancel"}),Object(p.jsx)(x.a,{variant:"contained",type:"submit",onClick:S,children:"Save"})]})]})})]})},W=a(107),I=a.n(W),K=a(67),R=a(41),V=a(74),q=function(){var e=Object(j.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(j.useState)({page:1,limit:10,search:null}),g=Object(d.a)(c,2),y=g[0],v=g[1],S=Object(j.useState)(),C=Object(d.a)(S,2),T=C[0],P=C[1],k=Object(j.useState)(!0),D=Object(d.a)(k,2),z=D[0],E=D[1],F=Object(j.useState)(!1),B=Object(d.a)(F,2),A=B[0],W=B[1],q=Object(j.useState)(""),G=Object(d.a)(q,2),J=G[0],U=G[1],H=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(y);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==J&&L.b.error("No elements match"),a=t.data.listResult,n(a),P(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){y.page<T&&(v({limit:y.limit,page:y.page+1}),E(!0))},X=function(){y.page>1&&(v({limit:y.limit,page:y.page-1}),E(!0))},Y=function(){W(!0),U("")},Z=function(){v(Object(s.a)(Object(s.a)({},y),{},{search:J})),E(!0)};return Object(j.useEffect)((function(){A?(v({page:1,limit:10,search:null}),W(!1),E(!0)):z&&(H(),E(!1))}),[A,z]),Object(p.jsxs)(i.a,{children:[Object(p.jsx)(r.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"Devices"}),Object(p.jsx)(b.a,{theme:K.a,children:Object(p.jsx)(m.a,{columns:O,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1,mac:!1},columnOrder:["id","sn","mac","model","ip","firmwareVer","location","description","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.a,{flexBasis:"25%",children:Object(p.jsx)(N,{row:t,setUpdatetable:E})}),Object(p.jsx)(u.a,{flexBasis:"25%",children:Object(p.jsx)(h.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(p.jsx)(R.c,{to:"/tms-devices/devices-management/device?id=".concat(t.original.id,"&sn=").concat(t.original.sn),children:Object(p.jsxs)(x.a,{children:[Object(p.jsx)(I.a,{color:"primary"}),Object(p.jsx)(r.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]})})})})]})]},renderDetailPanel:function(e){var t=e.row;return Object(p.jsxs)(u.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(p.jsxs)(r.a,{fontSize:"15px",children:["Created Date: ",Object(V.a)(t.original.createdDate)]}),Object(p.jsxs)(r.a,{fontSize:"15px",children:["Modified Date: ",Object(V.a)(t.original.modifiedDate)]})]})},renderBottomToolbarCustomActions:function(){return Object(p.jsx)(w,{paramsPageDevices:y,totalPage:T,handleMoveToPrePage:X,handleMoveToNextPage:Q})},renderTopToolbarCustomActions:function(){return Object(p.jsx)(M,{searchTerm:J,setSearchTerm:U,setResettable:W,handleSearchMode:Z,handleResetTable:Y})}})})]})},G=a(83),J=a(186),U=a(138),H=function(e){var t=e.data,a=e.legend,n={grid:{top:"10%",bottom:"25%",left:"5%",right:"5%"},legend:{itemGap:0,color:"#115293",textStyle:{fontSize:13,fontFamily:"roboto"},data:a},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t.map((function(e){return e.date})),axisLine:{show:!0},axisTick:{show:!1},axisLabel:{fontSize:14,fontFamily:"roboto",show:!0,rotate:45},boundaryGap:!1},yAxis:{type:"value",axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},splitLine:{lineStyle:{color:"#115293",opacity:.15}},axisLabel:{fontSize:13,fontFamily:"roboto"},minInterval:1,boundaryGap:!1},toolbox:{feature:{saveAsImage:{}}},series:[{data:t.map((function(e){return e.value})),type:"line",stack:a[0],name:a[0],smooth:!0,symbolSize:1,lineStyle:{width:2,color:"#115293"},areaStyle:{color:"#115293"}}]};return Object(p.jsx)(U.a,{option:n,style:{height:"450px"}})},Q=function(){var e=Object(j.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],i=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,a,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.e)();case 2:200===(t=e.sent).status&&(a=function(e){var t=e.split("-"),a=Object(d.a)(t,3),n=a[0],i=a[1],r=a[2];return"".concat(r,"-").concat(i,"-").concat(n)},i=t.data.map((function(e){return{date:a(e.date),value:e.value}})),n(i));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){i()}),[]),Object(p.jsx)(H,{data:a,legend:["Numbers of device"]})};t.default=function(){return Object(p.jsxs)(G.a,{children:[Object(p.jsx)(n.a,{routeSegments:[{name:"Devices Manager",path:"/tms-devices/devices-management"},{name:"Devices",path:"/tms-devices/devices-management"}]}),Object(p.jsxs)(i.a,{sx:{px:2,py:2,mb:2,height:460},children:[Object(p.jsx)(r.a,{level:3,fontWeight:"bold",children:"Devices Online 30 days"}),Object(p.jsx)(Q,{})]}),Object(p.jsx)(c.a,{spacing:3,children:Object(p.jsx)(q,{})})]})}}}]);
//# sourceMappingURL=19.7829d1a3.chunk.js.map
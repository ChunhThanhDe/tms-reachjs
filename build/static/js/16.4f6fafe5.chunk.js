(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[16],{499:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return l}));var n=a(23),i=function(e){return console.log(e),Object(n.a)({method:"get",url:"/TMS/api/application",params:{page:e.page,limit:e.limit,packagename:e.packagename}}).catch((function(e){if(e.response)return e.response.data.message}))},r=function(e){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(e)}).catch((function(e){if(e.response)return e.response.data.message}))},c=function(e,t){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return e.response.data.message}))},l=function(e,t){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device/now"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return e.response}))}},724:function(e,t,a){"use strict";a.r(t);var n=a(68),i=a(18),r=a(272),c=a(367),l=a(83),s=a(17),o=a(28),d=a(8),j=a(2),u=a(499),b=a(148),m=a(1),p=function(e){var t=e.id,a=Object(j.useState)([]),n=Object(d.a)(a,2),i=n[0],r=n[1],c=Object(j.useState)(!0),l=Object(d.a)(c,2),p=l[0],h=l[1],x=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(t);case 2:200===(a=e.sent).status&&(n=[{id:"Name",value:a.data.name},{id:"Package name",value:a.data.packagename},{id:"Version",value:a.data.version},{id:"System App",value:a.data.issytem?"Yes":"No"},{id:"Created Date",value:a.data.createdDate}],r(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){p&&(x(),h(!1))}),[p]),Object(m.jsx)(b.a,{data:i,density:"comfortable"})},h=a(3),x=a(371),g=a(271),O=a(361),f=a(184),y=a(366),T=a(66),v=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(m.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"}},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}}],C=a(106),P=a.n(C),S=a(480),w=a(481),B=a(460),M=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(m.jsxs)(c.a,{container:!0,fullWidth:!0,children:[Object(m.jsx)(c.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(m.jsx)(c.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsxs)("span",{children:[Object(m.jsx)(S.a,{title:"Previous page",children:Object(m.jsx)(w.a,{disabled:1===t.page,onClick:n,children:Object(m.jsx)(B.a,{})})}),"Page ",t.page," of ",a,Object(m.jsx)(S.a,{title:"Next page",children:Object(m.jsx)(w.a,{disabled:t.page===a,onClick:i,children:Object(m.jsx)(P.a,{})})})]})})]})},k=a(67),D=a(375),E=a(485),z=a(455),F=a(82),I=a.n(F),A=a(461),R=a(462),H=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=(e.setIsSystem,e.setIsAlive,0===t.trim().length);return Object(m.jsxs)(c.a,{container:!0,fullWidth:!0,children:[Object(m.jsxs)(c.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(D.a,{id:"search",label:"Search",variant:"outlined",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(m.jsxs)(E.a,{children:[Object(m.jsx)(z.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(S.a,{arrow:!0,placement:"top",title:"Search",children:Object(m.jsx)(w.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(m.jsx)(I.a,{color:"primary"})})})]})}}),Object(m.jsx)(S.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(m.jsx)(w.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(m.jsx)(A.a,{color:"error"})})})]}),Object(m.jsxs)(c.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(z.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(S.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(m.jsx)(w.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(m.jsx)(R.a,{})})})]})]})},K=a(58),N=a(107),L=a.n(N),W=a(74),V=a(41),q=function(e){var t=e.id,a=Object(j.useState)([]),n=Object(d.a)(a,2),i=n[0],r=n[1],c=Object(j.useState)({page:1,limit:4,search:null}),l=Object(d.a)(c,2),b=l[0],p=l[1],C=Object(j.useState)(),P=Object(d.a)(C,2),S=P[0],w=P[1],B=Object(j.useState)(!0),D=Object(d.a)(B,2),E=D[0],z=D[1],F=Object(j.useState)(!1),I=Object(d.a)(F,2),A=I[0],R=I[1],N=Object(j.useState)(""),q=Object(d.a)(N,2),G=q[0],J=q[1],U=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(b,t);case 2:200===(a=e.sent).status&&(null===a.data.totalElement&&null!==G&&K.b.error("No elements match"),n=a.data.listResult,r(n),w(a.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){b.page<S&&(p({limit:b.limit,page:b.page+1}),z(!0))},Q=function(){b.page>1&&(p({limit:b.limit,page:b.page-1}),z(!0))},X=function(){R(!0),J("")},Z=function(){p(Object(h.a)(Object(h.a)({},b),{},{search:G})),z(!0)};return Object(j.useEffect)((function(){A?(p({page:1,limit:4,search:null}),R(!1),z(!0)):E&&(U(),z(!1))}),[A,E]),Object(m.jsxs)(x.a,{children:[Object(m.jsx)(g.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"List of devices with app installed"}),Object(m.jsx)(O.a,{theme:k.a,children:Object(m.jsx)(T.a,{columns:v,data:i,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:100,minSize:10,size:80},initialState:{density:"comfortable",columnVisibility:{id:!1},columnOrder:["id","sn","model","ip","firmwareVer","location","description","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(m.jsx)(f.a,{flexBasis:"25%",children:Object(m.jsx)(V.c,{to:"/tms-devices/devices-management/device?id=".concat(t.original.id,"&sn=").concat(t.original.sn),children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)(L.a,{color:"primary"}),Object(m.jsx)(g.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]})})})]},renderDetailPanel:function(e){var t=e.row;return Object(m.jsxs)(f.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(m.jsxs)(g.a,{fontSize:"15px",children:["Created Date: ",Object(W.a)(t.original.createdDate)]}),Object(m.jsxs)(g.a,{fontSize:"15px",children:["Modified Date: ",Object(W.a)(t.original.modifiedDate)]})]})},renderBottomToolbarCustomActions:function(){return Object(m.jsx)(M,{paramsPageDevices:b,totalPage:S,handleMoveToPrePage:Q,handleMoveToNextPage:Y})},renderTopToolbarCustomActions:function(){return Object(m.jsx)(H,{searchTerm:G,setSearchTerm:J,setResettable:R,handleSearchMode:Z,handleResetTable:X})}})})]})},G=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(m.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"}},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},muiTableBodyCellEditTextFieldProps:{required:!0}}],J=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(m.jsxs)(c.a,{container:!0,fullWidth:!0,children:[Object(m.jsx)(c.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(m.jsx)(c.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsxs)("span",{children:[Object(m.jsx)(S.a,{title:"Previous page",children:Object(m.jsx)(w.a,{disabled:1===t.page,onClick:n,children:Object(m.jsx)(B.a,{})})}),"Page ",t.page," of ",a,Object(m.jsx)(S.a,{title:"Next page",children:Object(m.jsx)(w.a,{disabled:t.page===a,onClick:i,children:Object(m.jsx)(P.a,{})})})]})})]})},U=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=0===t.trim().length;return Object(m.jsxs)(c.a,{container:!0,fullWidth:!0,children:[Object(m.jsxs)(c.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(D.a,{id:"search",label:"Search",variant:"outlined",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(m.jsxs)(E.a,{children:[Object(m.jsx)(z.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(S.a,{arrow:!0,placement:"top",title:"Search",children:Object(m.jsx)(w.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(m.jsx)(I.a,{color:"primary"})})})]})}}),Object(m.jsx)(S.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(m.jsx)(w.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(m.jsx)(A.a,{color:"error"})})})]}),Object(m.jsxs)(c.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(z.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(S.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(m.jsx)(w.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(m.jsx)(R.a,{})})})]})]})},Y=function(e){var t=e.id,a=Object(j.useState)([]),n=Object(d.a)(a,2),i=n[0],r=n[1],c=Object(j.useState)({page:1,limit:5,search:null}),l=Object(d.a)(c,2),b=l[0],p=l[1],v=Object(j.useState)(),C=Object(d.a)(v,2),P=C[0],S=C[1],w=Object(j.useState)(!0),B=Object(d.a)(w,2),M=B[0],D=B[1],E=Object(j.useState)(!1),z=Object(d.a)(E,2),F=z[0],I=z[1],A=Object(j.useState)(""),R=Object(d.a)(A,2),H=R[0],N=R[1],q=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(b,t);case 2:a=e.sent,console.log("Page List device: ",a),200===a.status?(null===a.data.totalElement&&null!==H&&K.b.error("No elements match"),n=a.data.listResult,r(n),S(a.data.totalPage)):K.b.error("No elements match");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){b.page<P&&(p({limit:b.limit,page:b.page+1}),D(!0))},Q=function(){b.page>1&&(p({limit:b.limit,page:b.page-1}),D(!0))},X=function(){I(!0),N("")},Z=function(){p(Object(h.a)(Object(h.a)({},b),{},{search:H})),D(!0)};return Object(j.useEffect)((function(){F?(p({page:1,limit:5,search:null}),I(!1),D(!0)):M&&(q(),D(!1))}),[F,M]),Object(m.jsxs)(x.a,{children:[Object(m.jsx)(g.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"List of running devices with app installed"}),Object(m.jsx)(O.a,{theme:k.a,children:Object(m.jsx)(T.a,{columns:G,data:i,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:100,minSize:10,size:80},initialState:{density:"comfortable",columnVisibility:{id:!1},columnOrder:["id","sn","model","ip","firmwareVer","location","description","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(m.jsx)(f.a,{flexBasis:"25%",children:Object(m.jsx)(V.c,{to:"/tms-devices/devices-management/device?id=".concat(t.original.id,"&sn=").concat(t.original.sn),children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)(L.a,{color:"primary"}),Object(m.jsx)(g.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]})})})]},renderDetailPanel:function(e){var t=e.row;return Object(m.jsxs)(f.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(m.jsxs)(g.a,{fontSize:"15px",children:["Created Date: ",Object(W.a)(t.original.createdDate)]}),Object(m.jsxs)(g.a,{fontSize:"15px",children:["Modified Date: ",Object(W.a)(t.original.modifiedDate)]})]})},renderBottomToolbarCustomActions:function(){return Object(m.jsx)(J,{paramsPageDevices:b,totalPage:P,handleMoveToPrePage:Q,handleMoveToNextPage:Y})},renderTopToolbarCustomActions:function(){return Object(m.jsx)(U,{searchTerm:H,setSearchTerm:N,setResettable:I,handleSearchMode:Z,handleResetTable:X})}})})]})},Q=a(186),X=a(169),Z=a(191),$=function(e){var t=e.id,a=Object(j.useState)([]),n=Object(d.a)(a,2),i=n[0],r=n[1],l=Object(j.useState)([]),u=Object(d.a)(l,2),b=u[0],p=u[1],h=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.c)(t,"install");case 2:a=e.sent,console.log(a),200===a.status&&r(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.c)(t,"active");case 2:a=e.sent,console.log(a),200===a.status&&p(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){h(),g();var e=setInterval((function(){h(),g()}),18e4);return function(){return clearInterval(e)}}),[]),Object(m.jsxs)(c.a,{container:!0,spacing:1,children:[Object(m.jsx)(c.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(m.jsxs)(x.a,{sx:{px:0,py:0,mb:2,height:"90%",width:"100%"},children:[Object(m.jsx)(X.a,{level:3,style:X.b,children:"Status"}),Object(m.jsx)(Z.a,{data:i,name:"Installed"})]})}),Object(m.jsx)(c.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(m.jsxs)(x.a,{sx:{px:0,py:0,mb:2,height:"90%",width:"100%"},children:[Object(m.jsx)(X.a,{level:3,style:X.b,children:"Status"}),Object(m.jsx)(Z.a,{data:b,name:"Activated"})]})})]})};t.default=function(){var e=Object(i.l)(),t=new URLSearchParams(e.search),a=t.get("id"),s=t.get("name");return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(n.a,{routeSegments:[{name:"Applications Manager",path:"/tms-application/application-management"},{name:"Aplications",path:"/tms-application/application-management"},{name:"".concat(s),path:"/tms-applications/application-management/application?id=".concat(a,"&name=").concat(s)}]}),Object(m.jsx)(r.a,{spacing:5,children:Object(m.jsxs)(l.b,{className:"analytics",children:[Object(m.jsxs)(c.a,{container:!0,spacing:1,alignItems:"stretch",children:[Object(m.jsx)(c.a,{item:!0,lg:4,md:4,sm:12,xs:12,children:Object(m.jsx)(p,{id:a})}),Object(m.jsx)(c.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:Object(m.jsx)($,{id:a})})]}),Object(m.jsx)(c.a,{item:!0,children:Object(m.jsx)(c.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(m.jsx)(Y,{id:a})})}),Object(m.jsx)("br",{}),Object(m.jsx)(c.a,{item:!0,children:Object(m.jsx)(c.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(m.jsx)(q,{id:a})})})]})})]})}}}]);
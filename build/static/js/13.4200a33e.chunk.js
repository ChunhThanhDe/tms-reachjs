(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[13],{499:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return o}));var n=a(23),i=function(e){return console.log(e),Object(n.a)({method:"get",url:"/TMS/api/application",params:{page:e.page,limit:e.limit,packagename:e.packagename}}).catch((function(e){if(e.response)return e.response.data.message}))},r=function(e){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(e)}).catch((function(e){if(e.response)return e.response.data.message}))},c=function(e,t){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return e.response.data.message}))},o=function(e,t){return Object(n.a)({method:"get",url:"/TMS/api/application/".concat(t,"/device/now"),params:{page:e.page,limit:e.limit,search:e.search}}).catch((function(e){if(e.response)return e.response}))}},512:function(e,t,a){"use strict";a(2);var n=a(138),i=a(192),r=a(1);t.a=function(e){var t,a=e.data,c=e.height,o=void 0===c?"350px":c,s=(e.width,e.option),l=e.legend,u=i.a,d=function(e){return{normal:{color:e}}};return t={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},dataset:{source:a}},legend:{data:l},toolbox:{feature:{saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!0,data:a.map((function(e){return Object.values(e)[0]}))}],yAxis:[{type:"value",minInterval:1}],series:[{name:l,type:"bar",stack:"Total",barWidth:"40%",emphasis:{focus:"series"},itemStyle:{color:i.a[9],emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 1)"}},data:a.map((function(e,t){return{value:Object.values(e)[1],itemStyle:d(u[t+5])}}))}]},Object(r.jsx)(n.a,{height:o,option:t})}},731:function(e,t,a){"use strict";a.r(t);var n=a(68),i=a(272),r=a(371),c=a(271),o=a(83),s=a(3),l=a(17),u=a(28),d=a(8),p=a(2),b=a(361),m=a(184),j=a(366),h=a(66),g=a(1),f=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(g.jsx)("span",{children:e.row.original.id})}},{accessorKey:"name",header:"App Name",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1},{accessorKey:"packagename",header:"Package",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1},{accessorKey:"version",header:"Version",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1}],x=a(106),O=a.n(x),v=a(367),y=a(480),S=a(481),C=a(460),w=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(g.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(g.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(g.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(g.jsxs)("span",{children:[Object(g.jsx)(y.a,{title:"Previous page",children:Object(g.jsx)(S.a,{disabled:1===t.page,onClick:n,children:Object(g.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(g.jsx)(y.a,{title:"Next page",children:Object(g.jsx)(S.a,{disabled:t.page===a,onClick:i,children:Object(g.jsx)(O.a,{})})})]})})]})},T=a(67),k=a(375),P=a(485),A=a(455),M=a(82),W=a.n(M),I=a(461),B=a(462),D=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=0===t.trim().length;return Object(g.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(g.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(g.jsx)(k.a,{id:"search",label:"Search",variant:"outlined",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(g.jsxs)(P.a,{children:[Object(g.jsx)(A.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(g.jsx)(y.a,{arrow:!0,placement:"top",title:"Search",children:Object(g.jsx)(S.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(g.jsx)(W.a,{color:"primary"})})})]})}}),Object(g.jsx)(y.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(g.jsx)(S.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(g.jsx)(I.a,{color:"error"})})})]}),Object(g.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(g.jsx)(A.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(g.jsx)(y.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(g.jsx)(S.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(g.jsx)(B.a,{})})})]})]})},z=a(58),E=a(107),R=a.n(E),F=a(74),N=a(499),K=a(41),L=function(){var e=Object(p.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],i=Object(p.useState)({page:1,limit:10,packagename:null}),o=Object(d.a)(i,2),x=o[0],O=o[1],v=Object(p.useState)(),y=Object(d.a)(v,2),S=y[0],C=y[1],k=Object(p.useState)(!0),P=Object(d.a)(k,2),A=P[0],M=P[1],W=Object(p.useState)(!1),I=Object(d.a)(W,2),B=I[0],E=I[1],L=Object(p.useState)(""),X=Object(d.a)(L,2),G=X[0],H=X[1],J=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)(x);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==G&&z.b.error("No element match"),a=t.data.listResult,n(a),C(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){x.page<S&&(O({limit:x.limit,page:x.page+1}),M(!0))},U=function(){x.page>1&&(O({limit:x.limit,page:x.page-1}),M(!0))},q=function(){E(!0),H("")},Q=function(){O(Object(s.a)(Object(s.a)({},x),{},{packagename:G})),M(!0)};return Object(p.useEffect)((function(){B?(O({page:1,limit:10}),E(!1),M(!0)):A&&(J(),M(!1))}),[B,A]),Object(g.jsxs)(r.a,{children:[Object(g.jsx)(c.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"Applications"}),Object(g.jsx)(b.a,{theme:T.a,children:Object(g.jsx)(h.a,{columns:f,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:100,minSize:10,size:80},initialState:{density:"comfortable",columnVisibility:{id:!1},columnOrder:["id","name","packagename","version","issystem","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(g.jsx)(m.a,{flexBasis:"25%",children:Object(g.jsx)(K.c,{to:"/tms-application/application-management/application?id=".concat(t.original.id,"&name=").concat(t.original.name),children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)(R.a,{color:"primary"}),Object(g.jsx)(c.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]})})})]},renderDetailPanel:function(e){var t=e.row;return Object(g.jsx)(m.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(g.jsxs)(c.a,{fontSize:"15px",children:["Created Date: ",Object(F.a)(t.original.createdDate)]})})},renderBottomToolbarCustomActions:function(){return Object(g.jsx)(w,{paramsPageDevices:x,totalPage:S,handleMoveToPrePage:U,handleMoveToNextPage:V})},renderTopToolbarCustomActions:function(){return Object(g.jsx)(D,{searchTerm:G,setSearchTerm:H,setResettable:E,handleSearchMode:Q,handleResetTable:q})}})})]})},X=(a(512),a(186)),G=a(138),H=a(192),J=function(e){var t,a=e.data,n=e.option,i=e.legend;return t={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:a.map((function(e){return e.name}))},toolbox:{feature:{saveAsImage:{}}},yAxis:{type:"category",data:a.map((function(e){return e.name}))},xAxis:{type:"value",minInterval:1},series:[{name:i[0],type:"bar",stack:"stack",barWidth:"40%",itemStyle:{color:H.a[9],emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 1)"}},data:a.map((function(e){return e.value1}))},{name:i[1],type:"bar",stack:"stack",barWidth:"40%",itemStyle:{color:H.a[7],emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 1)"}},data:a.map((function(e){return e.value2}))}]},Object(g.jsx)(G.a,{minHeight:"400px",minWidth:"800",maxWidth:"90%",option:t})},V=function(){var e=Object(p.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)();case 2:t=e.sent,console.log(t),200===t.status&&n(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){i();var e=setInterval((function(){i()}),18e4);return function(){return clearInterval(e)}}),[]),Object(g.jsx)(J,{data:a,legend:["Unconnected Devices","Connecting Devices"]})};t.default=function(){return Object(g.jsxs)(o.a,{children:[Object(g.jsx)(n.a,{routeSegments:[{name:"Application Manager",path:"/tms-application/application-management"},{name:"Applications",path:"/tms-application/application-management"}]}),Object(g.jsxs)(i.a,{spacing:3,children:[Object(g.jsxs)(r.a,{style:{overflow:"auto"},children:[Object(g.jsx)(c.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"Status"}),Object(g.jsx)(V,{})]}),Object(g.jsx)(L,{})]})]})}}}]);
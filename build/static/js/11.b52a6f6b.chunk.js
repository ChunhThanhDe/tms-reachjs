(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[11],{447:function(e,t,a){"use strict";var n=a(24),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},464:function(e,t,a){"use strict";var n=a(24),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox")},465:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(31)),i=a(1),r=(0,c.default)((0,i.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z"}),"QueuePlayNext");t.default=r},529:function(e,t,a){"use strict";var n=a(24),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M21 10h-3L2 3v7l9 2-9 2v7l8-3.5V21c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm0 11h-9v-9h9v9zm-4.5-1L13 16h2v-3h3v3h2l-3.5 4z"}),"SendAndArchive")},672:function(e,t,a){"use strict";a.r(t);var n=a(57),c=a(438),i=a(125),r=a(2),s=a(17),l=a(27),o=a(9),d=a(3),j=a(328),b=a(320),u=a(168),h=a(325),x=a(55),m=a(1),O=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(m.jsx)("span",{children:e.row.original.id})}},{accessorKey:"name",header:"Name",enableEditing:!1,enableSorting:!1},{accessorKey:"location",header:"Location"},{accessorKey:"description",header:"Description",enableEditing:!1}],p=a(75),f=a(96),g=a.n(f),v=a(423),y=a(429),C=a(430),S=a(407),w=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(m.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(m.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(m.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsxs)("span",{children:[Object(m.jsx)(y.a,{title:"Previous page",children:Object(m.jsx)(C.a,{disabled:1===t.page,onClick:n,children:Object(m.jsx)(S.a,{})})}),"Page ",t.page," of ",a,Object(m.jsx)(y.a,{title:"Next page",children:Object(m.jsx)(C.a,{disabled:t.page===a,onClick:c,children:Object(m.jsx)(g.a,{})})})]})})]})},T=a(335),P=a(434),D=a(404),k=a(74),z=a.n(k),M=a(408),E=a(409),A=a(51),R=a(417),F=a(324),N=a(464),B=function(e){var t=e.setResettable,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],i=n[1],r=Object(d.useState)(""),j=Object(o.a)(r,2),b=j[0],x=j[1],O=Object(d.useState)(""),f=Object(o.a)(O,2),g=f[0],S=f[1],w=Object(d.useState)(""),P=Object(o.a)(w,2),D=P[0],k=P[1],z=function(){i((function(e){return!e})),S(""),k(""),x("")},M=function(e,t){switch(t){case"name":x(e.target.value);break;case"location":S(e.target.value);break;case"description":k(e.target.value)}},E=function(){for(var e=!0,t={name:b,location:g,description:D},a=["name","location"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,i(!0),A.b.info("Missing required parameter: "+a[n]);break}return e},B=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E()){e.next=8;break}return a={name:b,location:g,description:D},e.next=5,Object(p.j)(a);case 5:n=e.sent,console.log("createList",n),n&&500===n.statusCode?n.message.includes("JSON parse error")?A.b.error("Contact must be phone number"):A.b.error(n.message):n&&200===n.status?(A.b.success("Create list devices success"),z(),t(!0)):(A.b.error(n.message),z());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Add New List Devices",children:Object(m.jsx)(C.a,{onClick:function(){i((function(e){return!e}))},children:Object(m.jsx)(N.a,{color:"primary"})})}),Object(m.jsx)(R.a,{open:c,onClose:z,children:Object(m.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(m.jsx)(h.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new User"}),Object(m.jsxs)(v.a,{container:!0,spacing:2,children:[Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(T.a,{id:"name",label:"Name",fullWidth:!0,margin:"normal",onChange:function(e){M(e,"name")},value:b})}),Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(T.a,{id:"location",label:"Location",fullWidth:!0,margin:"normal",onChange:function(e){M(e,"location")},value:g})}),Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(T.a,{id:"description",label:"Description",fullWidth:!0,multiline:!0,rows:6,margin:"normal",onChange:function(e){M(e,"description")},value:D})})]}),Object(m.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(m.jsx)(F.a,{variant:"contained",onClick:z,children:"Cancel"}),Object(m.jsx)(F.a,{variant:"contained",type:"submit",onClick:B,children:"Save"})]})]})})]})},I=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,i=e.setResettable,r=t&&0===t.trim().length;return Object(m.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(m.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(T.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in Name",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(m.jsxs)(P.a,{children:[Object(m.jsx)(D.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Only search in Name",children:Object(m.jsx)(C.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||c()},children:Object(m.jsx)(z.a,{color:"primary"})})})]})}}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(m.jsx)(C.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(m.jsx)(M.a,{color:"error"})})})]}),Object(m.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(D.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(m.jsx)(C.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(m.jsx)(E.a,{})})}),Object(m.jsx)(B,{setResettable:i}),","]})]})},K=a(447),L=function(e){var t=e.row,a=e.setUpdatetable,n=Object(d.useState)(!1),c=Object(o.a)(n,2),i=c[0],r=c[1],j=Object(d.useState)(t.original.description),b=Object(o.a)(j,2),x=b[0],O=b[1],f=Object(d.useState)(t.original.name),g=Object(o.a)(f,2),S=g[0],w=g[1],P=t.original.description,D=function(){r((function(e){return!e}))},k=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x!==P){e.next=4;break}return A.b.info("Nothing changes"),D(),e.abrupt("return");case 4:return n={id:t.original.id,description:x,name:S},e.next=7,Object(p.l)(n);case 7:c=e.sent,console.log("editUserResponse",c),c&&200===c.status?(A.b.success("Change list devices data success"),a(!0),D()):500===c.statusCode&&A.b.error("Error: ",c.message);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y.a,{arrow:!0,placement:"bottom",title:"Edit Description",children:Object(m.jsx)(C.a,{onClick:function(){r((function(e){return!e}))},children:Object(m.jsx)(K.a,{color:"primary"})})}),Object(m.jsx)(R.a,{open:i,onClose:D,children:Object(m.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",height:"700",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(m.jsx)(h.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit"}),Object(m.jsxs)(v.a,{container:!0,spacing:2,children:[Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(T.a,{id:"name",label:"Name",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){w(e.target.value)}(e)},value:S})}),Object(m.jsx)(v.a,{item:!0,xs:12,children:Object(m.jsx)(T.a,{id:"description",label:"Description",fullWidth:!0,multiline:!0,rows:6,margin:"normal",onChange:function(e){return function(e){O(e.target.value)}(e)},value:x})})]}),Object(m.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(m.jsx)(F.a,{variant:"contained",onClick:D,children:"Cancel"}),Object(m.jsx)(F.a,{variant:"contained",type:"submit",onClick:k,children:"Save"})]})]})})]})},W=a(56),V=a(64),q=a(465),H=a.n(q),U=a(38),G=a(76),J=a.n(G),_=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(m.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"detail",header:"Detail",Cell:function(e){return Object(m.jsx)(u.a,{children:Object(m.jsx)(y.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(m.jsx)(U.c,{to:"/tms-policy/policy-management/policy?id=".concat(e.row.original.id,"&pn=").concat(e.row.original.policyname),children:Object(m.jsx)(C.a,{children:Object(m.jsx)(J.a,{color:"primary"})})})})})}}],Q=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(m.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(m.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(m.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsxs)("span",{children:[Object(m.jsx)(y.a,{title:"Previous page",children:Object(m.jsx)(C.a,{disabled:1===t.page,onClick:n,children:Object(m.jsx)(S.a,{})})}),"Page ",t.page," of ",a,Object(m.jsx)(y.a,{title:"Next page",children:Object(m.jsx)(C.a,{disabled:t.page===a,onClick:c,children:Object(m.jsx)(g.a,{})})})]})})]})},X=a(529),Y=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,i=e.handleEditDevicesToListDevices,r=0===t.trim().length;return Object(m.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(m.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(T.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in SerialNumber and Descripttion",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(m.jsxs)(P.a,{children:[Object(m.jsx)(D.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Only search in SerialNumber and Descripttion",children:Object(m.jsx)(C.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||c()},children:Object(m.jsx)(z.a,{color:"primary"})})})]})}}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(m.jsx)(C.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(m.jsx)(M.a,{color:"error"})})})]}),Object(m.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(D.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(m.jsx)(C.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(m.jsx)(E.a,{})})}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Add devices",children:Object(m.jsx)(C.a,{color:"primary","aria-label":"clear",onClick:i,children:Object(m.jsx)(X.a,{})})})]})]})},Z=function(e){var t=e.id,a=e.handleAddDeviceSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),i=c[0],O=c[1],f=Object(d.useState)({page:1,limit:5,search:null}),g=Object(o.a)(f,2),v=g[0],y=g[1],C=Object(d.useState)(),S=Object(o.a)(C,2),w=S[0],T=S[1],P=Object(d.useState)(!0),D=Object(o.a)(P,2),k=D[0],z=D[1],M=Object(d.useState)(!1),E=Object(o.a)(M,2),R=E[0],F=E[1],N=Object(d.useState)(""),B=Object(o.a)(N,2),I=B[0],K=B[1],L=Object(d.useState)([]),q=Object(o.a)(L,2),H=q[0],U=q[1],G=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=Object.keys(H).filter((function(e){return H[e]})).map((function(e){return parseInt(e)}))).length){e.next=5;break}A.b.error("There is no devices selected."),e.next=9;break;case 5:return e.next=7,Object(p.k)(t,n);case 7:200===(c=e.sent).status?(A.b.success("Add devices success"),a()):A.b.error(c.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(v);case 2:t=e.sent,console.log("Page List: ",t),200===t.status&&(null===t.data.totalElement&&null!==I&&A.b.error("No elements match"),a=t.data.listResult,O(a),T(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){v.page<w&&(y({limit:v.limit,page:v.page+1}),z(!0))},Z=function(){v.page>1&&(y({limit:v.limit,page:v.page-1}),z(!0))},$=function(){F(!0),K("")},ee=function(){y(Object(r.a)(Object(r.a)({},v),{},{search:I})),z(!0)};return Object(d.useEffect)((function(){R?(y({page:1,limit:5,search:null}),F(!1),z(!0)):k&&(console.log("change status"),J(),z(!1))}),[R,k]),Object(m.jsx)(j.a,{children:Object(m.jsx)(b.a,{theme:W.a,children:Object(m.jsx)(x.a,{columns:_,data:i,options:{actionsColumnIndex:-1},enableExpanding:!0,positionExpandColumn:"last",enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},enableRowSelection:!0,enableSelectAll:!1,positionToolbarAlertBanner:"none",getRowId:function(e){return e.id},onRowSelectionChange:function(e){return U(e)},state:{rowSelection:H},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnVisibility:{id:!1}},renderDetailPanel:function(e){var t=e.row;return Object(m.jsxs)(u.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(m.jsxs)(h.a,{fontSize:"15px",children:["Created Date: ",Object(V.a)(t.original.createdDate)]}),Object(m.jsxs)(h.a,{fontSize:"15px",children:["Modified Date: ",Object(V.a)(t.original.modifiedDate)]})]})},renderBottomToolbarCustomActions:function(){return Object(m.jsx)(Q,{paramsPageDevices:v,totalPage:w,handleMoveToPrePage:Z,handleMoveToNextPage:X})},renderTopToolbarCustomActions:function(){return Object(m.jsx)(Y,{handleEditDevicesToListDevices:G,searchTerm:I,setSearchTerm:K,setResettable:F,handleSearchMode:ee,handleResetTable:$})}})})})},$=a(426),ee=a(406),te=a(437),ae=a(440),ne=a(439),ce=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(m.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],ie=a(412),re=function(e){var t=e.paramsPage,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(m.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(m.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(m.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(m.jsxs)("span",{children:[Object(m.jsx)(y.a,{title:"Previous page",children:Object(m.jsx)(C.a,{disabled:1===t.page,onClick:n,children:Object(m.jsx)(S.a,{})})}),"Page ",t.page," of ",a,Object(m.jsx)(y.a,{title:"Next page",children:Object(m.jsx)(C.a,{disabled:t.page===a,onClick:c,children:Object(m.jsx)(g.a,{})})})]})})]})},se=function(e){var t=e.handleResetTable,a=e.handleSearchMode,n=e.searchTerm,c=e.setSearchTerm,i=0===n.trim().length;return Object(m.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(m.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(m.jsx)(T.a,{id:"search",type:"search",label:"Only search in Serial Number and Descripttion",variant:"outlined",size:"small",value:n,onChange:function(e){c(e.target.value)},edge:"end",fullWidth:!0}),Object(m.jsx)(D.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(m.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(m.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Search",children:Object(m.jsx)(C.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){i||a()},children:Object(m.jsx)(z.a,{color:"primary"})})}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(m.jsx)(C.a,{type:"button",onClick:function(){c(""),t()},disabled:i,children:Object(m.jsx)(M.a,{color:"error"})})})]}),Object(m.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(m.jsx)(D.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(m.jsx)(y.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(m.jsx)(C.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(m.jsx)(E.a,{})})})]})]})]})},le=function(e){var t=e.listDeviceId,a=e.deviceId,n=e.setUpdateTable,c=Object(d.useState)(!1),i=Object(o.a)(c,2),r=i[0],j=i[1],b=function(){j(!1)},u=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(t,a);case 2:c=e.sent,console.log("Page List App: ",c),204===c.status?(A.b.success("Delete success"),n(!0),b()):(A.b.error("Delete fail!!!",c.message),b());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y.a,{arrow:!0,placement:"bottom",title:"Delete",children:Object(m.jsx)(C.a,{onClick:function(){j(!0)},children:Object(m.jsx)(ie.a,{color:"error"})})}),Object(m.jsxs)($.a,{open:r,onClose:b,id:"deleteDialog",children:[Object(m.jsx)(ee.a,{children:"Delete confirmation"}),Object(m.jsx)(te.a,{children:Object(m.jsx)(ae.a,{children:"Are you sure you want to delete device?"})}),Object(m.jsxs)(ne.a,{children:[Object(m.jsx)(F.a,{onClick:b,color:"primary",children:"Cancel"}),Object(m.jsx)(F.a,{onClick:u,color:"error",children:"Delete"})]})]})]})},oe=function(e){var t=e.id,a=e.addDevicesSuccess,n=e.setAddDevicesSuccess,c=Object(d.useState)([]),i=Object(o.a)(c,2),h=i[0],O=i[1],f=Object(d.useState)({page:1,limit:5,id:t,search:null}),g=Object(o.a)(f,2),v=g[0],S=g[1],w=Object(d.useState)(!0),T=Object(o.a)(w,2),P=T[0],D=T[1],k=Object(d.useState)(!1),z=Object(o.a)(k,2),M=z[0],E=z[1],A=Object(d.useState)(""),R=Object(o.a)(A,2),F=R[0],N=R[1],B=Object(d.useState)(),I=Object(o.a)(B,2),K=I[0],L=I[1],V=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.i)(v);case 2:t=e.sent,console.log(t),200===t.status&&(a=t.data.listResult,O(a),L(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){v.page<K&&(S({limit:v.limit,page:v.page+1}),D(!0))},H=function(){v.page>1&&(S({limit:v.limit,page:v.page-1}),D(!0))},G=function(){E(!0),N("")},_=function(){S(Object(r.a)(Object(r.a)({},v),{},{search:F})),D(!0)};return Object(d.useEffect)((function(){P&&(V(),a&&n(!1),D(!1)),a&&D(!0),M&&(S({page:1,limit:5,id:t,search:null}),D(!0))}),[P,a,M]),Object(m.jsx)(j.a,{children:Object(m.jsx)(b.a,{theme:W.a,children:Object(m.jsx)(x.a,{columns:ce,data:h,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnOrder:["id","sn","model","ip","firmwareVer","location","description","mrt-row-actions"]},renderRowActions:function(e){var a=e.row;return[Object(m.jsxs)(u.a,{children:[Object(m.jsx)(y.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(m.jsx)(U.c,{to:"/tms-devices/devices-management/device?id=".concat(a.original.id,"&sn=").concat(a.original.sn),children:Object(m.jsx)(C.a,{children:Object(m.jsx)(J.a,{color:"primary"})})})}),Object(m.jsx)(le,{listDeviceId:t,deviceId:a.original.id,setUpdateTable:D})]})]},renderBottomToolbarCustomActions:function(){return Object(m.jsx)(re,{paramsPage:v,totalPage:K,handleMoveToPrePage:H,handleMoveToNextPage:q})},renderTopToolbarCustomActions:function(){return Object(m.jsx)(se,{searchTerm:F,setSearchTerm:N,setResettable:E,handleSearchMode:_,handleResetTable:G})}})})})},de=function(e){var t=e.row,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],i=n[1],r=Object(d.useState)(!1),s=Object(o.a)(r,2),l=s[0],j=s[1],b=function(){i((function(e){return!e}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y.a,{arrow:!0,placement:"bottom",title:"Add devices to list device",children:Object(m.jsx)(C.a,{onClick:function(){i((function(e){return!e}))},children:Object(m.jsx)(H.a,{color:"primary"})})}),Object(m.jsx)(R.a,{open:c,onClose:b,children:Object(m.jsx)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"95%",height:"95%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:0,overflow:"auto"},children:Object(m.jsxs)(u.a,{sx:{p:1},children:[Object(m.jsx)(u.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(m.jsx)(C.a,{type:"button",children:Object(m.jsx)(M.a,{color:"inherit",onClick:b})})}),Object(m.jsx)(Z,{id:t.original.id,handleAddDeviceSuccess:function(){j(!0)}}),Object(m.jsx)("br",{}),Object(m.jsx)(u.a,{sx:{width:"100%",height:"100%",bgcolor:"background.paper"},children:Object(m.jsx)(oe,{id:t.original.id,addDevicesSuccess:l,setAddDevicesSuccess:j})})]})})})]})},je=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)({page:1,limit:10,name:null}),i=Object(o.a)(c,2),f=i[0],g=i[1],v=Object(d.useState)(),y=Object(o.a)(v,2),C=y[0],S=y[1],T=Object(d.useState)(!0),P=Object(o.a)(T,2),D=P[0],k=P[1],z=Object(d.useState)(!1),M=Object(o.a)(z,2),E=M[0],R=M[1],F=Object(d.useState)(""),N=Object(o.a)(F,2),B=N[0],K=N[1],q=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.g)(f);case 2:t=e.sent,console.log("Page List: ",t),200===t.status&&(null===t.data.totalElement&&null!==B&&A.b.error("NO elemant match"),a=t.data.listResult,n(a),S(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){f.page<C&&(g({limit:f.limit,page:f.page+1}),k(!0))},U=function(){f.page>1&&(g({limit:f.limit,page:f.page-1}),k(!0))},G=function(){R(!0),K("")},J=function(){g(Object(r.a)(Object(r.a)({},f),{},{name:B})),k(!0)};return Object(d.useEffect)((function(){E?(g({page:1,limit:10,name:null}),R(!1),k(!0)):D&&(console.log("change status"),q(),k(!1))}),[E,D]),Object(m.jsx)(j.a,{children:Object(m.jsx)(b.a,{theme:W.a,children:Object(m.jsx)(x.a,{columns:O,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1},columnOrder:["id","name","location","description","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(m.jsx)(L,{row:t,setUpdatetable:k}),Object(m.jsx)(de,{row:t})]},renderDetailPanel:function(e){var t=e.row;return Object(m.jsxs)(u.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(m.jsxs)(h.a,{fontSize:"15px",children:["Created Date: ",Object(V.a)(t.original.createdDate)]}),Object(m.jsxs)(h.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(m.jsxs)(h.a,{fontSize:"15px",children:["Modified Date: ",Object(V.a)(t.original.modifiedDate)]}),Object(m.jsxs)(h.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(m.jsx)(w,{paramsPageDevices:f,totalPage:C,handleMoveToPrePage:U,handleMoveToNextPage:H})},renderTopToolbarCustomActions:function(){return Object(m.jsx)(I,{searchTerm:B,setSearchTerm:K,setResettable:R,handleSearchMode:J,handleResetTable:G})}})})})};t.default=function(){return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(n.a,{routeSegments:[{name:"Devices Manager",path:"/tms-devices/devices-management"},{name:"List Devices",path:"/tms-devices/list-devices"}]}),Object(m.jsx)(c.a,{spacing:3,children:Object(m.jsx)(je,{})})]})}}}]);
//# sourceMappingURL=11.b52a6f6b.chunk.js.map
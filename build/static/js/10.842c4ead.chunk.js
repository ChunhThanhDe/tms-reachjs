(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[10],{519:function(e,t,a){"use strict";var n=a(28),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox")},520:function(e,t,a){"use strict";var n=a(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(35)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z"}),"QueuePlayNext");t.default=i},592:function(e,t,a){"use strict";var n=a(28),c=a(1);t.a=Object(n.a)(Object(c.jsx)("path",{d:"M21 10h-3L2 3v7l9 2-9 2v7l8-3.5V21c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm0 11h-9v-9h9v9zm-4.5-1L13 16h2v-3h3v3h2l-3.5 4z"}),"SendAndArchive")},699:function(e,t,a){"use strict";var n=a(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(35)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M10 4h4v4h-4zM4 16h4v4H4zm0-6h4v4H4zm0-6h4v4H4zm10 8.42V10h-4v4h2.42zm6.88-1.13-1.17-1.17c-.16-.16-.42-.16-.58 0l-.88.88L20 12.75l.88-.88c.16-.16.16-.42 0-.58zM11 18.25V20h1.75l6.67-6.67-1.75-1.75zM16 4h4v4h-4z"}),"AppRegistration");t.default=i},700:function(e,t,a){"use strict";var n=a(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(35)),r=a(1),i=(0,c.default)([(0,r.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2v7.22z"},"0"),(0,r.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3V2zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");t.default=i},701:function(e,t,a){"use strict";var n=a(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(35)),r=a(1),i=(0,c.default)((0,r.jsx)("path",{d:"M13.05 9.79 10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1 4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"}),"SlowMotionVideo");t.default=i},726:function(e,t,a){"use strict";a.r(t);var n=a(69),c=a(275),r=a(86),i=a(3),s=a(17),l=a(27),o=a(7),d=a(2),j=a.n(d),b=a(185),u=a(274),h=a(481),O=a(482),x=a(377),m=a(367),p=a(372),f=a(57),g=a(85),y=a.n(g),v=a(373),C=a(464),S=a(1),w=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(h.a,{title:"Previous page",children:Object(S.jsx)(O.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(h.a,{title:"Next page",children:Object(S.jsx)(O.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},P=a(381),T=a(486),k=a(461),z=a(70),A=a.n(z),M=a(465),R=a(466),E=a(53),N=a(370),B=a(470),D=a(11),F=a(9),I=a(137),V=a(8),K=a(15),W=a(75),H=a(68);function L(e){return Object(H.a)("MuiFormGroup",e)}Object(W.a)("MuiFormGroup",["root","row","error"]);var U=a(48),q=a(50),G=["className","row"],_=Object(V.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.row&&t.row]}})((function(e){var t=e.ownerState;return Object(i.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),J=d.forwardRef((function(e,t){var a=Object(K.a)({props:e,name:"MuiFormGroup"}),n=a.className,c=a.row,r=void 0!==c&&c,s=Object(D.a)(a,G),l=Object(U.a)(),o=Object(q.a)({props:a,muiFormControl:l,states:["error"]}),d=Object(i.a)(Object(i.a)({},a),{},{row:r,error:o.error}),j=function(e){var t=e.classes,a={root:["root",e.row&&"row",e.error&&"error"]};return Object(I.a)(a,L,t)}(d);return Object(S.jsx)(_,Object(i.a)({className:Object(F.a)(j.root,n),ownerState:d,ref:t},s))})),Q=a(38),X=a(77),Y=a(214),Z=a(102),$=["actions","children","defaultValue","name","onChange","value"],ee=d.forwardRef((function(e,t){var a=e.actions,n=e.children,c=e.defaultValue,r=e.name,s=e.onChange,l=e.value,j=Object(D.a)(e,$),b=d.useRef(null),u=Object(X.a)({controlled:l,default:c,name:"RadioGroup"}),h=Object(o.a)(u,2),O=h[0],x=h[1];d.useImperativeHandle(a,(function(){return{focus:function(){var e=b.current.querySelector("input:not(:disabled):checked");e||(e=b.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var m=Object(Q.a)(t,b),p=Object(Z.a)(r),f=d.useMemo((function(){return{name:p,onChange:function(e){x(e.target.value),s&&s(e,e.target.value)},value:O}}),[p,s,x,O]);return Object(S.jsx)(Y.a.Provider,{value:f,children:Object(S.jsx)(J,Object(i.a)(Object(i.a)({role:"radiogroup",ref:m},j),{},{children:n}))})})),te=a(488),ae=a(485),ne=a(519),ce=a(76),re=a(741);function ie(e){var t=e.label,a=e.selectedOption,n=e.setSelectedOption,c=Object(d.useState)([]),r=Object(o.a)(c,2),j=r[0],b=r[1],u=Object(d.useState)({page:1,limit:10,search:null}),h=Object(o.a)(u,2),O=h[0],x=h[1],m=Object(d.useState)(!1),p=Object(o.a)(m,2),f=p[0],g=p[1],y=function(e){x(Object(i.a)(Object(i.a)({},O),{},{search:e.target.value})),g(!1)},v=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.f)(O);case 2:200===(t=e.sent).status&&(a=t.data.listResult,b(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){v()}),[O]),Object(d.useEffect)((function(){f||x(Object(i.a)(Object(i.a)({},O),{},{search:null}))}),[f]),Object(S.jsx)("div",{children:Object(S.jsx)(re.a,{options:j,getOptionLabel:function(e){return e.name},id:"include-input-in-list",value:a,onChange:function(e,t){n(t),g(!0)},renderInput:function(e){return Object(S.jsx)(P.a,Object(i.a)(Object(i.a)({},e),{},{label:t,variant:"outlined",onChange:y,fullWidth:!0}))}})})}var se=function(e){var t=e.setResettable,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(""),x=Object(o.a)(i,2),m=x[0],f=x[1],g=Object(d.useState)(),y=Object(o.a)(g,2),C=y[0],w=y[1],T=j.a.useState(null),k=Object(o.a)(T,2),z=k[0],A=k[1],M=function(){r((function(e){return!e})),w(),f(""),A(null)},R=function(e,t){switch(t){case"policyname":f(e.target.value);break;case"action":w(e.target.value)}},D=function(){for(var e=!0,t={policyname:m,commandName:z.name,action:C},a=["policyname","action","commandName"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,r(!0),E.b.info("Missing required parameter: "+a[n]);break}return e},F=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D()){e.next=7;break}return a={policyname:m,commandName:z.name,action:C},e.next=5,Object(ce.q)(a);case 5:(n=e.sent)&&500===n.statusCode?n.message.includes("JSON parse error")?E.b.error("Contact must be phone number"):E.b.error(n.message):n&&200===n.status?(E.b.success("Create list devices success"),M(),t(!0)):(E.b.error(n.message),M());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Add New Policy",children:Object(S.jsx)(O.a,{onClick:function(){r((function(e){return!e}))},children:Object(S.jsx)(ne.a,{color:"primary"})})}),Object(S.jsx)(N.a,{open:c,onClose:M,children:Object(S.jsxs)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400,width:"60%"},children:[Object(S.jsx)(u.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new Policy"}),Object(S.jsxs)(v.a,{container:!0,spacing:2,children:[Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(P.a,{id:"policyname",label:"Policy",fullWidth:!0,margin:"normal",onChange:function(e){R(e,"policyname")},value:m})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsxs)(ae.a,{style:{border:"1px solid #ccc",borderRadius:"4px",padding:"10px",width:"100%"},children:["Action",Object(S.jsxs)(ee,{row:!0,name:"row-radio-buttons-group",onChange:function(e){R(e,"action")},defaultValue:C,children:[Object(S.jsx)(te.a,{value:1,control:Object(S.jsx)(B.a,{}),label:"Install"}),Object(S.jsx)(te.a,{value:2,control:Object(S.jsx)(B.a,{}),label:"Uninstall"}),Object(S.jsx)(te.a,{value:3,control:Object(S.jsx)(B.a,{}),label:"Run Command"})]})]})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(ie,{label:"Command",selectedOption:z,setSelectedOption:A})})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(S.jsx)(p.a,{variant:"contained",onClick:M,children:"Cancel"}),Object(S.jsx)(p.a,{variant:"contained",type:"submit",onClick:F,children:"Save"})]})]})})]})},le=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,r=e.setResettable,i=0===t.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)(P.a,{id:"search",label:"Search",variant:"outlined",placeholder:"Only search in Policy",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(S.jsxs)(T.a,{children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Only search in Policy",children:Object(S.jsx)(O.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){i||c()},children:Object(S.jsx)(A.a,{color:"primary"})})})]})}})}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(v.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(O.a,{type:"button",onClick:function(){a(""),n()},disabled:i,children:Object(S.jsx)(M.a,{color:"error"})})})}),Object(S.jsxs)(v.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(S.jsx)(R.a,{})})}),Object(S.jsx)(se,{setResettable:r}),","]})]})]})},oe=a(500);function de(e){var t=e.label,a=e.defaultCommand,n=e.selectedOption,c=e.setSelectedOption,r=Object(d.useState)([]),j=Object(o.a)(r,2),b=j[0],h=j[1],O=Object(d.useState)({page:1,limit:10,search:null}),x=Object(o.a)(O,2),m=x[0],p=x[1],f=Object(d.useState)(!1),g=Object(o.a)(f,2),y=g[0],v=g[1],C=function(e){p(Object(i.a)(Object(i.a)({},m),{},{search:e.target.value})),v(!1)},w=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.f)(m);case 2:200===(t=e.sent).status&&(a=t.data.listResult,h(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){w()}),[m]),Object(d.useEffect)((function(){y||p(Object(i.a)(Object(i.a)({},m),{},{search:null}))}),[y]),Object(d.useEffect)((function(){if(!y&&b.length>0){var e=b.find((function(e){return e.name===a}));c(e),p(Object(i.a)(Object(i.a)({},m),{},{search:null})),v(!0)}}),[y,b,a,c,m]),Object(S.jsxs)("div",{children:[Object(S.jsxs)(u.a,{children:["Recent Command Name: ",n?n.name:""]}),Object(S.jsx)("br",{}),Object(S.jsx)(re.a,{options:b,getOptionLabel:function(e){return e.name},id:"include-input-in-list",onChange:function(e,t){c(t),v(!0)},renderInput:function(e){return Object(S.jsx)(P.a,Object(i.a)(Object(i.a)({},e),{},{label:t,variant:"outlined",onChange:C,fullWidth:!0}))}})]})}var je=function(e){var t=e.row,a=e.setUpdatetable,n=Object(d.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],j=Object(d.useState)(t.original.action),h=Object(o.a)(j,2),O=h[0],x=h[1],m=Object(d.useState)(t.original.policyname),f=Object(o.a)(m,2),g=f[0],y=f[1],C=t.original.action,w=t.original.policyname,T=t.original.commandName,k=Object(d.useState)(null),z=Object(o.a)(k,2),A=z[0],M=z[1],R=function(){i((function(e){return!e})),M(null),y(),x()},D=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O!==C||w!==g||T!==A.name){e.next=4;break}return E.b.info("Nothing changes"),R(),e.abrupt("return");case 4:if(""!==C){e.next=6;break}return e.abrupt("return");case 6:return n={id:t.original.id,policyname:g,action:O,commandName:A.name},e.next=9,Object(ce.z)(n);case 9:(c=e.sent)&&200===c.status?(E.b.success("Change list devices data success"),a(!0),R()):500===c.statusCode&&E.b.error("Error: ",c.message);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{onClick:function(){i((function(e){return!e}))},children:[Object(S.jsx)(oe.a,{color:"primary"}),Object(S.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Policy"})]}),Object(S.jsx)(N.a,{open:r,onClose:R,children:Object(S.jsxs)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(S.jsx)(u.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit"}),Object(S.jsxs)(v.a,{container:!0,spacing:2,children:[Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(P.a,{id:"name",label:"Policy Name",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){y(e.target.value)}(e)},value:g})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsxs)(ae.a,{style:{border:"1px solid #ccc",borderRadius:"4px",padding:"10px",width:"100%"},children:["Action",Object(S.jsxs)(ee,{row:!0,name:"row-radio-buttons-group",onChange:function(e){x(e.target.value)},defaultValue:O,children:[Object(S.jsx)(te.a,{value:1,control:Object(S.jsx)(B.a,{}),label:"Install"}),Object(S.jsx)(te.a,{value:2,control:Object(S.jsx)(B.a,{}),label:"Uninstall"}),Object(S.jsx)(te.a,{value:3,control:Object(S.jsx)(B.a,{}),label:"Run Command"})]})]})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(de,{label:"Command",defaultCommand:T,selectedOption:A,setSelectedOption:M})})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(S.jsx)(p.a,{variant:"contained",onClick:R,children:"Cancel"}),Object(S.jsx)(p.a,{variant:"contained",type:"submit",onClick:D,children:"Save"})]})]})})]})},be=a(58),ue=a(100),he=a.n(ue),Oe=a(40),xe=a(28),me=Object(xe.a)(Object(S.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),pe=Object(xe.a)(Object(S.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause"),fe=Object(xe.a)(Object(S.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),ge=a(699),ye=a.n(ge),ve=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"packagename",header:"Package Name",enableEditing:!1,enableSorting:!1},{accessorKey:"version",header:"Version",enableEditing:!1,enableSorting:!1},{accessorKey:"packagesize",header:"Size (bytes)",enableEditing:!1,enableSorting:!1}],Ce=function(e){var t=e.paramsPageUser,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(h.a,{title:"Previous page",children:Object(S.jsx)(O.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(h.a,{title:"Next page",children:Object(S.jsx)(O.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},Se=a(592),we=function(e){var t=e.handleEditPolicyApk,a=e.handleResetTable,n=e.handleSearchMode,c=e.searchTermPackage,r=e.setSearchTermPackage,i=e.searchTermVersion,s=e.setSearchTermVersion,l=0===c.trim().length&&0===i.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(S.jsx)(P.a,{id:"searchpackage",label:"Search Package Name",variant:"outlined",size:"small",value:c,onChange:function(e){r(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(P.a,{id:"searchversion",label:"Search Version",variant:"outlined",size:"small",value:i,onChange:function(e){s(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Search",children:Object(S.jsx)(O.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){l||n()},children:Object(S.jsx)(A.a,{color:"primary"})})}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(O.a,{type:"button",onClick:function(){r(""),s(""),a()},disabled:l,children:Object(S.jsx)(M.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:a,children:Object(S.jsx)(R.a,{})})}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Add devices",children:Object(S.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(S.jsx)(Se.a,{})})})]})]})]})},Pe=function(e){var t=e.id,a=e.handleAddAPKSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],b=Object(d.useState)({page:1,limit:5,packagename:"",version:""}),u=Object(o.a)(b,2),h=u[0],O=u[1],x=Object(d.useState)(),p=Object(o.a)(x,2),g=p[0],y=p[1],v=Object(d.useState)(!0),C=Object(o.a)(v,2),w=C[0],P=C[1],T=Object(d.useState)(!1),k=Object(o.a)(T,2),z=k[0],A=k[1],M=Object(d.useState)(""),R=Object(o.a)(M,2),N=R[0],B=R[1],D=Object(d.useState)(""),F=Object(o.a)(D,2),I=F[0],V=F[1],K=Object(d.useState)([]),W=Object(o.a)(K,2),H=W[0],L=W[1],U=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=Object.keys(H).filter((function(e){return H[e]})).map((function(e){return parseInt(e)}))).length){e.next=5;break}E.b.error("There is no APK file selected."),e.next=9;break;case 5:return e.next=7,Object(ce.r)(t,n);case 7:200===(c=e.sent).status?(E.b.success("Add apk success"),a()):E.b.error(c.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.e)(h);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&(null!==N||null!==I?E.b.error("No element matchs"):E.b.error("Nothing to show")),a=t.data.listResult,j(a),y(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){h.page<g&&(O({limit:h.limit,page:h.page+1}),P(!0))},_=function(){h.page>1&&(O({limit:h.limit,page:h.page-1}),P(!0))},J=function(){A(!0),B(""),V("")},Q=function(){O(Object(i.a)(Object(i.a)({},h),{},{packagename:N,version:I})),P(!0)};return Object(d.useEffect)((function(){z?(O({page:1,limit:5,packagename:null,version:null}),A(!1),P(!0)):w&&(q(),P(!1))}),[z,w]),Object(S.jsx)(m.a,{theme:be.a,children:Object(S.jsx)(f.a,{columns:ve,data:r,initialState:{density:"compact",columnVisibility:{packagesize:!1,id:!1}},enableRowSelection:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,enableSelectAll:!1,positionToolbarAlertBanner:"none",getRowId:function(e){return e.id},onRowSelectionChange:function(e){return L(e)},state:{rowSelection:H},muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(Ce,{paramsPageUser:h,totalPage:g,handleMoveToPrePage:_,handleMoveToNextPage:G})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(we,{handleEditPolicyApk:U,searchTermPackage:N,setSearchTermPackage:B,searchTermVersion:I,setSearchTermVersion:V,setResettable:A,handleSearchMode:Q,handleResetTable:J})}})})},Te=a(224),ke=function(e){var t=e.row,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(!1),s=Object(o.a)(i,2),l=s[0],j=s[1],h=function(){r((function(e){return!e}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{onClick:function(){r((function(e){return!e}))},children:[Object(S.jsx)(ye.a,{color:"primary"}),Object(S.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Policy Map APK"})]}),Object(S.jsx)(N.a,{open:c,onClose:h,children:Object(S.jsx)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"95%",minHeight:"35%",maxHeight:"95%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:0,overflow:"auto"},children:Object(S.jsxs)(b.a,{sx:{p:1},children:[Object(S.jsxs)(b.a,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)(u.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:22,sx:{marginTop:"15px",marginLeft:"10px"},children:"Add APKs to Policy"}),Object(S.jsx)(O.a,{type:"button",children:Object(S.jsx)(M.a,{color:"inherit",onClick:h})})]}),Object(S.jsx)(Pe,{id:t.original.id,handleAddAPKSuccess:function(){j(!0)}}),Object(S.jsx)("br",{}),Object(S.jsx)(b.a,{sx:{width:"100%",height:"100%",bgcolor:"background.paper"},children:Object(S.jsx)(Te.a,{id:t.original.id,addAPKSuccess:l})})]})})})]})},ze=a(59),Ae=a(701),Me=a.n(Ae),Re=a(736),Ee=a(747),Ne=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],Be=a(87),De=function(e){var t=e.paramsPageUser,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(h.a,{title:"Previous page",children:Object(S.jsx)(O.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(h.a,{title:"Next page",children:Object(S.jsx)(O.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},Fe=function(e){var t=e.handleEditPolicyApk,a=e.handleResetTable,n=e.handleSearchMode,c=e.searchTerm,r=e.setSearchTerm,i=0===c.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(S.jsx)(P.a,{id:"search",label:"Only search in SerialNumber and Descripttion",variant:"outlined",size:"small",value:c,onChange:function(e){r(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Search",children:Object(S.jsx)(O.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){i||n()},children:Object(S.jsx)(A.a,{color:"primary"})})}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(O.a,{type:"button",onClick:function(){r(""),a()},disabled:i,children:Object(S.jsx)(M.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:a,children:Object(S.jsx)(R.a,{})})}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(S.jsx)(Se.a,{})})})]})]})]})},Ie=function(e){var t=e.id,a=e.setAddSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],b=Object(d.useState)({page:1,limit:5,search:null}),u=Object(o.a)(b,2),h=u[0],O=u[1],p=Object(d.useState)(),g=Object(o.a)(p,2),y=g[0],v=g[1],C=Object(d.useState)(!0),w=Object(o.a)(C,2),P=w[0],T=w[1],k=Object(d.useState)(!1),z=Object(o.a)(k,2),A=z[0],M=z[1],R=Object(d.useState)(""),N=Object(o.a)(R,2),B=N[0],D=N[1],F=Object(d.useState)([]),I=Object(o.a)(F,2),V=I[0],K=I[1],W=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=Object.keys(V).filter((function(e){return V[e]})).map((function(e){return parseInt(e)}))).length){e.next=5;break}E.b.error("There is no device selected."),e.next=9;break;case 5:return e.next=7,Object(ce.s)(t,n);case 7:200===(c=e.sent).status?(E.b.success("Add device success"),a(!0)):E.b.error(c.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Be.d)(h);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&(null!==B?E.b.error("No element matchs"):E.b.error("Nothing to show")),a=t.data.listResult,j(a),v(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){h.page<y&&(O({limit:h.limit,page:h.page+1}),T(!0))},U=function(){h.page>1&&(O({limit:h.limit,page:h.page-1}),T(!0))},q=function(){M(!0),D("")},G=function(){O(Object(i.a)(Object(i.a)({},h),{},{search:B})),T(!0)};return Object(d.useEffect)((function(){A?(O({page:1,limit:5,packagename:null,version:null}),M(!1),T(!0)):P&&(H(),T(!1))}),[A,P]),Object(S.jsx)(x.a,{sx:{m:1},children:Object(S.jsx)(m.a,{theme:be.a,children:Object(S.jsx)(f.a,{columns:Ne,data:r,initialState:{density:"compact",columnVisibility:{packagesize:!1,id:!1}},enableRowSelection:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,enableSelectAll:!1,positionToolbarAlertBanner:"none",getRowId:function(e){return e.id},onRowSelectionChange:function(e){return K(e)},state:{rowSelection:V},muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(De,{paramsPageUser:h,totalPage:y,handleMoveToPrePage:U,handleMoveToNextPage:L})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(Fe,{handleEditPolicyApk:W,searchTerm:B,setSearchTerm:D,setResettable:M,handleSearchMode:G,handleResetTable:q})}})})})},Ve=a(520),Ke=a.n(Ve),We=a(451),He=a(463),Le=a(490),Ue=a(492),qe=a(491),Ge=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],_e=a(467),Je=function(e){var t=e.paramsPage,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(h.a,{title:"Previous page",children:Object(S.jsx)(O.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(h.a,{title:"Next page",children:Object(S.jsx)(O.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},Qe=function(e){var t=e.handleResetTable,a=e.handleSearchMode,n=e.searchTerm,c=e.setSearchTerm,r=0===n.trim().length;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-center"},children:[Object(S.jsx)(P.a,{id:"search",label:"Only search in Serial Number and Descripttion",variant:"outlined",size:"small",value:n,onChange:function(e){c(e.target.value)},edge:"end",fullWidth:!0}),Object(S.jsx)(k.a,{sx:{height:28,m:.5,borderWidth:2,opacity:0},orientation:"vertical"})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-start"},children:[Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Search",children:Object(S.jsx)(O.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||a()},children:Object(S.jsx)(A.a,{color:"primary"})})}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(O.a,{type:"button",onClick:function(){c(""),t()},disabled:r,children:Object(S.jsx)(M.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{lg:2,md:2,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:t,children:Object(S.jsx)(R.a,{})})})]})]})]})},Xe=function(e){var t=e.policyId,a=e.deviceId,n=e.setUpdateTable,c=e.setAddSuccess,r=Object(d.useState)(!1),i=Object(o.a)(r,2),j=i[0],b=i[1],u=function(){b(!1)},x=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.c)(t,a);case 2:204===(r=e.sent).status?(E.b.success("Delete success"),n(!0),c(!0),u()):(E.b.error("Delete fail!!!",r.message),u());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{arrow:!0,placement:"bottom",title:"Delete",children:Object(S.jsx)(O.a,{onClick:function(){b(!0)},children:Object(S.jsx)(_e.a,{color:"error"})})}),Object(S.jsxs)(We.a,{open:j,onClose:u,id:"deleteDialog",children:[Object(S.jsx)(He.a,{children:"Delete confirmation"}),Object(S.jsx)(Le.a,{children:Object(S.jsx)(Ue.a,{children:"Are you sure you want to delete device?"})}),Object(S.jsxs)(qe.a,{children:[Object(S.jsx)(p.a,{onClick:u,color:"primary",children:"Cancel"}),Object(S.jsx)(p.a,{onClick:x,color:"error",children:"Delete"})]})]})]})},Ye=function(e){var t=e.id,a=e.addSuccess,n=e.setAddSuccess,c=Object(d.useState)([]),r=Object(o.a)(c,2),j=r[0],u=r[1],p=Object(d.useState)({page:1,limit:5,id:t,search:null}),g=Object(o.a)(p,2),y=g[0],v=g[1],C=Object(d.useState)(!0),w=Object(o.a)(C,2),P=w[0],T=w[1],k=Object(d.useState)(!1),z=Object(o.a)(k,2),A=z[0],M=z[1],R=Object(d.useState)(""),N=Object(o.a)(R,2),B=N[0],D=N[1],F=Object(d.useState)(),I=Object(o.a)(F,2),V=I[0],K=I[1],W=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.g)(y);case 2:200===(t=e.sent).status?(a=t.data.listResult,u(a),K(t.data.totalPage)):200!==t.status&&(K(""),u([]),E.b.error(t.message));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){y.page<V&&(v({limit:y.limit,page:y.page+1}),T(!0))},L=function(){y.page>1&&(v({limit:y.limit,page:y.page-1}),T(!0))},U=function(){M(!0),D("")},q=function(){v(Object(i.a)(Object(i.a)({},y),{},{search:B})),T(!0)};return Object(d.useEffect)((function(){P&&(W(),n(!1),T(!1)),a&&T(!0),A&&(v({page:1,limit:5,id:t,search:null}),T(!0))}),[P,a,A]),Object(S.jsx)(x.a,{sx:{m:1},children:Object(S.jsx)(m.a,{theme:be.a,children:Object(S.jsx)(f.a,{columns:Ge,data:j,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnOrder:["id","sn","model","ip","firmwareVer","location","description","mrt-row-actions"]},renderRowActions:function(e){var a=e.row;return[Object(S.jsxs)(b.a,{children:[Object(S.jsx)(h.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(S.jsx)(Oe.c,{to:"/tms-devices/devices-management/device?id=".concat(a.original.id,"&sn=").concat(a.original.sn),children:Object(S.jsx)(O.a,{children:Object(S.jsx)(he.a,{color:"primary"})})})}),Object(S.jsx)(Xe,{policyId:t,deviceId:a.original.id,setUpdateTable:T,setAddSuccess:n})]})]},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(Je,{paramsPage:y,totalPage:V,handleMoveToPrePage:L,handleMoveToNextPage:H})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(Qe,{searchTerm:B,setSearchTerm:D,setResettable:M,handleSearchMode:q,handleResetTable:U})}})})})},Ze=a(700),$e=a.n(Ze),et=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,c=e.handleMoveToNextPage;return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(S.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsxs)("span",{children:[Object(S.jsx)(h.a,{title:"Previous page",children:Object(S.jsx)(O.a,{disabled:1===t.page,onClick:n,children:Object(S.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(S.jsx)(h.a,{title:"Next page",children:Object(S.jsx)(O.a,{disabled:t.page===a,onClick:c,children:Object(S.jsx)(y.a,{})})})]})})]})},tt=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,c=e.handleSearchMode,r=(e.setResettable,t&&0===t.trim().length);return Object(S.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(S.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(P.a,{id:"search",label:"Search",variant:"outlined",placeholder:"Only search in Name",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(S.jsxs)(T.a,{children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Only search in Name",children:Object(S.jsx)(O.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||c()},children:Object(S.jsx)(A.a,{color:"primary"})})})]})}}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(S.jsx)(O.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(S.jsx)(M.a,{color:"error"})})})]}),Object(S.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(S.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(S.jsx)(O.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(S.jsx)(R.a,{})})})]})]})},at=function(e){var t=e.policyId,a=e.listDeviceId,n=e.setAddSuccess,c=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.t)(t,a);case 2:200===(c=e.sent).status?(E.b.success("Add list success"),n(!0)):E.b.error("Add fail!!! "+c.data.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Add this list to policy",children:Object(S.jsx)(O.a,{onClick:c,children:Object(S.jsx)($e.a,{color:"primary"})})})},nt=function(e){var t=e.policyId,a=e.setAddSuccess,n=Object(d.useState)([]),c=Object(o.a)(n,2),r=c[0],j=c[1],h=Object(d.useState)({page:1,limit:5,name:null}),O=Object(o.a)(h,2),p=O[0],g=O[1],y=Object(d.useState)(),v=Object(o.a)(y,2),C=v[0],w=v[1],P=Object(d.useState)(!0),T=Object(o.a)(P,2),k=T[0],z=T[1],A=Object(d.useState)(!1),M=Object(o.a)(A,2),R=M[0],N=M[1],B=Object(d.useState)(""),D=Object(o.a)(B,2),F=D[0],I=D[1],V=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"name",header:"Name",enableEditing:!1,enableSorting:!1},{accessorKey:"location",header:"Location"},{accessorKey:"description",header:"Description",enableEditing:!1},{accessorKey:"addToPolicy",header:"Add to policy",enableEditing:!1,Cell:function(e){return Object(S.jsx)(at,{policyId:t,listDeviceId:e.row.original.id,setAddSuccess:a})}}],K=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Be.g)(p);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==F&&E.b.error("No elemant match"),a=t.data.listResult,j(a),w(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){p.page<C&&(g({limit:p.limit,page:p.page+1}),z(!0))},H=function(){p.page>1&&(g({limit:p.limit,page:p.page-1}),z(!0))},L=function(){N(!0),I("")},U=function(){g(Object(i.a)(Object(i.a)({},p),{},{name:F})),z(!0)};return Object(d.useEffect)((function(){R?(g({page:1,limit:5,name:null}),N(!1),z(!0)):k&&(K(),z(!1))}),[R,k]),Object(S.jsx)(x.a,{sx:{m:1},children:Object(S.jsx)(m.a,{theme:be.a,children:Object(S.jsx)(f.a,{columns:V,data:r,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnVisibility:{id:!1},columnOrder:["id","name","location","description","addToPolicy","mrt-row-expand"]},renderDetailPanel:function(e){var t=e.row;return Object(S.jsxs)(b.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(S.jsxs)(u.a,{fontSize:"15px",children:["Created Date: ",Object(ze.a)(t.original.createdDate)]}),Object(S.jsxs)(u.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(S.jsxs)(u.a,{fontSize:"15px",children:["Modified Date: ",Object(ze.a)(t.original.modifiedDate)]}),Object(S.jsxs)(u.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(et,{paramsPageDevices:p,totalPage:C,handleMoveToPrePage:H,handleMoveToNextPage:W})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(tt,{searchTerm:F,setSearchTerm:I,setResettable:N,handleSearchMode:U,handleResetTable:L})}})})})},ct=function(e){var t=e.row,a=Object(d.useState)(!1),n=Object(o.a)(a,2),c=n[0],r=n[1],i=Object(d.useState)(!1),s=Object(o.a)(i,2),l=s[0],j=s[1],h=Object(d.useState)(1),x=Object(o.a)(h,2),m=x[0],f=x[1],g=function(){r((function(e){return!e}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{onClick:function(){r((function(e){return!e}))},children:[Object(S.jsx)(Ke.a,{color:"primary"}),Object(S.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Edit Policy Device & List Device"})]}),Object(S.jsx)(N.a,{open:c,onClose:g,children:Object(S.jsxs)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"95%",minHeight:"35%",maxHeight:"95%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:0,overflow:"auto"},children:[Object(S.jsxs)(b.a,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(S.jsxs)(Re.a,{value:m,onChange:function(e,t){return f(t)},textColor:"primary",indicatorColor:"primary",children:[Object(S.jsx)(Ee.a,{value:1,label:"Add new device"}),Object(S.jsx)(Ee.a,{value:2,label:"Add new list device"})]}),Object(S.jsx)(O.a,{type:"button",children:Object(S.jsx)(M.a,{color:"inherit",onClick:g})})]}),1===m&&Object(S.jsxs)(b.a,{sx:{p:1},children:[Object(S.jsx)(Ie,{id:t.original.id,setAddSuccess:j}),Object(S.jsx)("br",{}),Object(S.jsx)(Ye,{id:t.original.id,addSuccess:l,setAddSuccess:j})]}),2===m&&Object(S.jsxs)(b.a,{sx:{p:1},children:[Object(S.jsx)(nt,{policyId:t.original.id,setAddSuccess:j}),Object(S.jsx)("br",{}),Object(S.jsx)(Ye,{id:t.original.id,addSuccess:l,setAddSuccess:j})]})]})})]})},rt=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)({page:1,limit:10,policyname:null}),r=Object(o.a)(c,2),j=r[0],g=r[1],y=Object(d.useState)(),v=Object(o.a)(y,2),C=v[0],P=v[1],T=Object(d.useState)(!0),k=Object(o.a)(T,2),z=k[0],A=k[1],M=Object(d.useState)(!1),R=Object(o.a)(M,2),N=R[0],B=R[1],D=Object(d.useState)(""),F=Object(o.a)(D,2),I=F[0],V=F[1],K=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.k)(j);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==I&&E.b.error("No elements match"),a=t.data.listResult,n(a),P(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){j.page<C&&(g({limit:j.limit,page:j.page+1}),A(!0))},H=function(){j.page>1&&(g({limit:j.limit,page:j.page-1}),A(!0))},L=function(){B(!0),V("")},U=function(){g(Object(i.a)(Object(i.a)({},j),{},{policyname:I})),A(!0)},q=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t,a){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.A)(t,a);case 2:200===(n=e.sent).status?A(!0):E.b.error(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){N?(g({page:1,limit:10,policyname:null}),B(!1),A(!0)):z&&(K(),A(!1))}),[N,z]);var G=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(S.jsx)("span",{children:e.row.original.id})}},{accessorKey:"policyname",header:"Policy",enableEditing:!1,enableSorting:!1},{accessorKey:"commandName",header:"Command Name",enableEditing:!1,enableSorting:!1},{accessorKey:"action",header:"Action",enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(S.jsx)(b.a,{children:1===e.row.original.action?"Install":2===e.row.original.action?"Uninstall":"Run command"})}},{accessorKey:"status",header:"Staus",enableEditing:!1,enableSorting:!1,Cell:function(e){return Object(S.jsx)(b.a,{children:0===e.row.original.status?Object(S.jsx)(u.a,{color:"grey",fontWeight:"bold",children:"Pennding"}):1===e.row.original.status?Object(S.jsx)(u.a,{color:"green",fontWeight:"bold",children:"Running"}):2===e.row.original.status?Object(S.jsx)(u.a,{color:"blue",fontWeight:"bold",children:"Pause"}):Object(S.jsx)(u.a,{color:"error",fontWeight:"bold",children:"Stop"})})}},{Header:"Policy Action",accessorKey:"policyAction",muiTableHeadCellProps:{align:"left"},muiTableBodyCellProps:{align:"center"},Cell:function(e){return Object(S.jsxs)(b.a,{sx:{display:"flex",gap:"1rem"},children:[Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:2===e.row.original.status?"Continue":"Run",disabled:!(0===e.row.original.status||3===e.row.original.status||2===e.row.original.status),children:Object(S.jsx)(O.a,{color:0===e.row.original.status||3===e.row.original.status||2===e.row.original.status?"primary":"inherit",disabled:!(0===e.row.original.status||3===e.row.original.status||2===e.row.original.status),onClick:function(){q(e.row.original.id,1)},children:2===e.row.original.status?Object(S.jsx)(Me.a,{}):Object(S.jsx)(me,{})})}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Pause",disabled:1!==e.row.original.status,children:Object(S.jsx)(O.a,{color:1===e.row.original.status?"warning":"inherit",disabled:1!==e.row.original.status,onClick:function(){q(e.row.original.id,2)},children:Object(S.jsx)(pe,{})})}),Object(S.jsx)(h.a,{arrow:!0,placement:"top",title:"Stop",disabled:!(1===e.row.original.status||2===e.row.original.status),children:Object(S.jsx)(O.a,{color:1===e.row.original.status||2===e.row.original.status?"error":"inherit",disabled:!(1===e.row.original.status||2===e.row.original.status),onClick:function(){q(e.row.original.id,3)},children:Object(S.jsx)(fe,{})})})]})}}];return Object(S.jsxs)(x.a,{children:[Object(S.jsx)(u.a,{variant:"h6",align:"left",fontWeight:"fontWeightBold",fontSize:15,sx:{marginTop:"5px",marginLeft:"10px"},children:"Policies"}),Object(S.jsx)(m.a,{theme:be.a,children:Object(S.jsx)(f.a,{columns:G,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1},columnOrder:["id","policyname","commandName","action","status","mrt-row-expand","mrt-row-actions","policyAction"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(b.a,{flexBasis:"25%",children:Object(S.jsx)(je,{row:t,setUpdatetable:A})}),Object(S.jsx)(b.a,{flexBasis:"25%",children:Object(S.jsx)(ke,{row:t,setUpdatetable:A})}),Object(S.jsxs)(b.a,{flexBasis:"25%",children:[Object(S.jsx)(ct,{row:t,setUpdatetable:A}),","]}),Object(S.jsx)(b.a,{flexBasis:"25%",children:Object(S.jsx)(Oe.c,{to:"/tms-policy/policy-management/policy?id=".concat(t.original.id,"&pn=").concat(t.original.policyname),children:Object(S.jsxs)(p.a,{children:[Object(S.jsx)(he.a,{color:"primary"}),Object(S.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},textTransform:"none",children:"Detail"})]})})})]})]},displayColumnDefOptions:{"mrt-row-actions":{size:300,header:""}},renderDetailPanel:function(e){var t=e.row;return Object(S.jsxs)(b.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(S.jsxs)(u.a,{fontSize:"15px",children:["Created Date: ",Object(ze.a)(t.original.createdDate)]}),Object(S.jsxs)(u.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(S.jsxs)(u.a,{fontSize:"15px",children:["Modified Date: ",Object(ze.a)(t.original.modifiedDate)]}),Object(S.jsxs)(u.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(S.jsx)(w,{paramsPageDevices:j,totalPage:C,handleMoveToPrePage:H,handleMoveToNextPage:W})},renderTopToolbarCustomActions:function(){return Object(S.jsx)(le,{searchTerm:I,setSearchTerm:V,setResettable:B,handleSearchMode:U,handleResetTable:L})}})})]})},it=a(187),st=a(169),lt=a(193),ot=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(d.useState)([]),r=Object(o.a)(c,2),i=r[0],j=r[1],b=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(it.c)("status");case 2:200===(t=e.sent).status&&n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(it.c)("action");case 2:200===(t=e.sent).status&&j(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){b(),u();var e=setInterval((function(){b(),u()}),18e4);return function(){return clearInterval(e)}}),[]),Object(S.jsxs)(v.a,{container:!0,spacing:1,children:[Object(S.jsx)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsxs)(x.a,{sx:{px:1,py:1,mb:1},children:[Object(S.jsx)(st.a,{level:3,style:st.b,children:"Status"}),Object(S.jsx)(lt.a,{data:a,name:"Policy Status"})]})}),Object(S.jsx)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(S.jsxs)(x.a,{sx:{px:1,py:1,mb:1},children:[Object(S.jsx)(st.a,{level:3,style:st.b,mt:2,children:"Action"}),Object(S.jsx)(lt.a,{data:i,name:"Policy action"})]})})]})};t.default=function(){return Object(S.jsxs)(r.a,{children:[Object(S.jsx)(n.a,{routeSegments:[{name:"Policy Manager",path:"/tms-policy/policy-management"},{name:"Policy",path:"/tms-policy/policy-management"}]}),Object(S.jsxs)(c.a,{spacing:3,children:[Object(S.jsx)(ot,{}),Object(S.jsx)(rt,{})]})]})}}}]);
//# sourceMappingURL=10.842c4ead.chunk.js.map
(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[8],{441:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return j}));var n=a(22),r=function(e){return n.a.get("/TMS/api/user/".concat(e),{})},c=function(e){var t={method:"get",maxBodyLength:1/0,url:"/TMS/api/user",params:{page:e.page,limit:e.limit,active:e.active,search:e.search}};return n.a.request(t)},i=function(e){return console.log("create data: ",e),n.a.post("/TMS/api/auth/signup",{name:e.name,username:e.username,password:e.password,company:e.company,email:e.email,contact:e.contact,rulename:e.rulename}).catch((function(e){if(e.response)return e.response.data}))},s=function(e){return console.log(e),n.a.put("/TMS/api/user/admin/".concat(e.id),{company:e.company,email:e.email,contact:e.contact,rulename:e.rulename})},o=function(e){return n.a.delete("/TMS/api/user/remove/".concat(e),{})},l=function(e,t){return Object(n.a)({method:"put",url:"/TMS/api/user/admin/password/".concat(e),params:{passwordnew:t}})},u=function(e,t,a){return Object(n.a)({method:"put",url:"/TMS/api/user/password/".concat(e),params:{passwordold:t,passwordnew:a}})},d=function(e){var t={method:"get",url:"/TMS/api/user/".concat(e,"/listDevice")};return n.a.request(t)},j=function(e){return Object(n.a)({method:"get",url:"/TMS/api/barSearch/device",params:{search:e}})}},447:function(e,t,a){"use strict";var n=a(24),r=a(1);t.a=Object(n.a)(Object(r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},448:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(31)),c=a(1),i=(0,r.default)((0,c.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=i},512:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(31)),c=a(1),i=(0,r.default)((0,c.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.default=i},513:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(31)),c=a(1),i=(0,r.default)([(0,c.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"},"0"),(0,c.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"},"1")],"AdminPanelSettings");t.default=i},514:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(31)),c=a(1),i=(0,r.default)((0,c.jsx)("path",{d:"M2 17h20v2H2v-2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48 1.3.75zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7l-.85 1.48zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23v-1.5z"}),"Password");t.default=i},515:function(e,t,a){"use strict";var n=a(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(31)),c=a(1),i=(0,r.default)((0,c.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm2 2v2h3v3h2v-3h3v-2h-3V7h-2v3h-3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonAddAlt1");t.default=i},676:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(17),c=a(27),i=a(9),s=a(3),o=a(328),l=a(431),u=a(325),d=a(55),j=a(168),b=a(429),m=a(430),h=a(513),O=a.n(h),x=a(512),p=a.n(x),f=a(1),g=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(f.jsx)("span",{children:e.row.original.id})}},{accessorKey:"role-state",header:"Role/State",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50,Cell:function(e){return Object(f.jsx)(j.a,{children:Object(f.jsx)(b.a,{placement:"left",title:"ROLE_USER"!==e.row.original.rulename[0]||e.row.original.rulename[1]?"Admin":"User",children:Object(f.jsx)(m.a,{children:"ROLE_USER"!==e.row.original.rulename[0]||e.row.original.rulename[1]?Object(f.jsx)(O.a,{color:!0===e.row.original.active?"success":"error"}):Object(f.jsx)(p.a,{color:!0===e.row.original.active?"success":"error"})})})})}},{accessorKey:"name",header:"Name",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"username",header:"Username",enableEditing:!1},{accessorKey:"email",header:"Email",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"company",header:"Company",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"contact",header:"Contact",muiTableBodyCellEditTextFieldProps:{required:!0,type:"number"}}],v=a(51),y=a(320),C=a(56),w=a(172),S=a(426),k=a(406),P=a(437),M=a(423),T=a(335),E=a(434),z=a(439),R=a(324),U=a(448),D=a.n(U),B=a(173),W=a.n(B),q=a(514),L=a.n(q),A=a(441),F=function(e){var t=e.row,a=Object(w.a)(),n=a.logout,o=a.user,l=Object(s.useState)(),d=Object(i.a)(l,2),j=d[0],b=d[1],h=Object(s.useState)(!1),O=Object(i.a)(h,2),x=O[0],p=O[1],g=Object(s.useState)(!1),y=Object(i.a)(g,2),C=y[0],U=y[1],B=Object(s.useState)(!1),q=Object(i.a)(B,2),F=q[0],_=q[1],N=Object(s.useState)(""),H=Object(i.a)(N,2),I=H[0],K=H[1],V=Object(s.useState)(""),J=Object(i.a)(V,2),G=J[0],Q=J[1],X=function(e){e.preventDefault()},Y=function(){b(),K(),Q(),p(!1)},Z=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I===G){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(A.h)(j,I);case 6:t=e.sent,console.log(t),t&&200===t.status?(v.b.success("Change password success"),b(),K(),Q(),Y(),j===o.id&&(alert("Please login again!!!"),n())):(v.b.error("Something went wrong. Cannot change password"),Y(),b(),K(),Q());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(m.a,{onClick:function(){return t.original.active?function(e,t,a){p(!0),b(e.original.id)}(t):""},children:[Object(f.jsx)(L.a,{color:"primary"}),Object(f.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},children:"Change password"})]}),Object(f.jsxs)(S.a,{open:x,onClose:Y,id:"changePassword",maxHeight:!1,height:500,children:[Object(f.jsx)(k.a,{children:"Change Password"}),Object(f.jsxs)(P.a,{children:[Object(f.jsx)("br",{}),Object(f.jsx)(M.a,{item:!0,xs:12,children:Object(f.jsx)(T.a,{id:"outlined-adornment-password",type:C?"text":"password",variant:"outlined",label:"Password",value:I,onChange:function(e){return K(e.target.value)},InputProps:{endAdornment:Object(f.jsx)(E.a,{position:"end",children:Object(f.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){U(!C)},onMouseDown:X,edge:"end",children:C?Object(f.jsx)(W.a,{}):Object(f.jsx)(D.a,{})})})}})}),Object(f.jsx)("br",{}),Object(f.jsx)(M.a,{item:!0,xs:12,children:Object(f.jsx)(T.a,{id:"outlined-adornment-password-2",type:F?"text":"password",variant:"outlined",label:"Input Password again",value:G,onChange:function(e){return Q(e.target.value)},error:I!==G,helperText:I!==G?"Passwords do not match":"",InputProps:{endAdornment:Object(f.jsx)(E.a,{position:"end",children:Object(f.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){_(!F)},onMouseDown:X,edge:"end",children:F?Object(f.jsx)(W.a,{}):Object(f.jsx)(D.a,{})})})}})})]}),Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{onClick:Y,color:"primary",children:"Cancel"}),Object(f.jsx)(R.a,{onClick:Z,color:"primary",children:"Change Password"})]})]})]})},_=a(440),N=a(412),H=function(e){var t=e.row,a=e.setUpdatetable,n=Object(s.useState)(),o=Object(i.a)(n,2),l=o[0],d=o[1],j=Object(s.useState)(!1),b=Object(i.a)(j,2),h=b[0],O=b[1],x=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)(l);case 2:t=e.sent,console.log("ResponseDel: ",t),200===t.status?(a(!0),v.b.success("Delete user success"),p(),d()):(v.b.error("Something went wrong. Cannot delete user"),p(),d());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){O(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(m.a,{onClick:function(){return t.original.active?function(e){O(!0),d(e.original.id)}(t):""},children:[Object(f.jsx)(N.a,{color:"error"}),Object(f.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},children:"Delete"})]}),Object(f.jsxs)(S.a,{open:h,onClose:p,id:"deleteDialog",children:[Object(f.jsx)(k.a,{children:"Delete confirmation"}),Object(f.jsx)(P.a,{children:Object(f.jsx)(_.a,{children:"Are you sure you want to delete this item?"})}),Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{onClick:p,color:"primary",children:"Cancel"}),Object(f.jsx)(R.a,{onClick:x,color:"primary",children:"Delete"})]})]})]})},I=a(96),K=a.n(I),V=a(407),J=function(e){var t=e.paramsPageUser,a=e.totalPage,n=e.handleMoveToPrePage,r=e.handleMoveToNextPage;return Object(f.jsxs)(M.a,{container:!0,fullWidth:!0,children:[Object(f.jsx)(M.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(f.jsx)(M.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(f.jsxs)("span",{children:[Object(f.jsx)(b.a,{title:"Previous page",children:Object(f.jsx)(m.a,{disabled:1===t.page,onClick:n,children:Object(f.jsx)(V.a,{})})}),"Page ",t.page," of ",a,Object(f.jsx)(b.a,{title:"Next page",children:Object(f.jsx)(m.a,{disabled:t.page===a,onClick:r,children:Object(f.jsx)(K.a,{})})})]})})]})},G=a(417),Q=a(433),X=a(420),Y=a(419),Z=a(447),$=["ROLE_ADMIN","ROLE_USER"],ee=["ROLE_USER"],te=function(e){var t=e.row,a=e.setUpdatetable,n=Object(s.useState)(!1),o=Object(i.a)(n,2),d=o[0],b=o[1],h=t.original.name,O=t.original.username,x=Object(s.useState)(t.original.company),p=Object(i.a)(x,2),g=p[0],y=p[1],C=Object(s.useState)(t.original.email),w=Object(i.a)(C,2),S=w[0],k=w[1],P=Object(s.useState)(t.original.contact),E=Object(i.a)(P,2),z=E[0],U=E[1],D=Object(s.useState)(t.original.rulename.length>1?$:ee),B=Object(i.a)(D,2),W=B[0],q=B[1],L=Object(s.useState)(t.original.rulename.length>1?$:ee),F=Object(i.a)(L,2),_=F[0],N=F[1];console.log(h,O);var H=function(){b((function(e){return!e}))},I=function(e,t){switch(t){case"company":y(e.target.value);break;case"email":k(e.target.value);break;case"contact":U(e.target.value);break;case"rulename":N(e.target.value)}},K=function(){for(var e=!0,t={company:g,email:S,contact:z,rulename:_},a=["company","email","contact","rulename"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,b(!0),v.b.info("Missing required parameter: "+a[n]);break}return e},V=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K()){e.next=12;break}if((n={id:t.original.id,company:g,email:S,contact:z,rulename:_}).company!==t.original.company||n.email!==t.original.email||n.contact!==t.original.contact||n.rulename.length!==W.length){e.next=7;break}v.b.info("Nothing changes"),e.next=12;break;case 7:return e.next=9,Object(A.i)(n);case 9:c=e.sent,console.log("editUserResponse",c),c&&500===c.statusCode?c.message.includes("JSON parse error")?v.b.error("Contact must be phone number"):v.b.error(c.message):(v.b.success("Change user data success"),a(!0),q(""),H());case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(m.a,{onClick:t.original.active?function(){b((function(e){return!e}))}:"",children:[Object(f.jsx)(Z.a,{color:"primary"}),Object(f.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},children:"Edit User Data"})]}),Object(f.jsx)(G.a,{open:d,onClose:H,children:Object(f.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(f.jsxs)(u.a,{variant:"h6",component:"h2",gutterBottom:!0,children:["Edit user: ",h,"'s data"]}),Object(f.jsxs)(M.a,{container:!0,spacing:2,children:[Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{id:"name",label:"Name",disabled:!0,fullWidth:!0,margin:"normal",required:!0,value:h})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{id:"username",label:"Username",disabled:!0,fullWidth:!0,margin:"normal",required:!0,value:O})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{id:"company",label:"Company",fullWidth:!0,margin:"normal",required:!0,value:g,onChange:function(e){I(e,"company")}})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{id:"email",label:"Email",fullWidth:!0,margin:"normal",required:!0,value:S,onChange:function(e){I(e,"email")}})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{id:"contact",label:"Contact",fullWidth:!0,margin:"normal",type:"number",required:!0,value:z,onChange:function(e){I(e,"contact")}})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsxs)(Q.a,{fullWidth:!0,margin:"normal",required:!0,children:[Object(f.jsx)(X.a,{id:"rulename-label",children:"Role"}),Object(f.jsxs)(Y.a,{id:"rulename",value:_,onChange:function(e){I(e,"rulename")},children:[Object(f.jsx)(l.a,{value:$,children:"Admin"}),Object(f.jsx)(l.a,{value:ee,children:"User"})]})]})})]}),Object(f.jsxs)(j.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(f.jsx)(R.a,{variant:"contained",onClick:H,children:"Cancel"}),Object(f.jsx)(R.a,{variant:"contained",type:"submit",onClick:V,children:"Save"})]})]})})]})},ae=a(404),ne=a(74),re=a.n(ne),ce=a(408),ie=a(411),se=a(409),oe=a(515),le=a.n(oe),ue=["admin","user"],de=["user"],je=function(e){var t=e.setResettable,a=Object(s.useState)(!1),n=Object(i.a)(a,2),o=n[0],d=n[1],h=Object(s.useState)(!1),O=Object(i.a)(h,2),x=O[0],p=O[1],g=Object(s.useState)(""),y=Object(i.a)(g,2),C=y[0],w=y[1],S=Object(s.useState)(""),k=Object(i.a)(S,2),P=k[0],z=k[1],U=Object(s.useState)(""),B=Object(i.a)(U,2),q=B[0],L=B[1],F=Object(s.useState)(""),_=Object(i.a)(F,2),N=_[0],H=_[1],I=Object(s.useState)(""),K=Object(i.a)(I,2),V=K[0],J=K[1],Z=Object(s.useState)(""),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(s.useState)(""),ne=Object(i.a)(ae,2),re=ne[0],ce=ne[1],ie=function(){d((function(e){return!e})),z(""),L(""),w(""),J(""),H(""),te(""),ce("")},se=function(e,t){if("rulename"===t)"admin"===e.target.value?ce(ue):ce(de);else switch(t){case"name":w(e.target.value);break;case"username":z(e.target.value);break;case"password":L(e.target.value);break;case"company":H(e.target.value);break;case"email":J(e.target.value);break;case"contact":te(e.target.value)}},oe=function(){for(var e=!0,t={name:C,username:P,password:q,company:N,email:V,contact:ee,rulename:re},a=["name","username","password","company","email","contact","rulename"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,d(!0),v.b.info("Missing required parameter: "+a[n]);break}return e},je=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe()){e.next=8;break}return a={name:C,username:P,password:q,company:N,email:V,contact:ee,rulename:re},e.next=5,Object(A.f)(a);case 5:n=e.sent,console.log("createUserResponse",n),n&&500===n.statusCode?n.message.includes("JSON parse error")?v.b.error("Contact must be phone number"):v.b.error(n.message):n&&200===n.status?(v.b.success("Create user success"),ie(),t(!0)):(v.b.error(n.message),ie());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b.a,{arrow:!0,placement:"top",title:"Add New User",children:Object(f.jsx)(m.a,{onClick:function(){d((function(e){return!e}))},children:Object(f.jsx)(le.a,{color:"primary"})})}),Object(f.jsx)(G.a,{open:o,onClose:ie,children:Object(f.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(f.jsx)(u.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new User"}),Object(f.jsxs)(M.a,{container:!0,spacing:2,children:[Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{label:"Name",fullWidth:!0,margin:"normal",required:!0,onChange:function(e){se(e,"name")}})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{label:"Username",fullWidth:!0,margin:"normal",required:!0,onChange:function(e){se(e,"username")}})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{label:"Password",required:!0,fullWidth:!0,margin:"normal",type:x?"text":"password",value:q,onChange:function(e){se(e,"password")},InputProps:{endAdornment:Object(f.jsx)(E.a,{position:"end",children:Object(f.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){p((function(e){return!e}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:x?Object(f.jsx)(W.a,{}):Object(f.jsx)(D.a,{})})})}})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{label:"Company",fullWidth:!0,margin:"normal",required:!0,onChange:function(e){se(e,"company")},onBlur:function(){N.endsWith("vnpt")||H(N+"vnpt")},value:N})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{label:"Email",fullWidth:!0,margin:"normal",required:!0,onChange:function(e){se(e,"email")},onBlur:function(){V.endsWith("@gmail.com")||J(V+"@gmail.com")},value:V})}),Object(f.jsx)(M.a,{item:!0,xs:6,children:Object(f.jsx)(T.a,{label:"Contact",fullWidth:!0,margin:"normal",type:"numeric",inputProps:{pattern:"[0-9]*",shrink:!1},required:!0,onChange:function(e){se(e,"contact")},onBlur:function(){ee.endsWith("123456")||te(ee+"123456")},value:ee})}),Object(f.jsx)(M.a,{item:!0,xs:12,children:Object(f.jsxs)(Q.a,{fullWidth:!0,margin:"normal",required:!0,children:[Object(f.jsx)(X.a,{id:"rulename-label",children:"Role"}),Object(f.jsxs)(Y.a,{id:"rulename",onChange:function(e){se(e,"rulename")},children:[Object(f.jsx)(l.a,{value:"admin",children:"Admin"}),Object(f.jsx)(l.a,{value:"user",children:"User"})]})]})})]}),Object(f.jsxs)(j.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(f.jsx)(R.a,{variant:"contained",onClick:ie,children:"Cancel"}),Object(f.jsx)(R.a,{variant:"contained",type:"submit",onClick:je,children:"Save"})]})]})})]})},be=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.setResettable,r=e.color,c=e.handleChangeStatus,i=e.handleResetTable,s=e.handleSearchMode,o=0===t.trim().length;return Object(f.jsxs)(M.a,{container:!0,fullWidth:!0,children:[Object(f.jsxs)(M.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(f.jsx)(T.a,{id:"search",type:"search",label:"Search",variant:"outlined",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(f.jsxs)(E.a,{children:[Object(f.jsx)(ae.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(f.jsx)(b.a,{arrow:!0,placement:"top",title:"Search",children:Object(f.jsx)(m.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){o||s()},children:Object(f.jsx)(re.a,{color:"primary"})})})]})}}),Object(f.jsx)(b.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(f.jsx)(m.a,{type:"button",onClick:function(){a(""),i()},disabled:o,children:Object(f.jsx)(ce.a,{color:"error"})})})]}),Object(f.jsxs)(M.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(f.jsx)(ae.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(f.jsx)(b.a,{arrow:!0,placement:"top",title:"success"===r?"Enable User":"error"===r?"Disabled User":"All Users",children:Object(f.jsx)(m.a,{color:"primary","aria-label":"clear",onClick:c,disabled:!o,children:Object(f.jsx)(ie.a,{color:r})})}),Object(f.jsx)(b.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(f.jsx)(m.a,{color:"primary","aria-label":"clear",onClick:i,children:Object(f.jsx)(se.a,{})})}),Object(f.jsx)(je,{setResettable:n})]})]})},me=a(76),he=a.n(me),Oe=function(e){var t=e.row,a=Object(s.useState)([]),n=Object(i.a)(a,2),o=n[0],l=n[1],b=Object(s.useState)(!1),h=Object(i.a)(b,2),O=h[0],x=h[1],p=function(){x((function(e){return!e}))},g=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.e)(t.original.id);case 2:200===(a=e.sent).status&&(console.log(a),l(a.data.listResult));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){!0===O&&g()}),[O]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(m.a,{onClick:function(){x((function(e){return!e}))},children:[Object(f.jsx)(he.a,{color:"primary"}),Object(f.jsx)(u.a,{style:{marginLeft:"8px",color:"black"},children:"User's List Devices"})]}),Object(f.jsx)(G.a,{open:O,onClose:p,children:Object(f.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(f.jsxs)(u.a,{variant:"h6",component:"h2",gutterBottom:!0,children:[t.original.name,"'s List Devices"]}),Object(f.jsx)(M.a,{spacing:2,children:Object(f.jsx)(d.a,{data:o,columns:[{accessorKey:"name",header:"Name",enableEditing:!1,enableSorting:!1},{accessorKey:"location",header:"Location"},{accessorKey:"description",header:"Description",enableEditing:!1}],enableSorting:!1,enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnActions:!1,enableHiding:!1,enableColumnFilterModes:!1,enableFilters:!1,enableDensityToggle:!1,initialState:{density:"compact"}})}),Object(f.jsx)("br",{}),Object(f.jsx)(j.a,{sx:{textAlign:"right"},children:Object(f.jsx)(R.a,{variant:"contained",onClick:p,children:"Cancel"})})]})})]})},xe=a(64),pe=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),a=t[0],j=t[1],b=Object(s.useState)({page:1,limit:10,active:1,search:null}),m=Object(i.a)(b,2),h=m[0],O=m[1],x=Object(s.useState)(),p=Object(i.a)(x,2),w=p[0],S=p[1],k=Object(s.useState)(!0),P=Object(i.a)(k,2),M=P[0],T=P[1],E=Object(s.useState)(!1),z=Object(i.a)(E,2),R=z[0],U=z[1],D=Object(s.useState)(""),B=Object(i.a)(D,2),W=B[0],q=B[1],L=Object(s.useState)("success"),_=Object(i.a)(L,2),N=_[0],I=_[1],K=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var t,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h),e.next=3,Object(A.b)(h);case 3:200===(t=e.sent).status&&(console.log("Page List: ",t),null===t.data.totalElement&&(null!==W?v.b.error("No element matchs"):v.b.error("Nothing to show")),a=t.data.listResult,j(a),S(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){h.page<w&&(O({limit:h.limit,page:h.page+1}),T(!0))},G=function(){h.page>1&&(O({limit:h.limit,page:h.page-1}),T(!0))},Q=function(){"success"===N&&(I("error"),O(Object(n.a)(Object(n.a)({},h),{},{active:0})),T(!0)),"error"===N&&(I("disabled"),O(Object(n.a)(Object(n.a)({},h),{},{active:null})),T(!0)),"disabled"===N&&(I("success"),O(Object(n.a)(Object(n.a)({},h),{},{active:1})),T(!0))},X=function(){U(!0),q(""),I("success")},Y=function(){O(Object(n.a)(Object(n.a)({},h),{},{search:W})),T(!0)};return Object(s.useEffect)((function(){R?(O({page:1,limit:10,active:1,search:null}),U(!1),T(!0)):M&&(console.log("change status"),K(),T(!1))}),[R,M]),Object(f.jsx)(o.a,{children:Object(f.jsx)(y.a,{theme:C.a,children:Object(f.jsx)(d.a,{columns:g,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableEditing:!1,enableBottomToolbar:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,expanded:!0,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{density:"compact",columnVisibility:{id:!1},columnOrder:["id","role-state","name","username","email","company","contact","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;return[Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{flexBasis:"25%",children:Object(f.jsx)(te,{row:t,setUpdatetable:T})}),Object(f.jsx)(l.a,{flexBasis:"25%",children:Object(f.jsx)(F,{row:t})}),Object(f.jsx)(l.a,{flexBasis:"25%",children:Object(f.jsx)(H,{row:t,setUpdatetable:T})}),Object(f.jsx)(l.a,{flexBasis:"25%",children:Object(f.jsx)(Oe,{row:t})})]})]},renderDetailPanel:function(e){var t=e.row;return Object(f.jsxs)(l.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(f.jsxs)(u.a,{fontSize:"15px",children:["Created Date: ",Object(xe.a)(t.original.createdDate)]}),Object(f.jsxs)(u.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(f.jsxs)(u.a,{fontSize:"15px",children:["Modified Date: ",Object(xe.a)(t.original.modifiedDate)]}),Object(f.jsxs)(u.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(f.jsx)(J,{paramsPageUser:h,totalPage:w,handleMoveToPrePage:G,handleMoveToNextPage:V})},renderTopToolbarCustomActions:function(){return Object(f.jsx)(be,{searchTerm:W,color:N,setSearchTerm:q,setResettable:U,handleSearchMode:Y,handleChangeStatus:Q,handleResetTable:X})}})})})},fe=a(57),ge=a(438),ve=a(125);t.default=function(){return Object(f.jsxs)(ve.a,{children:[Object(f.jsx)(fe.a,{routeSegments:[{name:"User Managers",path:"/tms-admin/user-management"}]}),Object(f.jsx)(ge.a,{spacing:3,children:Object(f.jsx)(pe,{})})]})}}}]);
//# sourceMappingURL=8.4158ba53.chunk.js.map
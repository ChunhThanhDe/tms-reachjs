(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[14],{447:function(e,t,a){"use strict";var n=a(24),i=a(1);t.a=Object(n.a)(Object(i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},464:function(e,t,a){"use strict";var n=a(24),i=a(1);t.a=Object(n.a)(Object(i.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox")},680:function(e,t,a){"use strict";a.r(t);var n=a(57),i=a(438),c=a(125),r=a(2),s=a(17),l=a(27),o=a(9),j=a(3),b=a(328),d=a(320),u=a(168),h=a(325),x=a(55),O=a(96),m=a.n(O),f=a(423),p=a(429),g=a(430),y=a(407),v=a(1),C=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(v.jsxs)(f.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(f.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(v.jsx)(f.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsxs)("span",{children:[Object(v.jsx)(p.a,{title:"Previous page",children:Object(v.jsx)(g.a,{disabled:1===t.page,onClick:n,children:Object(v.jsx)(y.a,{})})}),"Page ",t.page," of ",a,Object(v.jsx)(p.a,{title:"Next page",children:Object(v.jsx)(g.a,{disabled:t.page===a,onClick:i,children:Object(v.jsx)(m.a,{})})})]})})]})},S=a(335),w=a(434),k=a(404),T=a(74),M=a.n(T),P=a(408),D=a(409),B=a(51),z=a(417),E=a(324),N=a(464),R=a(88),W=function(e){var t=e.setResettable,a=Object(j.useState)(!1),n=Object(o.a)(a,2),i=n[0],c=n[1],r=Object(j.useState)(""),b=Object(o.a)(r,2),d=b[0],x=b[1],O=Object(j.useState)(""),m=Object(o.a)(O,2),y=m[0],C=m[1],w=function(){c((function(e){return!e})),C(""),x("")},k=function(e,t){switch(t){case"title":x(e.target.value);break;case"message":C(e.target.value)}},T=function(){for(var e=!0,t={title:d,message:y},a=["title","message"],n=0;n<a.length;n++)if(!t[a[n]]){e=!1,c(!0),B.b.info("Missing required parameter: "+a[n]);break}return e},M=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var a,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T()){e.next=7;break}return a={title:d,message:y},e.next=5,Object(R.o)(a);case 5:(n=e.sent)&&200===n.status?(B.b.success("Create success"),w(),t(!0)):(B.b.error(n.message),w());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Add New Notification",children:Object(v.jsx)(g.a,{onClick:function(){c((function(e){return!e}))},children:Object(v.jsx)(N.a,{color:"primary"})})}),Object(v.jsx)(z.a,{open:i,onClose:w,children:Object(v.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(v.jsx)(h.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Create a new Notification"}),Object(v.jsxs)(f.a,{container:!0,spacing:2,children:[Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"title",label:"Title",fullWidth:!0,margin:"normal",onChange:function(e){k(e,"title")},value:d})}),Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"message",label:"Message",fullWidth:!0,margin:"normal",onChange:function(e){k(e,"message")},value:y})})]}),Object(v.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(v.jsx)(E.a,{variant:"contained",onClick:w,children:"Cancel"}),Object(v.jsx)(E.a,{variant:"contained",type:"submit",onClick:M,children:"Save"})]})]})})]})},A=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,c=e.setResettable,r=0===t.trim().length;return Object(v.jsxs)(f.a,{container:!0,fullWidth:!0,children:[Object(v.jsx)(f.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(v.jsx)(S.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in Policy",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(v.jsxs)(w.a,{children:[Object(v.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Only search in Message",children:Object(v.jsx)(g.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(v.jsx)(M.a,{color:"primary"})})})]})}})}),Object(v.jsxs)(f.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsx)(f.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(v.jsx)(g.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(v.jsx)(P.a,{color:"error"})})})}),Object(v.jsxs)(f.a,{lg:6,md:6,sm:6,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:[Object(v.jsx)(k.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(v.jsx)(p.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(v.jsx)(g.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(v.jsx)(D.a,{})})}),Object(v.jsx)(W,{setResettable:c}),","]})]})]})},F=a(447),I=function(e){var t=e.row,a=e.setUpdatetable,n=Object(j.useState)(!1),i=Object(o.a)(n,2),c=i[0],r=i[1],b=Object(j.useState)(t.original.title),d=Object(o.a)(b,2),x=d[0],O=d[1],m=Object(j.useState)(t.original.message),p=Object(o.a)(m,2),y=p[0],C=p[1],w=t.original.title,k=t.original.message,T=function(){r((function(e){return!e}))},M=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var n,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x!==w||k!==y){e.next=4;break}return B.b.info("Nothing changes"),T(),e.abrupt("return");case 4:if(""!==x){e.next=6;break}return e.abrupt("return");case 6:return n={id:t.original.id,message:y,title:x},e.next=9,Object(R.x)(n);case 9:(i=e.sent)&&200===i.status?(B.b.success("Change data success"),a(!0),T()):500===i.statusCode&&B.b.error("Error: ",i.message);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(g.a,{onClick:function(){r((function(e){return!e}))},children:[Object(v.jsx)(F.a,{color:"primary"}),Object(v.jsx)(h.a,{style:{marginLeft:"8px",color:"black"},children:"Edit Notification"})]}),Object(v.jsx)(z.a,{open:c,onClose:T,children:Object(v.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(v.jsx)(h.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit"}),Object(v.jsxs)(f.a,{container:!0,spacing:2,children:[Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"title",label:"Title",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){O(e.target.value)}(e)},value:x})}),Object(v.jsx)(f.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{id:"message",label:"Message",fullWidth:!0,margin:"normal",onChange:function(e){return function(e){C(e.target.value)}(e)},value:y})})]}),Object(v.jsxs)(u.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(v.jsx)(E.a,{variant:"contained",onClick:T,children:"Cancel"}),Object(v.jsx)(E.a,{variant:"contained",type:"submit",onClick:M,children:"Save"})]})]})})]})},L=a(56),V=a(64),K=a(76),H=a.n(K),J=function(e){var t=e.id,a=Object(j.useState)(!1),n=Object(o.a)(a,2),i=n[0],c=n[1],r=Object(j.useState)([]),b=Object(o.a)(r,2),d=b[0],x=b[1],O=function(){c((function(e){return!e}))},m=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.m)(t);case 2:(a=e.sent)&&200===a.status?x(a.data):500===a.statusCode&&B.b.error("Error: ",a.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(g.a,{onClick:function(){c((function(e){return!e})),m()},disabled:!t,children:[Object(v.jsx)(H.a,{color:"primary"}),Object(v.jsx)(h.a,{style:{marginLeft:"8px",color:"black"},children:"Detail"})]}),Object(v.jsx)(z.a,{open:i,onClose:O,children:Object(v.jsxs)(u.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(v.jsx)(h.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Detail Notification"}),Object(v.jsxs)(h.a,{children:["ID: ",d.id]}),Object(v.jsxs)(h.a,{children:["Title: ",d.title]}),Object(v.jsxs)(h.a,{children:["Message: ",d.message]}),Object(v.jsxs)(h.a,{children:["Created By: ",d.createdBy]}),Object(v.jsxs)(h.a,{children:["Created Date: ",Object(V.a)(d.createdDate)]}),Object(v.jsxs)(h.a,{children:["Modified By: ",d.modifiedBy]}),Object(v.jsxs)(h.a,{children:["Modified Date: ",Object(V.a)(d.modifiedDate)]}),Object(v.jsx)(u.a,{sx:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},children:Object(v.jsx)(E.a,{variant:"contained",onClick:O,children:"Cancel"})})]})})]})},U=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(j.useState)({page:1,limit:10,search:null}),c=Object(o.a)(i,2),O=c[0],m=c[1],f=Object(j.useState)(),p=Object(o.a)(f,2),g=p[0],y=p[1],S=Object(j.useState)(!0),w=Object(o.a)(S,2),k=w[0],T=w[1],M=Object(j.useState)(!1),P=Object(o.a)(M,2),D=P[0],z=P[1],E=Object(j.useState)(""),N=Object(o.a)(E,2),W=N[0],F=N[1],K=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.i)(O);case 2:200===(t=e.sent).status&&(null===t.data.totalElement&&null!==W&&B.b.error("No elements match"),a=t.data.listResult,n(a),y(t.data.totalPage));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){O.page<g&&(m({limit:O.limit,page:O.page+1}),T(!0))},U=function(){O.page>1&&(m({limit:O.limit,page:O.page-1}),T(!0))},q=function(){z(!0),F("")},G=function(){m(Object(r.a)(Object(r.a)({},O),{},{search:W})),T(!0)};Object(j.useEffect)((function(){D?(m({page:1,limit:10,search:null}),z(!1),T(!0)):k&&(console.log("change status"),K(),T(!1))}),[D,k]);var Q=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(v.jsx)("span",{children:e.row.original.id})}},{accessorKey:"title",header:"Title",enableEditing:!1,enableSorting:!1},{accessorKey:"message",header:"Message",enableEditing:!1,enableSorting:!1}];return Object(v.jsx)(b.a,{children:Object(v.jsx)(d.a,{theme:L.a,children:Object(v.jsx)(x.a,{columns:Q,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1},columnOrder:["id","title","message","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(u.a,{flexBasis:"25%",children:[Object(v.jsx)(I,{row:t,setUpdatetable:T})," "]}),Object(v.jsx)(u.a,{flexBasis:"25%",children:Object(v.jsx)(J,{id:t.original.id})})]})]},displayColumnDefOptions:{"mrt-row-actions":{size:300,header:""}},renderDetailPanel:function(e){var t=e.row;return Object(v.jsxs)(u.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(v.jsxs)(h.a,{fontSize:"15px",children:["Created Date: ",Object(V.a)(t.original.createdDate)]}),Object(v.jsxs)(h.a,{fontSize:"15px",children:["Created By: ",t.original.createdBy]}),Object(v.jsxs)(h.a,{fontSize:"15px",children:["Modified Date: ",Object(V.a)(t.original.modifiedDate)]}),Object(v.jsxs)(h.a,{fontSize:"15px",children:["Modified By: ",t.original.modifiedBy]})]})},renderBottomToolbarCustomActions:function(){return Object(v.jsx)(C,{paramsPageDevices:O,totalPage:g,handleMoveToPrePage:U,handleMoveToNextPage:H})},renderTopToolbarCustomActions:function(){return Object(v.jsx)(A,{searchTerm:W,setSearchTerm:F,setResettable:z,handleSearchMode:G,handleResetTable:q})}})})})};t.default=function(){return Object(v.jsxs)(c.a,{children:[Object(v.jsx)(n.a,{routeSegments:[{name:"Policy Manager",path:"/tms-policy/policy-management"},{name:"Notification",path:"/tms-policy/notificationID-management"}]}),Object(v.jsx)(i.a,{spacing:3,children:Object(v.jsx)(U,{})})]})}}}]);
//# sourceMappingURL=14.4bb5c03d.chunk.js.map
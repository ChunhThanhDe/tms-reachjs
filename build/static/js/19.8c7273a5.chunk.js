(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[19],{447:function(e,t,a){"use strict";var n=a(24),i=a(1);t.a=Object(n.a)(Object(i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},681:function(e,t,a){"use strict";a.r(t);var n=a(57),i=a(438),r=a(2),c=a(17),s=a(27),l=a(9),o=a(3),d=a(328),j=a(320),b=a(168),u=a(429),h=a(430),m=a(325),x=a(55),p=a(1),O=[{accessorKey:"id",header:"ID",size:20,enableEditing:!1,enableFilters:!1,Cell:function(e){return Object(p.jsx)("span",{children:e.row.original.id})}},{accessorKey:"sn",header:"Serial Number",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"mac",header:"MAC",enableEditing:!1,enableSorting:!1,enableColumnFilter:!1,size:50},{accessorKey:"model",header:"Model",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"ip",header:"IP",enableEditing:!1},{accessorKey:"firmwareVer",header:"Firmware Version",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"location",header:"Location",muiTableBodyCellEditTextFieldProps:{required:!0}},{accessorKey:"description",header:"Description",muiTableBodyCellEditTextFieldProps:{required:!0}}],g=a(75),f=a(96),y=a.n(f),v=a(423),C=a(407),S=function(e){var t=e.paramsPageDevices,a=e.totalPage,n=e.handleMoveToPrePage,i=e.handleMoveToNextPage;return Object(p.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(p.jsx)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}}),Object(p.jsx)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(p.jsxs)("span",{children:[Object(p.jsx)(u.a,{title:"Previous page",children:Object(p.jsx)(h.a,{disabled:1===t.page,onClick:n,children:Object(p.jsx)(C.a,{})})}),"Page ",t.page," of ",a,Object(p.jsx)(u.a,{title:"Next page",children:Object(p.jsx)(h.a,{disabled:t.page===a,onClick:i,children:Object(p.jsx)(y.a,{})})})]})})]})},w=a(335),T=a(434),P=a(404),D=a(74),k=a.n(D),E=a(408),M=a(409),F=function(e){var t=e.searchTerm,a=e.setSearchTerm,n=e.handleResetTable,i=e.handleSearchMode,r=0===t.trim().length;return Object(p.jsxs)(v.a,{container:!0,fullWidth:!0,children:[Object(p.jsxs)(v.a,{item:!0,lg:8,md:8,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(w.a,{id:"search",type:"search",label:"Search",variant:"outlined",placeholder:"Only search in SerialNumber and Descripttion",size:"small",value:t,onChange:function(e){a(e.target.value)},edge:"end",fullWidth:!0,InputProps:{endAdornment:Object(p.jsxs)(T.a,{children:[Object(p.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(p.jsx)(u.a,{arrow:!0,placement:"top",title:"Only search in SerialNumber and Descripttion",children:Object(p.jsx)(h.a,{type:"button","aria-label":"search",helperText:"Search",onClick:function(){r||i()},children:Object(p.jsx)(k.a,{color:"primary"})})})]})}}),Object(p.jsx)(u.a,{arrow:!0,placement:"top",title:"Close Search",children:Object(p.jsx)(h.a,{type:"button",onClick:function(){a(""),n()},disabled:r,children:Object(p.jsx)(E.a,{color:"error"})})})]}),Object(p.jsxs)(v.a,{item:!0,lg:4,md:4,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"},children:[Object(p.jsx)(P.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(p.jsx)(u.a,{arrow:!0,placement:"top",title:"Reset table to default",children:Object(p.jsx)(h.a,{color:"primary","aria-label":"clear",onClick:n,children:Object(p.jsx)(M.a,{})})})]})]})},z=a(51),B=a(417),K=a(324),N=a(447),R=function(e){var t=e.row,a=e.setUpdatetable,n=Object(o.useState)(!1),i=Object(l.a)(n,2),r=i[0],d=i[1],j=Object(o.useState)(t.original.description),u=Object(l.a)(j,2),x=u[0],O=u[1],f=t.original.description,y=function(){d((function(e){return!e}))},C=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var n,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x!==f){e.next=4;break}return z.b.info("Nothing changes"),y(),e.abrupt("return");case 4:return n={id:t.original.id,description:x},e.next=7,Object(g.m)(n);case 7:i=e.sent,console.log("editUserResponse",i),i&&200===i.status&&(z.b.success("Change description success"),a(!0),y());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(h.a,{onClick:function(){d((function(e){return!e}))},children:[Object(p.jsx)(N.a,{color:"primary"}),Object(p.jsx)(m.a,{style:{marginLeft:"8px",color:"black"},children:"Edit Description"})]}),Object(p.jsx)(B.a,{open:r,onClose:y,children:Object(p.jsxs)(b.a,{sx:{position:"absolute",top:"50%",left:"50%",width:"50%",height:"600",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,p:4,minWidth:400},children:[Object(p.jsx)(m.a,{variant:"h6",component:"h2",gutterBottom:!0,children:"Edit description"}),Object(p.jsx)(v.a,{container:!0,spacing:2,children:Object(p.jsx)(v.a,{item:!0,xs:12,children:Object(p.jsx)(w.a,{id:"description",label:"Description",fullWidth:!0,multiline:!0,rows:6,margin:"normal",onChange:function(e){return function(e){O(e.target.value)}(e)},value:x})})}),Object(p.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(p.jsx)(K.a,{variant:"contained",onClick:y,children:"Cancel"}),Object(p.jsx)(K.a,{variant:"contained",type:"submit",onClick:C,children:"Save"})]})]})})]})},A=a(76),I=a.n(A),L=a(56),V=a(38),W=a(64),q=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(o.useState)({page:1,limit:10,search:null}),f=Object(l.a)(i,2),y=f[0],v=f[1],C=Object(o.useState)(),w=Object(l.a)(C,2),T=w[0],P=w[1],D=Object(o.useState)(!0),k=Object(l.a)(D,2),E=k[0],M=k[1],B=Object(o.useState)(!1),K=Object(l.a)(B,2),N=K[0],A=K[1],q=Object(o.useState)(""),U=Object(l.a)(q,2),J=U[0],G=U[1],H=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var t,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(y);case 2:t=e.sent,console.log("Page List: ",t),200===t.status&&(null===t.data.totalElement&&null!==J&&z.b.error("No elements match"),a=t.data.listResult,n(a),P(t.data.totalPage));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){y.page<T&&(v({limit:y.limit,page:y.page+1}),M(!0))},X=function(){y.page>1&&(v({limit:y.limit,page:y.page-1}),M(!0))},Y=function(){A(!0),G("")},Z=function(){v(Object(r.a)(Object(r.a)({},y),{},{search:J})),M(!0)};return Object(o.useEffect)((function(){N?(v({page:1,limit:10,search:null}),A(!1),M(!0)):E&&(console.log("change status"),H(),M(!1))}),[N,E]),Object(p.jsx)(d.a,{children:Object(p.jsx)(j.a,{theme:L.a,children:Object(p.jsx)(x.a,{columns:O,data:a,options:{actionsColumnIndex:-1},enableExpanding:!0,enableGlobalFilter:!1,enableColumnFilters:!1,enableColumnActions:!1,enablePagination:!1,enableSorting:!1,muiTableBodyRowProps:{hover:!1},defaultColumn:{maxSize:120,minSize:10,size:100},initialState:{columnVisibility:{id:!1,mac:!1},columnOrder:["id","sn","mac","model","ip","firmwareVer","location","description","mrt-row-expand","mrt-row-actions"]},renderRowActionMenuItems:function(e){var t=e.row;e.table,e.closeMenu;return[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b.a,{flexBasis:"25%",children:Object(p.jsx)(R,{row:t,setUpdatetable:M})}),Object(p.jsx)(u.a,{arrow:!0,placement:"bottom",title:"Detail",children:Object(p.jsx)(V.c,{to:"/tms-devices/devices-management/device?id=".concat(t.original.id,"&sn=").concat(t.original.sn),children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)(I.a,{color:"primary"}),Object(p.jsx)(m.a,{style:{marginLeft:"8px",color:"black"},children:"Detail"})]})})})]})]},renderDetailPanel:function(e){var t=e.row;return Object(p.jsxs)(b.a,{sx:{display:"grid",margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(p.jsxs)(m.a,{fontSize:"15px",children:["Created Date: ",Object(W.a)(t.original.createdDate)]}),Object(p.jsxs)(m.a,{fontSize:"15px",children:["Modified Date: ",Object(W.a)(t.original.modifiedDate)]})]})},renderBottomToolbarCustomActions:function(){return Object(p.jsx)(S,{paramsPageDevices:y,totalPage:T,handleMoveToPrePage:X,handleMoveToNextPage:Q})},renderTopToolbarCustomActions:function(){return Object(p.jsx)(F,{searchTerm:J,setSearchTerm:G,setResettable:A,handleSearchMode:Z,handleResetTable:Y})}})})})},U=a(125);t.default=function(){return Object(p.jsxs)(U.a,{children:[Object(p.jsx)(n.a,{routeSegments:[{name:"Devices Manager",path:"/tms-devices/devices-management"},{name:"Devices",path:"/tms-devices/devices-management"}]}),Object(p.jsx)(i.a,{spacing:3,children:Object(p.jsx)(q,{})})]})}}}]);
//# sourceMappingURL=19.8c7273a5.chunk.js.map